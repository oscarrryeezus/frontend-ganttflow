{"version":3,"file":"ej2-dropdowns.umd.min.js","sources":["../src/common/incremental-search.js","../src/common/highlight-search.js","../src/multi-select/float-label.js","../src/common/virtual-scroll.js","../src/drop-down-base/drop-down-base.js","../src/drop-down-list/drop-down-list.js","../src/drop-down-tree/drop-down-tree.js","../src/combo-box/combo-box.js","../src/auto-complete/auto-complete.js","../src/multi-select/multi-select.js","../src/multi-select/checkbox-selection.js","../src/list-box/list-box.js","../src/mention/mention.js"],"sourcesContent":["/**\n * IncrementalSearch module file\n */\nvar queryString = '';\nvar prevString = '';\nvar tempQueryString = '';\nvar matches = [];\nvar activeClass = 'e-active';\nvar prevElementId = '';\n/**\n * Search and focus the list item based on key code matches with list text content\n *\n * @param  { number } keyCode - Specifies the key code which pressed on keyboard events.\n * @param  { HTMLElement[]} items - Specifies an array of HTMLElement, from which matches find has done.\n * @param { number } selectedIndex - Specifies the selected item in list item, so that search will happen\n * after selected item otherwise it will do from initial.\n * @param  { boolean } ignoreCase - Specifies the case consideration when search has done.\n * @param {string} elementId - Specifies the list element ID.\n * @returns {Element} Returns list item based on key code matches with list text content.\n */\nexport function incrementalSearch(keyCode, items, selectedIndex, ignoreCase, elementId, queryStringUpdated, currentValue, isVirtual, refresh) {\n    if (!queryStringUpdated || queryString === '') {\n        if (tempQueryString != '') {\n            queryString = tempQueryString + String.fromCharCode(keyCode);\n            tempQueryString = '';\n        }\n        else {\n            queryString += String.fromCharCode(keyCode);\n        }\n    }\n    else if (queryString == prevString) {\n        tempQueryString = String.fromCharCode(keyCode);\n    }\n    if (isVirtual) {\n        setTimeout(function () {\n            tempQueryString = '';\n        }, 700);\n        setTimeout(function () {\n            queryString = '';\n        }, 3000);\n    }\n    else {\n        setTimeout(function () {\n            queryString = '';\n        }, 1000);\n    }\n    var index;\n    queryString = ignoreCase ? queryString.toLowerCase() : queryString;\n    if (prevElementId === elementId && prevString === queryString && !refresh) {\n        for (var i = 0; i < matches.length; i++) {\n            if (matches[i].classList.contains(activeClass)) {\n                index = i;\n                break;\n            }\n            if (currentValue && matches[i].textContent.toLowerCase() === currentValue.toLowerCase()) {\n                index = i;\n                break;\n            }\n        }\n        index = index + 1;\n        if (isVirtual) {\n            return matches[index] && matches.length - 1 != index ? matches[index] : matches[matches.length];\n        }\n        return matches[index] ? matches[index] : matches[0];\n    }\n    else {\n        var listItems = items;\n        var strLength = queryString.length;\n        var text = void 0;\n        var item = void 0;\n        selectedIndex = selectedIndex ? selectedIndex + 1 : 0;\n        var i = selectedIndex;\n        matches = [];\n        do {\n            if (i === listItems.length) {\n                i = -1;\n            }\n            if (i === -1) {\n                index = 0;\n            }\n            else {\n                index = i;\n            }\n            item = listItems[index];\n            text = ignoreCase ? item.innerText.toLowerCase() : item.innerText;\n            if (text.substr(0, strLength) === queryString) {\n                matches.push(listItems[index]);\n            }\n            i++;\n        } while (i !== selectedIndex);\n        prevString = queryString;\n        prevElementId = elementId;\n        if (isVirtual) {\n            var indexUpdated = false;\n            for (var i_1 = 0; i_1 < matches.length; i_1++) {\n                if (currentValue && matches[i_1].textContent.toLowerCase() === currentValue.toLowerCase()) {\n                    index = i_1;\n                    indexUpdated = true;\n                    break;\n                }\n            }\n            if (currentValue && indexUpdated) {\n                index = index + 1;\n            }\n            return matches[index] ? matches[index] : matches[0];\n        }\n        return matches[0];\n    }\n}\n/**\n * Search the list item based on given input value matches with search type.\n *\n * @param {string} inputVal - Specifies the given input value.\n * @param {HTMLElement[]} items - Specifies the list items.\n * @param {SearchType} searchType - Specifies the filter type.\n * @param {boolean} ignoreCase - Specifies the case sensitive option for search operation.\n * @returns {Element | number} Returns the search matched items.\n */\nexport function Search(inputVal, items, searchType, ignoreCase, dataSource, fields, type) {\n    var listItems = items;\n    ignoreCase = ignoreCase !== undefined && ignoreCase !== null ? ignoreCase : true;\n    var itemData = { item: null, index: null };\n    if (inputVal && inputVal.length) {\n        var strLength = inputVal.length;\n        var queryStr = ignoreCase ? inputVal.toLocaleLowerCase() : inputVal;\n        queryStr = escapeCharRegExp(queryStr);\n        var _loop_1 = function (i, itemsData) {\n            var item = itemsData[i];\n            var text = void 0;\n            var filterValue;\n            if (items && dataSource) {\n                var checkField_1 = item;\n                var fieldValue_1 = fields.text.split('.');\n                dataSource.filter(function (data) {\n                    Array.prototype.slice.call(fieldValue_1).forEach(function (value) {\n                        /* eslint-disable security/detect-object-injection */\n                        if (type === 'object' && (!data.isHeader && checkField_1.textContent.toString().indexOf(data[value]) !== -1) && checkField_1.getAttribute('data-value') === data[fields.value].toString() || type === 'string' && checkField_1.textContent.toString().indexOf(data) !== -1) {\n                            filterValue = type === 'object' ? data[value] : data;\n                        }\n                    });\n                });\n            }\n            text = dataSource && filterValue ? (ignoreCase ? filterValue.toString().toLocaleLowerCase() : filterValue).replace(/^\\s+|\\s+$/g, '') : (ignoreCase ? item.textContent.toLocaleLowerCase() : item.textContent).replace(/^\\s+|\\s+$/g, '');\n            /* eslint-disable security/detect-non-literal-regexp */\n            if ((searchType === 'Equal' && text === queryStr) || (searchType === 'StartsWith' && text.substr(0, strLength) === queryStr) || (searchType === 'EndsWith' && text.substr(text.length - queryStr.length) === queryStr) || (searchType === 'Contains' && new RegExp(queryStr, \"g\").test(text))) {\n                itemData.item = item;\n                itemData.index = i;\n                return { value: { item: item, index: i } };\n            }\n        };\n        for (var i = 0, itemsData = listItems; i < itemsData.length; i++) {\n            var state_1 = _loop_1(i, itemsData);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return itemData;\n        /* eslint-enable security/detect-non-literal-regexp */\n    }\n    return itemData;\n}\n/* eslint-enable security/detect-object-injection */\nexport function escapeCharRegExp(value) {\n    return value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nexport function resetIncrementalSearchValues(elementId) {\n    if (prevElementId === elementId) {\n        prevElementId = '';\n        prevString = '';\n        queryString = '';\n        matches = [];\n    }\n}\n","/**\n * Function helps to find which highlightSearch is to call based on your data.\n *\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n * @returns {void}\n */\nexport function highlightSearch(element, query, ignoreCase, type) {\n    if (query === '') {\n        return;\n    }\n    else {\n        var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n        // eslint-disable-next-line\n        query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n        var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ?\n            '(' + query + ')$' : '(' + query + ')';\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n    }\n}\n/* eslint-enable jsdoc/require-param, valid-jsdoc */\n/**\n *\n * @param {HTMLElement} element - Specifies the element.\n * @param {RegExp} pattern - Specifies the regex to match the searched text.\n * @returns {void}\n */\nfunction findTextNode(element, pattern) {\n    for (var index = 0; element.childNodes && (index < element.childNodes.length); index++) {\n        if (element.childNodes[index].nodeType === 3 && element.childNodes[index].textContent.trim() !== '') {\n            var value = element.childNodes[index].nodeValue.trim().replace(pattern, '<span class=\"e-highlight\">$1</span>');\n            element.childNodes[index].nodeValue = '';\n            element.innerHTML = element.innerHTML.trim() + value;\n            break;\n        }\n        else {\n            findTextNode(element.childNodes[index], pattern);\n        }\n    }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n *\n * @param  {HTMLElement} content - Specifies an content element.\n * @returns {void}\n */\nexport function revertHighlightSearch(content) {\n    var contentElement = content.querySelectorAll('.e-highlight');\n    for (var i = contentElement.length - 1; i >= 0; i--) {\n        var parent_1 = contentElement[i].parentNode;\n        var text = document.createTextNode(contentElement[i].textContent);\n        parent_1.replaceChild(text, contentElement[i]);\n    }\n}\n","/**\n * FloatLable Moduel\n * Specifies whether to display the floating label above the input element.\n */\nimport { removeClass, addClass, detach } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, createElement, getUniqueID } from '@syncfusion/ej2-base';\nvar FLOATLINE = 'e-float-line';\nvar FLOATTEXT = 'e-float-text';\nvar LABELTOP = 'e-label-top';\nvar LABELBOTTOM = 'e-label-bottom';\n/* eslint-disable valid-jsdoc */\n/**\n * Function to create Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLElement} element - The given html element.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function createFloatLabel(overAllWrapper, searchWrapper, element, inputElement, value, floatLabelType, placeholder) {\n    var floatLinelement = createElement('span', { className: FLOATLINE });\n    var floatLabelElement = createElement('label', { className: FLOATTEXT });\n    var id = element.getAttribute('id') ? element.getAttribute('id') : getUniqueID('ej2_multiselect');\n    element.id = id;\n    if (!isNullOrUndefined(element.id) && element.id !== '') {\n        floatLabelElement.id = 'label_' + element.id.replace(/ /g, '_');\n        attributes(inputElement, { 'aria-labelledby': floatLabelElement.id });\n    }\n    if (!isNullOrUndefined(inputElement.placeholder) && inputElement.placeholder !== '') {\n        floatLabelElement.innerText = encodePlaceholder(inputElement.placeholder);\n        inputElement.removeAttribute('placeholder');\n    }\n    floatLabelElement.innerText = encodePlaceholder(placeholder);\n    searchWrapper.appendChild(floatLinelement);\n    searchWrapper.appendChild(floatLabelElement);\n    overAllWrapper.classList.add('e-float-input');\n    updateFloatLabelState(value, floatLabelElement);\n    if (floatLabelType === 'Always') {\n        if (floatLabelElement.classList.contains(LABELBOTTOM)) {\n            removeClass([floatLabelElement], LABELBOTTOM);\n        }\n        addClass([floatLabelElement], LABELTOP);\n    }\n}\n/**\n * Function to update status of the Float Label element.\n *\n * @param {string[] | number[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLElement} label - Float label element.\n */\nexport function updateFloatLabelState(value, label) {\n    if (value && value.length > 0) {\n        addClass([label], LABELTOP);\n        removeClass([label], LABELBOTTOM);\n    }\n    else {\n        removeClass([label], LABELTOP);\n        addClass([label], LABELBOTTOM);\n    }\n}\n/**\n * Function to remove Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {HTMLElement} searchWrapper - Search wrapper of multiselect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function removeFloating(overAllWrapper, componentWrapper, searchWrapper, inputElement, value, floatLabelType, placeholder) {\n    var placeholderElement = componentWrapper.querySelector('.' + FLOATTEXT);\n    var floatLine = componentWrapper.querySelector('.' + FLOATLINE);\n    var placeholderText;\n    if (!isNullOrUndefined(placeholderElement)) {\n        placeholderText = placeholderElement.innerText;\n        detach(searchWrapper.querySelector('.' + FLOATTEXT));\n        setPlaceHolder(value, inputElement, placeholderText);\n        if (!isNullOrUndefined(floatLine)) {\n            detach(searchWrapper.querySelector('.' + FLOATLINE));\n        }\n    }\n    else {\n        placeholderText = (placeholder !== null) ? placeholder : '';\n        setPlaceHolder(value, inputElement, placeholderText);\n    }\n    overAllWrapper.classList.remove('e-float-input');\n}\n/**\n * Function to set the placeholder to the element.\n *\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {HTMLInputElement} inputElement - Specify the input wrapper.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function setPlaceHolder(value, inputElement, placeholder) {\n    if (value && value.length) {\n        inputElement.placeholder = '';\n    }\n    else {\n        inputElement.placeholder = placeholder;\n    }\n}\n/**\n * Function for focusing the Float Element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n */\nexport function floatLabelFocus(overAllWrapper, componentWrapper) {\n    overAllWrapper.classList.add('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (!isNullOrUndefined(label)) {\n        addClass([label], LABELTOP);\n        if (label.classList.contains(LABELBOTTOM)) {\n            removeClass([label], LABELBOTTOM);\n        }\n    }\n}\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/**\n * Function to focus the Float Label element.\n *\n * @param {HTMLDivElement} overAllWrapper - Overall wrapper of multiselect.\n * @param {HTMLDivElement} componentWrapper - Wrapper element of multiselect.\n * @param {number[] | string[] | boolean[]} value - Value of the MultiSelect.\n * @param {FloatLabelType} floatLabelType - Specify the FloatLabel Type.\n * @param {string} placeholder - Specify the PlaceHolder text.\n */\nexport function floatLabelBlur(overAllWrapper, componentWrapper, value, floatLabelType, placeholder) {\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    overAllWrapper.classList.remove('e-input-focus');\n    var label = componentWrapper.querySelector('.' + FLOATTEXT);\n    if (value && value.length <= 0 && floatLabelType === 'Auto' && !isNullOrUndefined(label)) {\n        if (label.classList.contains(LABELTOP)) {\n            removeClass([label], LABELTOP);\n        }\n        addClass([label], LABELBOTTOM);\n    }\n}\nexport function encodePlaceholder(placeholder) {\n    var result = '';\n    if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n        var spanElement = document.createElement('span');\n        spanElement.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n        var hiddenInput = (spanElement.children[0]);\n        result = hiddenInput.placeholder;\n    }\n    return result;\n}\n/* eslint-enable valid-jsdoc */\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { EventHandler, Browser, select, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { debounce, Touch } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        var _this = this;\n        this.sentinelInfo = {\n            'up': {\n                check: function (rect, info) {\n                    var top = rect.top - _this.containerElementRect.top;\n                    info.entered = top >= 0;\n                    return top + (_this.parent.listItemHeight * _this.parent.virtualItemCount / 2) >= 0;\n                },\n                axis: 'Y'\n            },\n            'down': {\n                check: function (rect, info) {\n                    var cHeight = _this.parent.popupContentElement.clientHeight;\n                    var top = rect.bottom;\n                    info.entered = rect.bottom <= _this.containerElementRect.bottom;\n                    return top - (_this.parent.listItemHeight * _this.parent.virtualItemCount / 2) <= _this.parent.listItemHeight * _this.parent.virtualItemCount / 2;\n                }, axis: 'Y'\n            }\n        };\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    VirtualScroll.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('observe', this.observe, this);\n        this.parent.on('setGeneratedData', this.setGeneratedData, this);\n        this.parent.on('dataProcessAsync', this.dataProcessAsync, this);\n        this.parent.on('setCurrentViewDataAsync', this.setCurrentViewDataAsync, this);\n        this.parent.on('bindScrollEvent', this.bindScrollEvent, this);\n    };\n    VirtualScroll.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('observe', this.observe);\n        this.parent.off('setGeneratedData', this.setGeneratedData);\n        this.parent.off('dataProcessAsync', this.dataProcessAsync);\n        this.parent.off('setCurrentViewDataAsync', this.setCurrentViewDataAsync);\n        this.parent.off('bindScrollEvent', this.bindScrollEvent);\n    };\n    VirtualScroll.prototype.bindScrollEvent = function (component) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.component = component.component;\n        this.observe(function (scrollArgs) { return _this.scrollListener(scrollArgs); });\n    };\n    VirtualScroll.prototype.observe = function (callback) {\n        this.containerElementRect = this.parent.popupContentElement.getBoundingClientRect();\n        EventHandler.add(this.parent.popupContentElement, 'wheel mousedown', this.popupScrollHandler, this);\n        this.touchModule = new Touch(this.parent.popupContentElement, {\n            scroll: this.popupScrollHandler.bind(this)\n        });\n        EventHandler.add(this.parent.popupContentElement, 'scroll', this.virtualScrollHandler(callback), this);\n    };\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'VirtualScroll';\n    };\n    VirtualScroll.prototype.popupScrollHandler = function (e) {\n        this.parent.isMouseScrollAction = true;\n        this.parent.isPreventScrollAction = false;\n    };\n    VirtualScroll.prototype.getPageQuery = function (query, virtualStartIndex, virtualEndIndex) {\n        if (virtualEndIndex !== 0 && !this.parent.allowFiltering && this.component !== 'autocomplete') {\n            query = query.skip(virtualStartIndex);\n        }\n        return query;\n    };\n    VirtualScroll.prototype.setGeneratedData = function (qStartIndex, recentlyGeneratedData) {\n        var loopIteration = 0;\n        var endIndex = this.parent.listData.length + this.parent.virtualItemStartIndex;\n        for (var i = this.parent.virtualItemStartIndex; i < endIndex; i++) {\n            var alreadyAddedData = this.parent.generatedDataObject[i];\n            if (!alreadyAddedData) {\n                if (recentlyGeneratedData !== null && this.parent.listData.slice(loopIteration, loopIteration + 1).length > 0) {\n                    var slicedData = this.parent.listData.slice(loopIteration, loopIteration + 1);\n                    if (slicedData.length > 0) {\n                        // Safely assign slicedData to this.parent.generatedDataObject[i]\n                        this.parent.generatedDataObject[i] = slicedData;\n                    }\n                }\n            }\n            loopIteration++;\n        }\n    };\n    VirtualScroll.prototype.generateAndExecuteQueryAsync = function (query, virtualItemStartIndex, virtualItemEndIndex, isQueryGenerated) {\n        if (virtualItemStartIndex === void 0) { virtualItemStartIndex = 0; }\n        if (virtualItemEndIndex === void 0) { virtualItemEndIndex = 0; }\n        if (isQueryGenerated === void 0) { isQueryGenerated = false; }\n        var dataSource = this.parent.dataSource;\n        if (!isQueryGenerated) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (!isNullOrUndefined(this.parent.query)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var newQuery = this.removeSkipAndTakeEvents(this.parent.query.clone());\n                query = this.getPageQuery(newQuery, virtualItemStartIndex, virtualItemEndIndex);\n            }\n            else {\n                query = this.getPageQuery(query, virtualItemStartIndex, virtualItemEndIndex);\n            }\n        }\n        var tempCustomFilter = this.parent.isCustomFilter;\n        if (this.component === 'combobox') {\n            var totalData = 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                totalData = this.parent.dataSource.dataSource.json.length;\n            }\n            else if (this.parent.dataSource && this.parent.dataSource.length > 0) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                totalData = this.parent.dataSource.length;\n            }\n            if (totalData > 0) {\n                this.parent.isCustomFilter = (totalData == this.parent.totalItemCount && this.parent.queryString != this.parent.typedString) ? true : this.parent.isCustomFilter;\n            }\n        }\n        this.parent.resetList(dataSource, this.parent.fields, query);\n        this.parent.isCustomFilter = tempCustomFilter;\n    };\n    VirtualScroll.prototype.removeSkipAndTakeEvents = function (query) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        query.queries = query.queries.filter(function (event) {\n            return event.fn !== 'onSkip' && event.fn !== 'onTake';\n        });\n        return query;\n    };\n    VirtualScroll.prototype.setCurrentViewDataAsync = function (component) {\n        // eslint-disable-next-line\n        var currentData = [];\n        var isResetListCalled = false;\n        var isListUpdated = true;\n        if (isNullOrUndefined(this.component)) {\n            this.component = component.component;\n        }\n        var endIndex = this.parent.viewPortInfo.endIndex;\n        if (this.component === 'multiselect' && this.parent.mode === 'CheckBox' && this.parent.value && Array.isArray(this.parent.value) && this.parent.value.length > 0 && this.parent.enableSelectionOrder) {\n            if (this.parent.viewPortInfo.startIndex < this.parent.value.length) {\n                endIndex = this.parent.viewPortInfo.endIndex - this.parent.value.length;\n                if (this.parent.viewPortInfo.startIndex === 0) {\n                    this.parent.updateVirtualReOrderList(true);\n                    if (this.parent.value.length < this.parent.itemCount) {\n                        var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                        if (oldUlElement) {\n                            this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                        }\n                        var query = this.parent.getForQuery(this.parent.value).clone();\n                        query = query.skip(0).take(this.parent.itemCount - (this.parent.value.length - this.parent.viewPortInfo.startIndex));\n                        this.parent.appendUncheckList = true;\n                        this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                        isListUpdated = false;\n                        this.parent.appendUncheckList = false;\n                        isListUpdated = false;\n                    }\n                    else {\n                        var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                        if (oldUlElement) {\n                            this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                        }\n                    }\n                    isListUpdated = false;\n                }\n                else if (this.parent.viewPortInfo.startIndex != 0) {\n                    this.parent.updateVirtualReOrderList(true);\n                    var oldUlElement = this.parent.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                    if (oldUlElement) {\n                        this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(oldUlElement);\n                    }\n                    isListUpdated = false;\n                }\n                if (this.parent.viewPortInfo.startIndex != 0 && this.parent.viewPortInfo.startIndex - this.parent.value.length != this.parent.itemCount && (this.parent.viewPortInfo.startIndex + this.parent.itemCount > this.parent.value.length)) {\n                    var query = this.parent.getForQuery(this.parent.value).clone();\n                    query = query.skip(0).take(this.parent.itemCount - (this.parent.value.length - this.parent.viewPortInfo.startIndex));\n                    this.parent.appendUncheckList = true;\n                    this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                    isListUpdated = false;\n                    this.parent.appendUncheckList = false;\n                }\n            }\n            else {\n                var reOrderList = this.parent.list.querySelectorAll('.e-reorder')[0];\n                if (this.parent.list.querySelector('.e-virtual-ddl-content') && reOrderList) {\n                    this.parent.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList);\n                }\n                var query = this.parent.getForQuery(this.parent.value).clone();\n                if (!this.parent.allowFiltering) { //need to check with allowFiltering false\n                    var skipvalue = this.parent.viewPortInfo.startIndex - this.parent.value.length >= 0 ? this.parent.viewPortInfo.startIndex - this.parent.value.length : 0;\n                    query = query.skip(skipvalue);\n                }\n                this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                isListUpdated = false;\n            }\n            this.parent.totalItemsCount();\n        }\n        if (isListUpdated) {\n            for (var i = this.parent.viewPortInfo.startIndex; i < endIndex; i++) {\n                var index = i;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var alreadyAddedData = this.parent.generatedDataObject[index];\n                if (this.component === 'multiselect' && this.parent.hideSelectedItem) {\n                    if (alreadyAddedData) {\n                        var value = getValue(this.parent.fields.value, alreadyAddedData[0]);\n                        if (this.parent.value && value != null && Array.isArray(this.parent.value) && this.parent.value.length > 0 && this.parent.value.indexOf(value) < 0) {\n                            var query = this.parent.getForQuery(this.parent.value).clone();\n                            if (this.parent.viewPortInfo.endIndex == this.parent.totalItemCount + this.parent.value.length && this.parent.hideSelectedItem) {\n                                query = query.skip(this.parent.totalItemCount - this.parent.itemCount);\n                            }\n                            else {\n                                query = query.skip(this.parent.viewPortInfo.startIndex);\n                            }\n                            this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                            isResetListCalled = true;\n                            break;\n                        }\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        else if ((this.parent.value === null || (this.parent.value && this.parent.value.length === 0))) {\n                            currentData.push(alreadyAddedData[0]);\n                        }\n                    }\n                    if (index === endIndex - 1) {\n                        if (currentData.length != this.parent.itemCount) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            if (this.parent.hideSelectedItem) {\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                var query = this.parent.getForQuery(this.parent.value).clone();\n                                if (this.parent.viewPortInfo.endIndex == this.parent.totalItemCount + this.parent.value.length && this.parent.hideSelectedItem) {\n                                    query = query.skip(this.parent.totalItemCount - this.parent.itemCount);\n                                }\n                                else {\n                                    query = query.skip(this.parent.viewPortInfo.startIndex);\n                                }\n                                this.parent.resetList(this.parent.dataSource, this.parent.fields, query);\n                                isResetListCalled = true;\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (alreadyAddedData) {\n                        currentData.push(alreadyAddedData[0]);\n                    }\n                }\n            }\n        }\n        if (!isResetListCalled && isListUpdated) {\n            if (this.component === 'multiselect' && this.parent.allowCustomValue && this.parent.viewPortInfo.startIndex == 0 && this.parent.virtualCustomData) {\n                currentData.splice(0, 0, this.parent.virtualCustomData);\n            }\n            var totalData = [];\n            if (this.component === 'multiselect' && this.parent.allowCustomValue && this.parent.viewPortInfo.endIndex == this.parent.totalItemCount) {\n                if (this.parent.virtualCustomSelectData && this.parent.virtualCustomSelectData.length > 0) {\n                    totalData = currentData.concat(this.parent.virtualCustomSelectData);\n                    currentData = totalData;\n                }\n            }\n            var ulElement = this.parent.renderItems(currentData, this.parent.fields, this.component === 'multiselect' && this.parent.mode === 'CheckBox');\n        }\n        if (this.component === 'multiselect') {\n            this.parent.updatevirtualizationList();\n        }\n        this.parent.getSkeletonCount();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualTrackElement = this.parent.list.getElementsByClassName('e-virtual-ddl')[0];\n        if (virtualTrackElement) {\n            (virtualTrackElement).style = this.parent.GetVirtualTrackHeight();\n        }\n        else if (!virtualTrackElement && this.parent.skeletonCount > 0 && this.parent.popupWrapper) {\n            var virualElement = this.parent.createElement('div', {\n                id: this.parent.element.id + '_popup', className: 'e-virtual-ddl', styles: this.parent.GetVirtualTrackHeight()\n            });\n            this.parent.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        this.parent.UpdateSkeleton();\n        this.parent.liCollections = this.parent.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var virtualContentElement = this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0];\n        if (virtualContentElement) {\n            (virtualContentElement).style = this.parent.getTransformValues();\n        }\n        if (this.parent.fields.groupBy) {\n            this.parent.scrollStop();\n        }\n        if (this.parent.keyCode == 40 && this.parent.isScrollChanged && this.parent.hideSelectedItem && !isNullOrUndefined(this.parent.currentFocuedListElement)) {\n            var currentSelectElem = this.parent.getElementByValue(this.parent.currentFocuedListElement.getAttribute('data-value'));\n            this.parent.addListFocus(currentSelectElem);\n            this.parent.isScrollChanged = false;\n        }\n    };\n    VirtualScroll.prototype.generateQueryAndSetQueryIndexAsync = function (query, isPopupOpen) {\n        var isStartIndexInitialised = false;\n        var queryStartIndex = 0;\n        var queryEndIndex = 0;\n        var vEndIndex = this.parent.viewPortInfo.endIndex;\n        if (!isPopupOpen && vEndIndex !== 0) {\n            for (var i = this.parent.viewPortInfo.startIndex; i <= vEndIndex; i++) {\n                if (!(i in this.parent.generatedDataObject)) {\n                    if (!isStartIndexInitialised) {\n                        isStartIndexInitialised = true;\n                        queryStartIndex = queryEndIndex = i;\n                    }\n                    else {\n                        queryEndIndex = i === vEndIndex ? i : i + 1;\n                    }\n                }\n            }\n        }\n        if (isStartIndexInitialised && !((this.parent.totalItemCount == queryStartIndex) && (this.parent.totalItemCount == queryEndIndex))) {\n            this.parent.virtualItemStartIndex = queryStartIndex;\n            this.parent.virtualItemEndIndex = queryEndIndex;\n            this.generateAndExecuteQueryAsync(query, queryStartIndex, queryEndIndex);\n            if (this.component === 'multiselect' && this.parent.hideSelectedItem && this.parent.value && Array.isArray(this.parent.value) && this.parent.value.length > 0) {\n                this.parent.totalItemsCount();\n            }\n            if (this.component === 'multiselect' && this.parent.virtualItemStartIndex === this.parent.virtualItemEndIndex) {\n                this.parent.virtualItemStartIndex = this.parent.viewPortInfo.startIndex;\n                this.parent.virtualItemEndIndex = this.parent.viewPortInfo.endIndex;\n            }\n        }\n        this.setCurrentViewDataAsync();\n    };\n    VirtualScroll.prototype.dataProcessAsync = function (isOpenPopup) {\n        this.parent.selectedValueInfo = null;\n        this.parent.virtualItemStartIndex = this.parent.viewPortInfo.startIndex;\n        this.parent.virtualItemEndIndex = this.parent.viewPortInfo.endIndex;\n        this.generateQueryAndSetQueryIndexAsync(new Query(), isOpenPopup);\n    };\n    VirtualScroll.prototype.virtualScrollRefreshAsync = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.parent.isCustomFilter = (!(this.parent.isTyped || (this.component === 'combobox' && this.parent.allowFiltering && this.parent.queryString != this.parent.typedString) || (!isNullOrUndefined(this.parent.filterInput) && !isNullOrUndefined(this.parent.filterInput.value) && this.parent.filterInput.value !== '') && this.component !== 'combobox') && !(this.component === 'autocomplete' && this.parent.value != null)) || this.parent.isCustomFilter;\n                        if (this.parent.allowFiltering || this.component === 'autocomplete') {\n                            if (!isNullOrUndefined(this.parent.typedString) && !(this.component === 'combobox' && !isNullOrUndefined(this.parent.typedString) && this.parent.allowFiltering)) {\n                                if (this.parent.viewPortInfo.endIndex >= this.parent.dataCount) {\n                                    this.parent.viewPortInfo.endIndex = this.parent.dataCount;\n                                }\n                                if (this.parent.viewPortInfo.startIndex >= this.parent.dataCount) {\n                                    this.parent.viewPortInfo.startIndex = this.parent.dataCount - this.parent.itemCount;\n                                }\n                            }\n                            else {\n                                this.parent.getSkeletonCount(true);\n                                if (this.component === 'combobox') {\n                                    this.parent.skeletonCount = this.parent.totalItemCount != 0 && this.parent.totalItemCount < (this.parent.itemCount * 2) ? 0 : this.parent.skeletonCount;\n                                }\n                            }\n                        }\n                        return [4 /*yield*/, this.dataProcessAsync()];\n                    case 1:\n                        _a.sent();\n                        if (this.parent.keyboardEvent != null) {\n                            this.parent.handleVirtualKeyboardActions(this.parent.keyboardEvent, this.parent.pageCount);\n                        }\n                        this.parent.isCustomFilter = false;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    VirtualScroll.prototype.scrollListener = function (scrollArgs) {\n        var _this = this;\n        if (!this.parent.isPreventScrollAction && !this.parent.isVirtualTrackHeight) {\n            this.parent.preventSetCurrentData = false;\n            var info = scrollArgs.sentinel;\n            var pStartIndex = this.parent.previousStartIndex;\n            this.parent.viewPortInfo = this.getInfoFromView(scrollArgs.direction, info, scrollArgs.offset, false);\n            this.parent.isUpwardScrolling = false;\n            if (this.parent.previousStartIndex !== pStartIndex && !this.parent.isKeyBoardAction) {\n                this.parent.isScrollActionTriggered = false;\n                this.parent.currentPageNumber = this.parent.viewPortInfo.currentPageNumber;\n                this.parent.virtualListInfo = __assign({}, this.parent.viewPortInfo);\n                this.parent.isPreventKeyAction = true;\n                this.parent.isVirtualScrolling = true;\n                setTimeout(function () {\n                    _this.parent.pageCount = _this.parent.getPageCount();\n                    _this.virtualScrollRefreshAsync().then(function () {\n                        if (_this.parent.popupObj) {\n                            _this.parent.list = _this.parent.popupObj.element.querySelector('.' + 'e-content') || select('.' + 'e-content');\n                            _this.parent.updateSelectionList();\n                            _this.parent.liCollections = _this.parent.getItems();\n                        }\n                        _this.parent.isKeyBoardAction = false;\n                        _this.parent.isVirtualScrolling = false;\n                        _this.parent.isPreventKeyAction = false;\n                    });\n                }, 5);\n            }\n            else if (this.parent.isScrollActionTriggered) {\n                this.parent.isPreventKeyAction = false;\n                this.parent.isScrollActionTriggered = false;\n                var virtualListCount = this.parent.list.querySelectorAll('.e-virtual-list').length;\n                var listElement = this.parent.list.querySelector('.' + 'e-list-item');\n                var translateY = scrollArgs.offset.top - (listElement.offsetHeight * virtualListCount);\n                this.parent.list.getElementsByClassName('e-virtual-ddl-content')[0].style.transform = \"translate(0px,\" + translateY + \"px)\";\n            }\n            this.parent.previousInfo = this.parent.viewPortInfo;\n        }\n    };\n    VirtualScroll.prototype.getInfoFromView = function (direction, info, e, isscrollAction) {\n        var infoType = {\n            direction: direction, sentinelInfo: info, offsets: e,\n            startIndex: this.parent.previousStartIndex, endIndex: this.parent.previousEndIndex\n        };\n        var vHeight = this.parent.popupContentElement.getBoundingClientRect().height;\n        //Row Start and End Index calculation\n        var rowHeight = this.parent.listItemHeight;\n        var exactTopIndex = e.top / rowHeight;\n        var infoViewIndices = vHeight / rowHeight;\n        var exactEndIndex = exactTopIndex + infoViewIndices;\n        var pageSizeBy4 = this.parent.virtualItemCount / 4;\n        var totalItemCount = this.parent.totalItemCount;\n        if (infoType.direction === 'down') {\n            var sIndex = Math.round(exactEndIndex) - Math.round((pageSizeBy4));\n            if (isNullOrUndefined(infoType.startIndex) || (exactEndIndex >\n                (infoType.startIndex + Math.round((this.parent.virtualItemCount / 2 + pageSizeBy4)))\n                && infoType.endIndex !== totalItemCount)) {\n                infoType.startIndex = sIndex >= 0 ? Math.round(sIndex) : 0;\n                infoType.startIndex = infoType.startIndex > exactTopIndex ? Math.floor(exactTopIndex) : infoType.startIndex;\n                var eIndex = infoType.startIndex + this.parent.virtualItemCount;\n                infoType.startIndex = eIndex < exactEndIndex ? (Math.ceil(exactEndIndex) - this.parent.virtualItemCount)\n                    : infoType.startIndex;\n                infoType.endIndex = eIndex < totalItemCount ? eIndex : totalItemCount;\n                infoType.startIndex = eIndex >= totalItemCount ? (infoType.endIndex - this.parent.virtualItemCount > 0 ? infoType.endIndex - this.parent.virtualItemCount : 0) : infoType.startIndex;\n                infoType.currentPageNumber = Math.ceil(infoType.endIndex / this.parent.virtualItemCount);\n            }\n        }\n        else if (infoType.direction === 'up') {\n            if (infoType.startIndex && infoType.endIndex) {\n                var loadAtIndex = Math.round(((infoType.startIndex * rowHeight) + (pageSizeBy4 * rowHeight)) / rowHeight);\n                if (exactTopIndex < loadAtIndex) {\n                    var idxAddedToExactTop = (pageSizeBy4) > infoViewIndices ? pageSizeBy4 :\n                        (infoViewIndices + infoViewIndices / 4);\n                    var eIndex = Math.round(exactTopIndex + idxAddedToExactTop);\n                    infoType.endIndex = (eIndex < totalItemCount || this.component == \"multiselect\") ? eIndex : totalItemCount;\n                    var sIndex = infoType.endIndex - this.parent.virtualItemCount;\n                    infoType.startIndex = sIndex > 0 ? sIndex : 0;\n                    infoType.endIndex = sIndex < 0 ? this.parent.virtualItemCount : infoType.endIndex;\n                    infoType.currentPageNumber = Math.ceil(infoType.startIndex / this.parent.virtualItemCount);\n                }\n            }\n        }\n        if (!isscrollAction) {\n            this.parent.previousStartIndex = infoType.startIndex;\n            this.parent.startIndex = infoType.startIndex;\n            this.parent.previousEndIndex = infoType.endIndex;\n        }\n        else {\n            this.parent.scrollPreStartIndex = infoType.startIndex;\n        }\n        return infoType;\n    };\n    VirtualScroll.prototype.virtualScrollHandler = function (callback) {\n        var _this = this;\n        var delay = Browser.info.name === 'chrome' ? 200 : 100;\n        var prevTop = 0;\n        var debounced100 = debounce(callback, delay);\n        var debounced50 = debounce(callback, 50);\n        return function (e) {\n            var top = e.target.scrollTop;\n            var left = e.target.scrollLeft;\n            var direction = prevTop < top && !_this.parent.isUpwardScrolling ? 'down' : 'up';\n            prevTop = top;\n            var current = _this.sentinelInfo[direction];\n            var pstartIndex = _this.parent.scrollPreStartIndex;\n            var scrollOffsetargs = {\n                top: top,\n                left: left\n            };\n            if (_this.parent.list && _this.parent.list.querySelectorAll('.e-virtual-list').length > 0) {\n                var infoview = _this.getInfoFromView(direction, current, scrollOffsetargs, true);\n                if (_this.parent.scrollPreStartIndex != pstartIndex && !_this.parent.isPreventScrollAction) {\n                    _this.parent.isScrollActionTriggered = true;\n                    var virtualPoup = (_this.parent.list.querySelector('.e-virtual-ddl-content'));\n                    virtualPoup.style.transform = \"translate(0px,\" + top + \"px)\";\n                }\n            }\n            var debounceFunction = debounced100;\n            if (current.axis === 'X') {\n                debounceFunction = debounced50;\n            }\n            debounceFunction({ direction: direction, sentinel: current, offset: { top: top, left: left },\n                focusElement: document.activeElement });\n        };\n    };\n    VirtualScroll.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, addClass, append, Property, Event, L10n, compile } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, extend, removeClass, prepend, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, rippleEffect, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { DataManager, Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { select, selectAll } from '@syncfusion/ej2-base';\nimport { Skeleton } from '@syncfusion/ej2-notifications';\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"groupBy\", void 0);\n    __decorate([\n        Property()\n    ], FieldSettings.prototype, \"htmlAttributes\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\nexport var dropDownBaseClasses = {\n    root: 'e-dropdownbase',\n    rtl: 'e-rtl',\n    content: 'e-content',\n    selected: 'e-active',\n    hover: 'e-hover',\n    noData: 'e-nodata',\n    fixedHead: 'e-fixed-head',\n    focus: 'e-item-focus',\n    li: 'e-list-item',\n    group: 'e-list-group-item',\n    disabled: 'e-disabled',\n    grouping: 'e-dd-group',\n    virtualList: 'e-list-item e-virtual-list',\n};\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\nvar DISPLAYTEMPLATE_PROPERTY = 'DisplayTemplate';\nvar SPINNERTEMPLATE_PROPERTY = 'SpinnerTemplate';\nvar VALUETEMPLATE_PROPERTY = 'ValueTemplate';\nvar GROUPTEMPLATE_PROPERTY = 'GroupTemplate';\nvar HEADERTEMPLATE_PROPERTY = 'HeaderTemplate';\nvar FOOTERTEMPLATE_PROPERTY = 'FooterTemplate';\nvar NORECORDSTEMPLATE_PROPERTY = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE_PROPERTY = 'ActionFailureTemplate';\nvar HIDE_GROUPLIST = 'e-hide-group-header';\n/**\n * DropDownBase component will generate the list items based on given data and act as base class to drop-down related components\n */\nvar DropDownBase = /** @class */ (function (_super) {\n    __extends(DropDownBase, _super);\n    /**\n     * * Constructor for DropDownBase class\n     *\n     * @param {DropDownBaseModel} options - Specifies the DropDownBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isPreventChange = false;\n        _this.isDynamicDataChange = false;\n        _this.addedNewItem = false;\n        _this.isAddNewItemTemplate = false;\n        _this.isRequesting = false;\n        _this.isVirtualizationEnabled = false;\n        _this.isCustomDataUpdated = false;\n        _this.isAllowFiltering = false;\n        _this.virtualizedItemsCount = 0;\n        _this.isCheckBoxSelection = false;\n        _this.totalItemCount = 0;\n        _this.dataCount = 0;\n        _this.isRemoteDataUpdated = false;\n        _this.isIncrementalRequest = false;\n        _this.itemCount = 10;\n        _this.virtualListHeight = 0;\n        _this.isVirtualScrolling = false;\n        _this.isPreventScrollAction = false;\n        _this.scrollPreStartIndex = 0;\n        _this.isScrollActionTriggered = false;\n        _this.previousStartIndex = 0;\n        _this.isMouseScrollAction = false;\n        _this.isKeyBoardAction = false;\n        _this.isScrollChanged = false;\n        _this.isUpwardScrolling = false;\n        _this.startIndex = 0;\n        _this.currentPageNumber = 0;\n        _this.pageCount = 0;\n        _this.isPreventKeyAction = false;\n        _this.generatedDataObject = {};\n        _this.skeletonCount = 32;\n        _this.isVirtualTrackHeight = false;\n        _this.virtualSelectAll = false;\n        _this.incrementalQueryString = '';\n        _this.incrementalEndIndex = 0;\n        _this.incrementalStartIndex = 0;\n        _this.incrementalPreQueryString = '';\n        _this.isObjectCustomValue = false;\n        _this.appendUncheckList = false;\n        _this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        _this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        _this.selectedValueInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        return _this;\n    }\n    DropDownBase.prototype.getPropObject = function (prop, newProp, oldProp) {\n        var newProperty = new Object();\n        var oldProperty = new Object();\n        var propName = function (prop) {\n            return prop;\n        };\n        newProperty[propName(prop)] = newProp[propName(prop)];\n        oldProperty[propName(prop)] = oldProp[propName(prop)];\n        var data = new Object();\n        data.newProperty = newProperty;\n        data.oldProperty = oldProperty;\n        return data;\n    };\n    DropDownBase.prototype.getValueByText = function (text, ignoreCase, ignoreAccent) {\n        var value = null;\n        if (!isNullOrUndefined(this.listData)) {\n            if (ignoreCase) {\n                value = this.checkValueCase(text, true, ignoreAccent);\n            }\n            else {\n                value = this.checkValueCase(text, false, ignoreAccent);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkValueCase = function (text, ignoreCase, ignoreAccent, isTextByValue) {\n        var _this = this;\n        var value = null;\n        if (isTextByValue) {\n            value = text;\n        }\n        var dataSource = this.listData;\n        var fields = this.fields;\n        var type = this.typeOfData(dataSource).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n                var item = dataSource_1[_i];\n                if (!isNullOrUndefined(item)) {\n                    if (ignoreAccent) {\n                        value = this.checkingAccent(String(item), text, ignoreCase);\n                    }\n                    else {\n                        if (ignoreCase) {\n                            if (this.checkIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase);\n                            }\n                        }\n                        else {\n                            if (this.checkNonIgnoreCase(String(item), text)) {\n                                value = this.getItemValue(String(item), text, ignoreCase, isTextByValue);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (ignoreCase) {\n                dataSource.filter(function (item) {\n                    var itemValue = getValue(fields.value, item);\n                    if (!isNullOrUndefined(itemValue) && _this.checkIgnoreCase(getValue(fields.text, item).toString(), text)) {\n                        value = getValue(fields.value, item);\n                    }\n                });\n            }\n            else {\n                if (isTextByValue) {\n                    var compareValue_1 = null;\n                    compareValue_1 = value;\n                    dataSource.filter(function (item) {\n                        var itemValue = getValue(fields.value, item);\n                        if (!isNullOrUndefined(itemValue) && !isNullOrUndefined(value) && itemValue.toString() === compareValue_1.toString()) {\n                            value = getValue(fields.text, item);\n                        }\n                    });\n                }\n                else {\n                    dataSource.filter(function (item) {\n                        if (_this.checkNonIgnoreCase(getValue(fields.text, item), text)) {\n                            value = getValue(fields.value, item);\n                        }\n                    });\n                }\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkingAccent = function (item, text, ignoreCase) {\n        var dataItem = DataUtil.ignoreDiacritics(String(item));\n        var textItem = DataUtil.ignoreDiacritics(text.toString());\n        var value = null;\n        if (ignoreCase) {\n            if (this.checkIgnoreCase(dataItem, textItem)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        else {\n            if (this.checkNonIgnoreCase(String(item), text)) {\n                value = this.getItemValue(String(item), text, ignoreCase);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.checkIgnoreCase = function (item, text) {\n        return String(item).toLowerCase() === text.toString().toLowerCase() ? true : false;\n    };\n    DropDownBase.prototype.checkNonIgnoreCase = function (item, text) {\n        return String(item) === text.toString() ? true : false;\n    };\n    DropDownBase.prototype.getItemValue = function (dataItem, typedText, ignoreCase, isTextByValue) {\n        var value = null;\n        var dataSource = this.listData;\n        var type = this.typeOfData(dataSource).typeof;\n        if (isTextByValue) {\n            value = dataItem.toString();\n        }\n        else {\n            if (ignoreCase) {\n                value = type === 'string' ? String(dataItem) : this.getFormattedValue(String(dataItem));\n            }\n            else {\n                value = type === 'string' ? typedText : this.getFormattedValue(typedText);\n            }\n        }\n        return value;\n    };\n    DropDownBase.prototype.templateCompiler = function (baseTemplate) {\n        var checkTemplate = false;\n        if (typeof baseTemplate !== 'function' && baseTemplate) {\n            try {\n                checkTemplate = (selectAll(baseTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownBase.prototype.l10nUpdate = function (actionFailure) {\n        var ele = this.getModuleName() === 'listbox' ? this.ulElement : this.list;\n        if (this.noRecordsTemplate !== 'No records found' || this.actionFailureTemplate !== 'Request failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var compiledString = void 0;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            ele.innerHTML = '';\n            var tempaltecheck = this.templateCompiler(template);\n            if (typeof template !== 'function' && tempaltecheck) {\n                compiledString = compile(select(template, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(template);\n            }\n            var templateName = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var noDataElement = void 0;\n            if ((this.isReact) && typeof template === 'function') {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null);\n            }\n            else {\n                noDataElement = compiledString({}, this, templateName, templateId, this.isStringTemplate, null, ele);\n            }\n            if (noDataElement && noDataElement.length > 0) {\n                for (var i = 0; i < noDataElement.length; i++) {\n                    if (this.getModuleName() === 'listbox' && templateName === 'noRecordsTemplate') {\n                        if (noDataElement[i].nodeName === '#text') {\n                            var liElem = this.createElement('li');\n                            liElem.textContent = noDataElement[i].textContent;\n                            liElem.classList.add('e-list-nrt');\n                            liElem.setAttribute('role', 'option');\n                            ele.appendChild(liElem);\n                        }\n                        else {\n                            noDataElement[i].classList.add('e-list-nr-template');\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                    else {\n                        if (noDataElement[i] instanceof HTMLElement || noDataElement[i] instanceof Text) {\n                            ele.appendChild(noDataElement[i]);\n                        }\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No records found', actionFailureTemplate: 'Request failed' };\n            var componentLocale = new L10n(this.getLocaleName(), {}, this.locale);\n            if (componentLocale.getConstant('actionFailureTemplate') !== '' || componentLocale.getConstant('noRecordsTemplate') !== '') {\n                this.l10n = componentLocale;\n            }\n            else {\n                this.l10n = new L10n(this.getModuleName() === 'listbox' ? 'listbox' :\n                    this.getModuleName() === 'mention' ? 'mention' : 'dropdowns', l10nLocale, this.locale);\n            }\n            var content = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n            if (this.getModuleName() === 'listbox') {\n                var liElem = this.createElement('li');\n                liElem.textContent = content;\n                ele.appendChild(liElem);\n                liElem.classList.add('e-list-nrt');\n                liElem.setAttribute('role', 'option');\n            }\n            else {\n                if (!isNullOrUndefined(ele)) {\n                    ele.innerHTML = content;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.checkAndResetCache = function () {\n        if (this.isVirtualizationEnabled) {\n            this.generatedDataObject = {};\n            this.virtualItemStartIndex = this.virtualItemEndIndex = 0;\n            this.viewPortInfo = {\n                currentPageNumber: null,\n                direction: null,\n                sentinelInfo: {},\n                offsets: {},\n                startIndex: 0,\n                endIndex: this.itemCount,\n            };\n            this.selectedValueInfo = null;\n        }\n    };\n    DropDownBase.prototype.updateIncrementalInfo = function (startIndex, endIndex) {\n        this.viewPortInfo.startIndex = startIndex;\n        this.viewPortInfo.endIndex = endIndex;\n        this.updateVirtualItemIndex();\n        this.isIncrementalRequest = true;\n        this.resetList(this.dataSource, this.fields, this.query);\n        this.isIncrementalRequest = false;\n    };\n    DropDownBase.prototype.updateIncrementalView = function (startIndex, endIndex) {\n        this.viewPortInfo.startIndex = startIndex;\n        this.viewPortInfo.endIndex = endIndex;\n        this.updateVirtualItemIndex();\n        this.resetList(this.dataSource, this.fields, this.query);\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n    };\n    DropDownBase.prototype.updateVirtualItemIndex = function () {\n        this.virtualItemStartIndex = this.viewPortInfo.startIndex;\n        this.virtualItemEndIndex = this.viewPortInfo.endIndex;\n        this.virtualListInfo = this.viewPortInfo;\n    };\n    DropDownBase.prototype.getFilteringSkeletonCount = function () {\n        var difference = this.dataCount - this.viewPortInfo.endIndex;\n        var currentSkeletonCount = this.skeletonCount;\n        this.getSkeletonCount(true);\n        this.skeletonCount = this.dataCount > this.itemCount * 2 ? this.skeletonCount : difference > this.skeletonCount ? this.skeletonCount : difference > 0 ? difference : 0;\n        var skeletonUpdated = true;\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && (this.totalItemCount < (this.itemCount * 2))) {\n            this.skeletonCount = 0;\n            skeletonUpdated = false;\n        }\n        if (!this.list.classList.contains(dropDownBaseClasses.noData)) {\n            var isSkeletonCountChange = currentSkeletonCount !== this.skeletonCount;\n            if (currentSkeletonCount !== this.skeletonCount && skeletonUpdated) {\n                this.UpdateSkeleton(true, Math.abs(currentSkeletonCount - this.skeletonCount));\n            }\n            else {\n                this.UpdateSkeleton();\n            }\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            if ((this.list.getElementsByClassName('e-virtual-ddl').length > 0)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0 && this.list.querySelector('.e-dropdownbase')) {\n                var virualElement = this.createElement('div', {\n                    id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                });\n                this.list.querySelector('.e-dropdownbase').appendChild(virualElement);\n            }\n            if (this.list.getElementsByClassName('e-virtual-ddl-content').length > 0) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownBase.prototype.getSkeletonCount = function (retainSkeleton) {\n        this.virtualListHeight = this.listContainerHeight != null ? parseInt(this.listContainerHeight, 10) : this.virtualListHeight;\n        var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n        this.skeletonCount = actualCount * 2 < this.itemCount ? this.itemCount : actualCount * 2;\n        this.itemCount = retainSkeleton ? this.itemCount : this.skeletonCount;\n        this.skeletonCount = Math.floor(this.skeletonCount / 2) + 2;\n    };\n    DropDownBase.prototype.GetVirtualTrackHeight = function () {\n        var height = this.totalItemCount === this.viewPortInfo.endIndex ? this.totalItemCount * this.listItemHeight - this.itemCount * this.listItemHeight : this.totalItemCount * this.listItemHeight;\n        height = this.isVirtualTrackHeight ? 0 : height;\n        var heightDimension = \"height: \" + (height - this.itemCount * this.listItemHeight) + \"px;\";\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect') && this.skeletonCount === 0) {\n            return \"height: 0px;\";\n        }\n        return heightDimension;\n    };\n    DropDownBase.prototype.getTransformValues = function () {\n        var translateY = this.viewPortInfo.startIndex * this.listItemHeight;\n        translateY = translateY - (this.skeletonCount * this.listItemHeight);\n        translateY = this.viewPortInfo.startIndex === 0 && this.listData && this.listData.length === 0 ? 0 : translateY;\n        var styleText = \"transform: translate(0px, \" + translateY + \"px);\";\n        return styleText;\n    };\n    DropDownBase.prototype.UpdateSkeleton = function (isSkeletonCountChange, skeletonCount) {\n        var isContainSkeleton = this.list.querySelector('.e-virtual-ddl-content');\n        var isContainVirtualList = this.list.querySelector('.e-virtual-list');\n        if (isContainSkeleton && (!isContainVirtualList || isSkeletonCountChange) && this.isVirtualizationEnabled) {\n            var totalSkeletonCount = isSkeletonCountChange ? skeletonCount : this.skeletonCount;\n            for (var i = 0; i < totalSkeletonCount; i++) {\n                var liElement = this.createElement('li', { className: dropDownBaseClasses.virtualList, styles: 'overflow: inherit' });\n                if (this.isVirtualizationEnabled && this.itemTemplate) {\n                    liElement.style.height = this.listItemHeight + 'px';\n                }\n                var skeleton = new Skeleton({\n                    shape: \"Text\",\n                    height: \"10px\",\n                    width: \"95%\",\n                    cssClass: \"e-skeleton-text\",\n                });\n                skeleton.appendTo(this.createElement('div'));\n                liElement.appendChild(skeleton.element);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                isContainSkeleton.firstChild && isContainSkeleton.firstChild.insertBefore(liElement, isContainSkeleton.firstChild.children[0]);\n            }\n        }\n    };\n    DropDownBase.prototype.getLocaleName = function () {\n        return 'drop-down-base';\n    };\n    DropDownBase.prototype.getTextByValue = function (value) {\n        var text = this.checkValueCase(value, false, false, true);\n        return text;\n    };\n    DropDownBase.prototype.getFormattedValue = function (value) {\n        if (this.listData && this.listData.length) {\n            var item = void 0;\n            if (this.properties.allowCustomValue && this.properties.value && this.properties.value instanceof Array && this.properties.value.length > 0) {\n                item = this.typeOfData(this.properties.value);\n            }\n            else {\n                item = this.typeOfData(this.listData);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'number'\n                || item.typeof === 'number') {\n                return parseFloat(value);\n            }\n            if (typeof getValue((this.fields.value ? this.fields.value : 'value'), item.item) === 'boolean'\n                || item.typeof === 'boolean') {\n                return ((value === 'true') || ('' + value === 'true'));\n            }\n        }\n        return value;\n    };\n    /**\n     * Sets RTL to dropdownbase wrapper\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setEnableRtl = function () {\n        if (!isNullOrUndefined(this.enableRtlElements)) {\n            if (this.list) {\n                this.enableRtlElements.push(this.list);\n            }\n            if (this.enableRtl) {\n                addClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n            else {\n                removeClass(this.enableRtlElements, dropDownBaseClasses.rtl);\n            }\n        }\n    };\n    /**\n     * Initialize the Component.\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.initialize = function (e) {\n        this.bindEvent = true;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE_PROPERTY;\n        if (this.element.tagName === 'UL') {\n            var jsonElement = ListBase.createJsonFromElement(this.element);\n            this.setProperties({ fields: { text: 'text', value: 'text' } }, true);\n            this.resetList(jsonElement, this.fields);\n        }\n        else if (this.element.tagName === 'SELECT') {\n            var dataSource = this.dataSource instanceof Array ? (this.dataSource.length > 0 ? true : false)\n                : !isNullOrUndefined(this.dataSource) ? true : false;\n            if (!dataSource) {\n                this.renderItemsBySelect();\n            }\n            else if (this.isDynamicDataChange) {\n                this.setListData(this.dataSource, this.fields, this.query);\n            }\n        }\n        else {\n            this.setListData(this.dataSource, this.fields, this.query, e);\n        }\n    };\n    /**\n     * Get the properties to be maintained in persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownBase.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @param {string} value - Specifies the attribute values to add on the input element.\n     * @returns {void}\n     */\n    DropDownBase.prototype.updateDataAttribute = function (value) {\n        var invalidAttr = ['class', 'style', 'id', 'type', 'aria-expanded', 'aria-autocomplete', 'aria-readonly'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.getModuleName() === 'dropdownlist' && this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownBase.prototype.renderItemsBySelect = function () {\n        var element = this.element;\n        var fields = { value: 'value', text: 'text' };\n        var jsonElement = [];\n        var group = element.querySelectorAll('select>optgroup');\n        var option = element.querySelectorAll('select>option');\n        this.getJSONfromOption(jsonElement, option, fields);\n        if (group.length) {\n            for (var i = 0; i < group.length; i++) {\n                var item = group[i];\n                var optionGroup = {};\n                optionGroup[fields.text] = item.label;\n                optionGroup.isHeader = true;\n                var child = item.querySelectorAll('option');\n                jsonElement.push(optionGroup);\n                this.getJSONfromOption(jsonElement, child, fields);\n            }\n            element.querySelectorAll('select>option');\n        }\n        this.updateFields(fields.text, fields.value, this.fields.groupBy, this.fields.htmlAttributes, this.fields.iconCss);\n        this.resetList(jsonElement, fields);\n    };\n    DropDownBase.prototype.updateFields = function (text, value, groupBy, htmlAttributes, iconCss) {\n        var field = {\n            'fields': {\n                text: text,\n                value: value,\n                groupBy: !isNullOrUndefined(groupBy) ? groupBy : this.fields && this.fields.groupBy,\n                htmlAttributes: !isNullOrUndefined(htmlAttributes) ? htmlAttributes : this.fields && this.fields.htmlAttributes,\n                iconCss: !isNullOrUndefined(iconCss) ? iconCss : this.fields && this.fields.iconCss\n            }\n        };\n        this.setProperties(field, true);\n    };\n    DropDownBase.prototype.getJSONfromOption = function (items, options, fields) {\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var option = options_1[_i];\n            var json = {};\n            json[fields.text] = option.innerText;\n            json[fields.value] = !isNullOrUndefined(option.getAttribute(fields.value)) ?\n                option.getAttribute(fields.value) : option.innerText;\n            items.push(json);\n        }\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.preRender = function () {\n        // there is no event handler\n        this.scrollTimer = -1;\n        this.enableRtlElements = [];\n        this.isRequested = false;\n        this.isDataFetched = false;\n        this.itemTemplateId = \"\" + this.element.id + ITEMTEMPLATE_PROPERTY;\n        this.displayTemplateId = \"\" + this.element.id + DISPLAYTEMPLATE_PROPERTY;\n        this.spinnerTemplateId = \"\" + this.element.id + SPINNERTEMPLATE_PROPERTY;\n        this.valueTemplateId = \"\" + this.element.id + VALUETEMPLATE_PROPERTY;\n        this.groupTemplateId = \"\" + this.element.id + GROUPTEMPLATE_PROPERTY;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE_PROPERTY;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE_PROPERTY;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE_PROPERTY;\n    };\n    /**\n     * Creates the list items of DropDownBase component.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {void}\n     */\n    DropDownBase.prototype.setListData = function (dataSource, fields, query, event) {\n        var _this = this;\n        fields = fields ? fields : this.fields;\n        var ulElement;\n        this.isActive = true;\n        var eventArgs = { cancel: false, data: dataSource, query: query };\n        this.isPreventChange = this.isAngular && this.preventChange ? true : this.isPreventChange;\n        if (!this.isRequesting) {\n            this.trigger('actionBegin', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    _this.isRequesting = true;\n                    _this.showSpinner();\n                    if (dataSource instanceof DataManager && !_this.virtualGroupDataSource) {\n                        _this.isRequested = true;\n                        if (_this.isDataFetched) {\n                            _this.emptyDataRequest(fields);\n                            return;\n                        }\n                        eventArgs.data.executeQuery(_this.getQuery(eventArgs.query)).then(function (e) {\n                            _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                            _this.trigger('actionComplete', e, function (e) {\n                                if (!_this.virtualGroupDataSource && _this.isVirtualizationEnabled) {\n                                    _this.isRemoteDataUpdated = true;\n                                    if ((_this.getModuleName() === 'combobox' && !_this.initialRemoteRender && _this.isAllowFiltering && _this.isVirtualizationEnabled && e.result)) {\n                                        e.result = e.result.result;\n                                    }\n                                    if (e.result.length > 0) {\n                                        var dataSource_2 = e.result;\n                                        if (_this.isVirtualizationEnabled && _this.fields.groupBy) {\n                                            var data = new DataManager(dataSource_2).executeLocal(new Query().group(_this.fields.groupBy));\n                                            _this.virtualGroupDataSource = data.records;\n                                        }\n                                        else {\n                                            _this.virtualGroupDataSource = dataSource_2;\n                                            _this.hideSpinner();\n                                            _this.isRequested = false;\n                                            _this.isRequesting = false;\n                                            _this.setListData(dataSource_2, fields, query, event);\n                                            return;\n                                        }\n                                    }\n                                    _this.hideSpinner();\n                                    _this.isRequested = false;\n                                    _this.isRequesting = false;\n                                    _this.updatePopupState();\n                                    return;\n                                }\n                                if (!e.cancel) {\n                                    _this.isRequesting = false;\n                                    var listItems = e.result;\n                                    if (_this.isIncrementalRequest) {\n                                        ulElement = _this.renderItems(listItems, fields);\n                                        return;\n                                    }\n                                    if (listItems.length === 0) {\n                                        _this.isDataFetched = true;\n                                    }\n                                    _this.dataCount = e.count;\n                                    _this.totalItemCount = e.count;\n                                    ulElement = _this.renderItems(listItems, fields);\n                                    _this.onActionComplete(ulElement, listItems, e);\n                                    if (_this.groupTemplate) {\n                                        _this.renderGroupTemplate(ulElement);\n                                    }\n                                    _this.isRequested = false;\n                                    _this.bindChildItems(listItems, ulElement, fields, e);\n                                }\n                            });\n                        }).catch(function (e) {\n                            _this.isRequested = false;\n                            _this.isRequesting = false;\n                            _this.onActionFailure(e);\n                            _this.hideSpinner();\n                        });\n                    }\n                    else {\n                        _this.isRequesting = false;\n                        var isReOrder = true;\n                        var listItems = void 0;\n                        if (_this.isVirtualizationEnabled && !_this.virtualGroupDataSource && _this.fields.groupBy) {\n                            var data = new DataManager(_this.dataSource).executeLocal(new Query().group(_this.fields.groupBy));\n                            _this.virtualGroupDataSource = data.records;\n                        }\n                        var dataManager = _this.isVirtualizationEnabled && _this.virtualGroupDataSource && !_this.isCustomDataUpdated ? new DataManager(_this.virtualGroupDataSource) : new DataManager(eventArgs.data);\n                        listItems = (_this.getQuery(eventArgs.query)).executeLocal(dataManager);\n                        if (!_this.virtualSelectAll) {\n                            var newQuery = _this.getQuery(eventArgs.query);\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            if (_this.isVirtualizationEnabled && (listItems.count != 0 && listItems.count < (_this.itemCount * 2))) {\n                                if (newQuery) {\n                                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                        if (newQuery.queries[queryElements].fn === 'onTake') {\n                                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                                            newQuery.queries[queryElements].e.nos = listItems.count;\n                                            listItems = (newQuery).executeLocal(dataManager);\n                                        }\n                                        if (_this.getModuleName() === 'multiselect' && (newQuery.queries[queryElements].e.condition == 'or' || newQuery.queries[queryElements].e.operator == 'equal')) {\n                                            isReOrder = false;\n                                        }\n                                    }\n                                    if (isReOrder) {\n                                        listItems = (newQuery).executeLocal(dataManager);\n                                        _this.isVirtualTrackHeight = true;\n                                    }\n                                }\n                            }\n                            else {\n                                _this.isVirtualTrackHeight = false;\n                                if (newQuery) {\n                                    for (var queryElements = 0; queryElements < newQuery.queries.length; queryElements++) {\n                                        if (_this.getModuleName() === 'multiselect' && ((newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.condition == 'or') || (newQuery.queries[queryElements].e && newQuery.queries[queryElements].e.operator == 'equal'))) {\n                                            isReOrder = false;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        if (isReOrder) {\n                            // eslint-disable @typescript-eslint/no-explicit-any\n                            _this.dataCount = _this.totalItemCount = _this.virtualSelectAll ? listItems.length : listItems.count;\n                        }\n                        listItems = _this.isVirtualizationEnabled && !_this.virtualSelectAll ? listItems.result : listItems;\n                        // eslint-enable @typescript-eslint/no-explicit-any\n                        var localDataArgs = { cancel: false, result: listItems };\n                        _this.isPreventChange = _this.isAngular && _this.preventChange ? true : _this.isPreventChange;\n                        _this.trigger('actionComplete', localDataArgs, function (localDataArgs) {\n                            if (_this.isIncrementalRequest) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                return;\n                            }\n                            if (!localDataArgs.cancel) {\n                                ulElement = _this.renderItems(localDataArgs.result, fields);\n                                _this.onActionComplete(ulElement, localDataArgs.result, event);\n                                if (_this.groupTemplate) {\n                                    _this.renderGroupTemplate(ulElement);\n                                }\n                                _this.bindChildItems(localDataArgs.result, ulElement, fields);\n                                setTimeout(function () {\n                                    if (_this.getModuleName() === 'multiselect' && _this.itemTemplate != null && (ulElement.childElementCount > 0 && (ulElement.children[0].childElementCount > 0 || (_this.fields.groupBy && ulElement.children[1] && ulElement.children[1].childElementCount > 0)))) {\n                                        _this.updateDataList();\n                                    }\n                                });\n                            }\n                        });\n                    }\n                }\n            });\n        }\n    };\n    DropDownBase.prototype.updatePopupState = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.updateRemoteData = function () {\n        this.setListData(this.dataSource, this.fields, this.query);\n    };\n    DropDownBase.prototype.bindChildItems = function (listItems, ulElement, fields, e) {\n        var _this = this;\n        if (listItems.length >= 100 && this.getModuleName() === 'autocomplete') {\n            setTimeout(function () {\n                var childNode = _this.remainingItems(_this.sortedData, fields);\n                append(childNode, ulElement);\n                _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                _this.updateListValues();\n                _this.raiseDataBound(listItems, e);\n            }, 0);\n        }\n        else {\n            this.raiseDataBound(listItems, e);\n        }\n    };\n    DropDownBase.prototype.isObjectInArray = function (objectToFind, array) {\n        return array.some(function (item) {\n            return Object.keys(objectToFind).every(function (key) {\n                return item.hasOwnProperty(key) && item[key] === objectToFind[key];\n            });\n        });\n    };\n    DropDownBase.prototype.updateListValues = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.findListElement = function (list, findNode, attribute, value) {\n        var liElement = null;\n        if (list) {\n            var listArr = [].slice.call(list.querySelectorAll(findNode));\n            for (var index = 0; index < listArr.length; index++) {\n                if (listArr[index].getAttribute(attribute) === (value + '')) {\n                    liElement = listArr[index];\n                    break;\n                }\n            }\n        }\n        return liElement;\n    };\n    DropDownBase.prototype.raiseDataBound = function (listItems, e) {\n        this.hideSpinner();\n        var dataBoundEventArgs = {\n            items: listItems,\n            e: e\n        };\n        this.trigger('dataBound', dataBoundEventArgs);\n    };\n    DropDownBase.prototype.remainingItems = function (dataSource, fields) {\n        var spliceData = new DataManager(dataSource).executeLocal(new Query().skip(100));\n        if (this.itemTemplate) {\n            var listElements = this.templateListItem(spliceData, fields);\n            return [].slice.call(listElements.childNodes);\n        }\n        var type = this.typeOfData(spliceData).typeof;\n        if (type === 'string' || type === 'number' || type === 'boolean') {\n            return ListBase.createListItemFromArray(this.createElement, spliceData, true, this.listOption(spliceData, fields), this);\n        }\n        return ListBase.createListItemFromJson(this.createElement, spliceData, this.listOption(spliceData, fields), 1, true, this);\n    };\n    DropDownBase.prototype.emptyDataRequest = function (fields) {\n        var listItems = [];\n        this.onActionComplete(this.renderItems(listItems, fields), listItems);\n        this.isRequested = false;\n        this.isRequesting = false;\n        this.hideSpinner();\n    };\n    DropDownBase.prototype.showSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.hideSpinner = function () {\n        // Used this method in component side.\n    };\n    DropDownBase.prototype.onActionFailure = function (e) {\n        this.liCollections = [];\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        if (!isNullOrUndefined(this.list)) {\n            addClass([this.list], dropDownBaseClasses.noData);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.onActionComplete = function (ulElement, list, e) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        this.listData = list;\n        if (this.isVirtualizationEnabled && !this.isCustomDataUpdated) {\n            this.notify(\"setGeneratedData\", {\n                module: \"VirtualScroll\",\n            });\n        }\n        if (this.getModuleName() !== 'listbox') {\n            ulElement.setAttribute('tabindex', '0');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['itemTemplate', 'groupTemplate', 'actionFailureTemplate', 'noRecordsTemplate']);\n        }\n        if (!this.isVirtualizationEnabled) {\n            this.fixedHeaderElement = isNullOrUndefined(this.fixedHeaderElement) ? this.fixedHeaderElement : null;\n        }\n        if (this.getModuleName() === 'multiselect' && this.properties.allowCustomValue && this.fields.groupBy) {\n            for (var i = 0; i < ulElement.childElementCount; i++) {\n                if (ulElement.children[i].classList.contains('e-list-group-item')) {\n                    if (isNullOrUndefined(ulElement.children[i].innerHTML) || ulElement.children[i].innerHTML == \"\") {\n                        addClass([ulElement.children[i]], HIDE_GROUPLIST);\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.list)) {\n            if (!this.isVirtualizationEnabled) {\n                this.list.innerHTML = '';\n                this.list.appendChild(ulElement);\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.postRender(this.list, list, this.bindEvent);\n            }\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    DropDownBase.prototype.postRender = function (listElement, list, bindEvent) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        var focusItem = listElement.querySelector('.' + dropDownBaseClasses.li);\n        var selectedItem = listElement.querySelector('.' + dropDownBaseClasses.selected);\n        if (focusItem && !selectedItem) {\n            focusItem.classList.add(dropDownBaseClasses.focus);\n        }\n        if (list.length <= 0) {\n            this.l10nUpdate();\n            addClass([listElement], dropDownBaseClasses.noData);\n        }\n        else {\n            listElement.classList.remove(dropDownBaseClasses.noData);\n        }\n    };\n    /**\n     * Get the query to do the data operation before list item generation.\n     *\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {Query} Returns the query to do the data query operation.\n     */\n    DropDownBase.prototype.getQuery = function (query) {\n        return query ? query : this.query ? this.query : new Query();\n    };\n    DropDownBase.prototype.updateVirtualizationProperties = function (itemCount, filtering, isCheckbox) {\n        this.isVirtualizationEnabled = true;\n        this.virtualizedItemsCount = itemCount;\n        this.isAllowFiltering = filtering;\n        this.isCheckBoxSelection = isCheckbox;\n    };\n    /**\n     * To render the template content for group header element.\n     *\n     * @param {HTMLElement} listEle - Specifies the group list elements.\n     * @returns {void}\n     */\n    DropDownBase.prototype.renderGroupTemplate = function (listEle) {\n        if (this.fields.groupBy !== null && this.dataSource || this.element.querySelector('.' + dropDownBaseClasses.group)) {\n            var dataSource = this.dataSource;\n            var option = { groupTemplateID: this.groupTemplateId, isStringTemplate: this.isStringTemplate };\n            var headerItems = listEle.querySelectorAll('.' + dropDownBaseClasses.group);\n            var groupcheck = this.templateCompiler(this.groupTemplate);\n            if (typeof this.groupTemplate !== 'function' && groupcheck) {\n                var groupValue = select(this.groupTemplate, document).innerHTML.trim();\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(groupValue, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                var tempHeaders = ListBase.renderGroupTemplate(this.groupTemplate, dataSource, this.fields.properties, headerItems, option, this);\n                //EJ2-55168- Group checkbox is not working with group template\n                if (this.isGroupChecking) {\n                    for (var i = 0; i < tempHeaders.length; i++) {\n                        this.notify('addItem', { module: 'CheckBoxSelection', item: tempHeaders[i] });\n                    }\n                }\n            }\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To create the ul li list items\n     *\n     * @param {object []} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the ul li list items.\n     */\n    DropDownBase.prototype.createListItems = function (dataSource, fields) {\n        if (dataSource) {\n            if (fields.groupBy || this.element.querySelector('optgroup')) {\n                if (fields.groupBy) {\n                    if (this.sortOrder !== 'None') {\n                        dataSource = this.getSortedDataSource(dataSource);\n                    }\n                    dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n                }\n                addClass([this.list], dropDownBaseClasses.grouping);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            var options = this.listOption(dataSource, fields);\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            this.sortedData = dataSource;\n            return ListBase.createList(this.createElement, (this.getModuleName() === 'autocomplete') ? spliceData : dataSource, options, true, this);\n        }\n        return null;\n    };\n    DropDownBase.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldValues = !isNullOrUndefined(fields.properties) ?\n            fields.properties : fields;\n        var options = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldValues,\n            showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        return extend({}, options, fields, true);\n    };\n    DropDownBase.prototype.setFloatingHeader = function (e) {\n        if (!isNullOrUndefined(this.list) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n            if (isNullOrUndefined(this.fixedHeaderElement)) {\n                this.fixedHeaderElement = this.createElement('div', { className: dropDownBaseClasses.fixedHead });\n                if (!isNullOrUndefined(this.list) && !this.list.querySelector('li').classList.contains(dropDownBaseClasses.group)) {\n                    this.fixedHeaderElement.style.display = 'none';\n                }\n                if (!isNullOrUndefined(this.fixedHeaderElement) && !isNullOrUndefined(this.list)) {\n                    prepend([this.fixedHeaderElement], this.list);\n                }\n                this.setFixedHeader();\n            }\n            if (!isNullOrUndefined(this.fixedHeaderElement) && this.fixedHeaderElement.style.zIndex === '0') {\n                this.setFixedHeader();\n            }\n            this.scrollStop(e);\n        }\n    };\n    DropDownBase.prototype.scrollStop = function (e, isDownkey) {\n        var target = !isNullOrUndefined(e) ? e.target : this.list;\n        var liHeight = parseInt(getComputedStyle(this.getValidLi(), null).getPropertyValue('height'), 10);\n        var topIndex = Math.round(target.scrollTop / liHeight);\n        var liCollections = this.list.querySelectorAll('li' + ':not(.e-hide-listitem)');\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var count = 0;\n        var isCount = false;\n        for (var i = topIndex; i > -1; i--) {\n            var index = this.isVirtualizationEnabled ? i + virtualListCount : i;\n            if (this.isVirtualizationEnabled) {\n                var groupListLength = this.list.querySelectorAll('.e-list-group-item').length;\n                var loadedGroupList = 0;\n                if (isCount) {\n                    count++;\n                }\n                if (this.fixedHeaderElement && this.updateGroupHeader(index, liCollections, target)) {\n                    loadedGroupList++;\n                    if (count >= this.getPageCount()) {\n                        break;\n                    }\n                    if (groupListLength <= loadedGroupList) {\n                        break;\n                    }\n                }\n                if (isDownkey) {\n                    if ((!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.selected) && this.getModuleName() !== 'autocomplete') || (!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.focus) && this.getModuleName() === 'autocomplete')) {\n                        count++;\n                        isCount = true;\n                    }\n                }\n            }\n            else {\n                if (this.updateGroupHeader(index, liCollections, target)) {\n                    break;\n                }\n            }\n        }\n    };\n    DropDownBase.prototype.getPageCount = function (returnExactCount) {\n        var liHeight = this.list.classList.contains(dropDownBaseClasses.noData) ? null :\n            getComputedStyle(this.getItems()[0], null).getPropertyValue('height');\n        var pageCount = Math.round(this.list.getBoundingClientRect().height / parseInt(liHeight, 10));\n        return returnExactCount ? pageCount : Math.round(pageCount);\n    };\n    DropDownBase.prototype.updateGroupHeader = function (index, liCollections, target) {\n        if (!isNullOrUndefined(liCollections[index]) && liCollections[index].classList.contains(dropDownBaseClasses.group)) {\n            this.updateGroupFixedHeader(liCollections[index], target);\n            return true;\n        }\n        else {\n            this.fixedHeaderElement.style.display = 'none';\n            this.fixedHeaderElement.style.top = 'none';\n            return false;\n        }\n    };\n    DropDownBase.prototype.updateGroupFixedHeader = function (element, target) {\n        this.fixedHeaderElement.innerHTML = element.innerHTML;\n        this.fixedHeaderElement.style.position = 'fixed';\n        this.fixedHeaderElement.style.top = this.list.parentElement.offsetTop + this.list.offsetTop + 'px';\n        this.fixedHeaderElement.style.display = 'block';\n    };\n    DropDownBase.prototype.getValidLi = function () {\n        return this.liCollections[0];\n    };\n    /**\n     * To render the list items\n     *\n     * @param {object[]} listData - Specifies the list of array of data.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @returns {HTMLElement} Return the list items.\n     */\n    DropDownBase.prototype.renderItems = function (listData, fields, isCheckBoxUpdate) {\n        var ulElement;\n        if (this.itemTemplate && listData) {\n            var dataSource = listData;\n            if (dataSource && fields.groupBy) {\n                if (this.sortOrder !== 'None') {\n                    dataSource = this.getSortedDataSource(dataSource);\n                }\n                dataSource = ListBase.groupDataSource(dataSource, fields.properties, this.sortOrder);\n            }\n            else {\n                dataSource = this.getSortedDataSource(dataSource);\n            }\n            this.sortedData = dataSource;\n            var spliceData = (dataSource.length > 100) ?\n                new DataManager(dataSource).executeLocal(new Query().take(100))\n                : dataSource;\n            ulElement = this.templateListItem((this.getModuleName() === 'autocomplete') ? spliceData : dataSource, fields);\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && this.getModuleName() === 'autocomplete')) {\n                    virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    var reOrderList = this.list.querySelectorAll('.e-reorder');\n                    if (this.list.querySelector('.e-virtual-ddl-content') && reOrderList && reOrderList.length > 0 && !isCheckBoxUpdate) {\n                        this.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList[0]);\n                    }\n                    this.updateListElements(listData);\n                }\n                else if ((!virtualUlElement)) {\n                    this.list.innerHTML = '';\n                    this.createVirtualContent();\n                    this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n                    this.updateListElements(listData);\n                }\n            }\n        }\n        else {\n            if (this.getModuleName() === 'multiselect' && this.virtualSelectAll) {\n                this.virtualSelectAllData = listData;\n                listData = listData.slice(this.virtualItemStartIndex, this.virtualItemEndIndex);\n            }\n            ulElement = this.createListItems(listData, fields);\n            if (this.isIncrementalRequest) {\n                this.incrementalLiCollections = ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.incrementalUlElement = ulElement;\n                this.incrementalListData = listData;\n                return ulElement;\n            }\n            if (this.isVirtualizationEnabled) {\n                var oldUlElement = this.list.querySelector('.e-list-parent' + ':not(.e-reorder)');\n                var virtualUlElement = this.list.querySelector('.e-virtual-ddl-content');\n                var isRemovedUlelement = false;\n                if (!oldUlElement && this.list.querySelector('.e-list-parent' + '.e-reorder')) {\n                    oldUlElement = this.list.querySelector('.e-list-parent' + '.e-reorder');\n                }\n                if ((listData.length >= this.virtualizedItemsCount && oldUlElement && virtualUlElement) || (oldUlElement && virtualUlElement && this.isAllowFiltering) || (oldUlElement && virtualUlElement && (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'multiselect')) || isRemovedUlelement) {\n                    if (!this.appendUncheckList) {\n                        virtualUlElement.replaceChild(ulElement, oldUlElement);\n                    }\n                    else {\n                        virtualUlElement.appendChild(ulElement);\n                    }\n                    this.updateListElements(listData);\n                }\n                else if ((!virtualUlElement)) {\n                    this.list.innerHTML = '';\n                    this.createVirtualContent();\n                    this.list.querySelector('.e-virtual-ddl-content').appendChild(ulElement);\n                    this.updateListElements(listData);\n                }\n            }\n        }\n        return ulElement;\n    };\n    DropDownBase.prototype.createVirtualContent = function () {\n        if (!this.list.querySelector('.e-virtual-ddl-content')) {\n            this.list.appendChild(this.createElement('div', {\n                className: 'e-virtual-ddl-content',\n            }));\n        }\n    };\n    DropDownBase.prototype.updateListElements = function (listData) {\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.ulElement = this.list.querySelector('ul');\n        this.listData = listData;\n        this.postRender(this.list, listData, this.bindEvent);\n    };\n    DropDownBase.prototype.templateListItem = function (dataSource, fields) {\n        var option = this.listOption(dataSource, fields);\n        option.templateID = this.itemTemplateId;\n        option.isStringTemplate = this.isStringTemplate;\n        var itemcheck = this.templateCompiler(this.itemTemplate);\n        if (typeof this.itemTemplate !== 'function' && itemcheck) {\n            var itemValue = select(this.itemTemplate, document).innerHTML.trim();\n            return ListBase.renderContentTemplate(this.createElement, itemValue, dataSource, fields.properties, option, this);\n        }\n        else {\n            return ListBase.renderContentTemplate(this.createElement, this.itemTemplate, dataSource, fields.properties, option, this);\n        }\n    };\n    DropDownBase.prototype.typeOfData = function (items) {\n        var item = { typeof: null, item: null };\n        for (var i = 0; (!isNullOrUndefined(items) && i < items.length); i++) {\n            if (!isNullOrUndefined(items[i])) {\n                var listDataType = typeof (items[i]) === 'string' ||\n                    typeof (items[i]) === 'number' || typeof (items[i]) === 'boolean';\n                var isNullData = listDataType ? isNullOrUndefined(items[i]) :\n                    isNullOrUndefined(getValue((this.fields.value ? this.fields.value : 'value'), items[i]));\n                if (!isNullData) {\n                    return item = { typeof: typeof items[i], item: items[i] };\n                }\n            }\n        }\n        return item;\n    };\n    DropDownBase.prototype.setFixedHeader = function () {\n        if (!isNullOrUndefined(this.list)) {\n            this.list.parentElement.style.display = 'block';\n        }\n        var borderWidth = 0;\n        if (this.list && this.list.parentElement) {\n            borderWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-width'), 10);\n            /*Shorthand property not working in Firefox for getComputedStyle method.\n            Refer bug report https://bugzilla.mozilla.org/show_bug.cgi?id=137688\n            Refer alternate solution https://stackoverflow.com/a/41696234/9133493*/\n            if (isNaN(borderWidth)) {\n                var borderTopWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-top-width'), 10);\n                var borderBottomWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-bottom-width'), 10);\n                var borderLeftWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-left-width'), 10);\n                var borderRightWidth = parseInt(document.defaultView.getComputedStyle(this.list.parentElement, null).getPropertyValue('border-right-width'), 10);\n                borderWidth = (borderTopWidth + borderBottomWidth + borderLeftWidth + borderRightWidth);\n            }\n        }\n        if (!isNullOrUndefined(this.liCollections)) {\n            var liWidth = this.getValidLi().offsetWidth - borderWidth;\n            this.fixedHeaderElement.style.width = liWidth.toString() + 'px';\n        }\n        setStyleAttribute(this.fixedHeaderElement, { zIndex: 10 });\n        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group + ':not(.e-hide-listitem)');\n        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n    };\n    DropDownBase.prototype.getSortedDataSource = function (dataSource) {\n        if (dataSource && this.sortOrder !== 'None') {\n            var textField = this.fields.text ? this.fields.text : 'text';\n            if (this.typeOfData(dataSource).typeof === 'string' || this.typeOfData(dataSource).typeof === 'number'\n                || this.typeOfData(dataSource).typeof === 'boolean') {\n                textField = '';\n            }\n            dataSource = ListBase.getDataSource(dataSource, ListBase.addSorting(this.sortOrder, textField));\n        }\n        return dataSource;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValue = function (value) {\n        var index;\n        var listItems = this.getItems();\n        for (var i = 0; i < listItems.length; i++) {\n            if (!isNullOrUndefined(value) && listItems[i].getAttribute('data-value') === value.toString()) {\n                index = i;\n                break;\n            }\n        }\n        return index;\n    };\n    /**\n     * Return the index of item which matched with given value in data source\n     *\n     * @param {string | number | boolean} value - Specifies given value.\n     * @returns {number} Returns the index of the item.\n     */\n    DropDownBase.prototype.getIndexByValueFilter = function (value) {\n        var index;\n        var listItems = this.renderItems(this.selectData, this.fields);\n        if (listItems && listItems.children) {\n            for (var i = 0; i < listItems.children.length; i++) {\n                if (!isNullOrUndefined(value) && listItems.children[i].getAttribute('data-value') === value.toString()) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n        return index;\n    };\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    DropDownBase.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        if (element) {\n            element.dispatchEvent(evt);\n        }\n    };\n    /**\n     * To set the current fields\n     *\n     * @returns {void}\n     */\n    DropDownBase.prototype.setFields = function () {\n        if (this.fields.value && !this.fields.text) {\n            this.updateFields(this.fields.value, this.fields.value);\n        }\n        else if (!this.fields.value && this.fields.text) {\n            this.updateFields(this.fields.text, this.fields.text);\n        }\n        else if (!this.fields.value && !this.fields.text) {\n            this.updateFields('text', 'text');\n        }\n    };\n    /**\n     * reset the items list.\n     *\n     * @param {Object[] | string[] | number[] | DataManager | boolean[]} dataSource - Specifies the data to generate the list.\n     * @param {FieldSettingsModel} fields - Maps the columns of the data table and binds the data to the component.\n     * @param {Query} query - Accepts the external Query that execute along with data processing.\n     * @returns {void}\n     */\n    DropDownBase.prototype.resetList = function (dataSource, fields, query, e) {\n        if (this.list) {\n            if ((this.element.tagName === 'SELECT' && this.element.options.length > 0)\n                || (this.element.tagName === 'UL' && this.element.childNodes.length > 0)) {\n                var data = dataSource instanceof Array ? (dataSource.length > 0)\n                    : !isNullOrUndefined(dataSource);\n                if (!data && this.selectData && this.selectData.length > 0) {\n                    dataSource = this.selectData;\n                }\n            }\n            dataSource = this.getModuleName() === 'combobox' && this.selectData && dataSource instanceof Array && dataSource.length < this.selectData.length && this.addedNewItem ? this.selectData : dataSource;\n            this.addedNewItem = false;\n            this.setListData(dataSource, fields, query, e);\n        }\n    };\n    DropDownBase.prototype.updateSelectElementData = function (isFiltering) {\n        if ((isFiltering || this.isVirtualizationEnabled) && isNullOrUndefined(this.selectData) && this.listData && this.listData.length > 0) {\n            this.selectData = this.listData;\n        }\n    };\n    DropDownBase.prototype.updateSelection = function () {\n        // This is for after added the item, need to update the selected index values.\n    };\n    DropDownBase.prototype.renderList = function () {\n        // This is for render the list items.\n        this.render();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateDataSource = function (props, oldProps) {\n        this.resetList(this.dataSource);\n        this.totalItemCount = this.dataSource instanceof DataManager ? this.dataSource.dataSource.json.length : 0;\n    };\n    DropDownBase.prototype.setUpdateInitial = function (props, newProp, oldProp) {\n        this.isDataFetched = false;\n        var updateData = {};\n        for (var j = 0; props.length > j; j++) {\n            if (newProp[props[j]] && props[j] === 'fields') {\n                this.setFields();\n                updateData[props[j]] = newProp[props[j]];\n            }\n            else if (newProp[props[j]]) {\n                updateData[props[j]] = newProp[props[j]];\n            }\n        }\n        if (Object.keys(updateData).length > 0) {\n            if (Object.keys(updateData).indexOf('dataSource') === -1) {\n                updateData.dataSource = this.dataSource;\n            }\n            this.updateDataSource(updateData, oldProp);\n        }\n    };\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {DropDownBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownBaseModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'dropdownbase') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        this.setUpdateInitial(['sortOrder', 'itemTemplate'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'sortOrder':\n                case 'dataSource':\n                case 'itemTemplate':\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'groupTemplate':\n                    this.renderGroupTemplate(this.list);\n                    if (this.ulElement && this.fixedHeaderElement) {\n                        var firstLi = this.ulElement.querySelector('.' + dropDownBaseClasses.group);\n                        this.fixedHeaderElement.innerHTML = firstLi.innerHTML;\n                    }\n                    break;\n                case 'locale':\n                    if (this.list && (!isNullOrUndefined(this.liCollections) && this.liCollections.length === 0)) {\n                        this.l10nUpdate();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n            }\n        }\n    };\n    /**\n     * Build and render the component\n     *\n     * @param {boolean} isEmptyData - Specifies the component to initialize with list data or not.\n     * @private\n     * @returns {void}\n     */\n    DropDownBase.prototype.render = function (e, isEmptyData) {\n        if (this.getModuleName() === 'listbox') {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content, attrs: { 'tabindex': '0' } });\n        }\n        else {\n            this.list = this.createElement('div', { className: dropDownBaseClasses.content });\n        }\n        this.list.classList.add(dropDownBaseClasses.root);\n        this.setFields();\n        var rippleModel = { duration: 300, selector: '.' + dropDownBaseClasses.li };\n        this.rippleFun = rippleEffect(this.list, rippleModel);\n        var group = this.element.querySelector('select>optgroup');\n        if ((this.fields.groupBy || !isNullOrUndefined(group)) && !this.isGroupChecking) {\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (this.getModuleName() === 'dropdownbase') {\n            if (this.element.getAttribute('tabindex')) {\n                this.list.setAttribute('tabindex', this.element.getAttribute('tabindex'));\n            }\n            removeClass([this.element], dropDownBaseClasses.root);\n            this.element.style.display = 'none';\n            var wrapperElement = this.createElement('div');\n            this.element.parentElement.insertBefore(wrapperElement, this.element);\n            wrapperElement.appendChild(this.element);\n            wrapperElement.appendChild(this.list);\n        }\n        this.setEnableRtl();\n        if (!isEmptyData) {\n            this.initialize(e);\n        }\n    };\n    DropDownBase.prototype.removeScrollEvent = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownBase.prototype.getModuleName = function () {\n        return 'dropdownbase';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownBase.prototype.getItems = function () {\n        return this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownBase.prototype.addItem = function (items, itemIndex) {\n        if (!this.list || (this.list.textContent === this.noRecordsTemplate && this.getModuleName() !== 'listbox')) {\n            this.renderList();\n        }\n        if (this.sortOrder !== 'None' && isNullOrUndefined(itemIndex)) {\n            var newList = [].slice.call(this.listData);\n            newList.push(items);\n            newList = this.getSortedDataSource(newList);\n            if (this.fields.groupBy) {\n                newList = ListBase.groupDataSource(newList, this.fields.properties, this.sortOrder);\n                itemIndex = newList.indexOf(items);\n            }\n            else {\n                itemIndex = newList.indexOf(items);\n            }\n        }\n        var itemsCount = this.getItems().length;\n        var selectedItemValue = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        items = (items instanceof Array ? items : [items]);\n        var index;\n        index = (isNullOrUndefined(itemIndex) || itemIndex < 0 || itemIndex > itemsCount - 1) ? itemsCount : itemIndex;\n        var fields = this.fields;\n        if (items && fields.groupBy) {\n            items = ListBase.groupDataSource(items, fields.properties);\n        }\n        var liCollections = [];\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var isHeader = item.isHeader;\n            var li = this.createElement('li', { className: isHeader ? dropDownBaseClasses.group : dropDownBaseClasses.li, id: 'option-add-' + i });\n            var itemText = item instanceof Object ? getValue(fields.text, item) : item;\n            if (isHeader) {\n                li.innerText = itemText;\n            }\n            if (this.itemTemplate && !isHeader) {\n                var itemCheck = this.templateCompiler(this.itemTemplate);\n                var compiledString = typeof this.itemTemplate !== 'function' &&\n                    itemCheck ? compile(select(this.itemTemplate, document).innerHTML.trim()) : compile(this.itemTemplate);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var addItemTemplate = compiledString(item, this, 'itemTemplate', this.itemTemplateId, this.isStringTemplate, null, li);\n                if (addItemTemplate) {\n                    append(addItemTemplate, li);\n                }\n            }\n            else if (!isHeader) {\n                li.appendChild(document.createTextNode(itemText));\n            }\n            li.setAttribute('data-value', item instanceof Object ? getValue(fields.value, item) : item);\n            li.setAttribute('role', 'option');\n            this.notify('addItem', { module: 'CheckBoxSelection', item: li });\n            liCollections.push(li);\n            this.listData.push(item);\n            if (this.sortOrder === 'None' && isNullOrUndefined(itemIndex) && index === 0) {\n                index = null;\n            }\n            this.updateActionCompleteData(li, item, index);\n            //Listbox event\n            this.trigger('beforeItemRender', { element: li, item: item });\n        }\n        if (itemsCount === 0 && isNullOrUndefined(this.list.querySelector('ul'))) {\n            if (!isNullOrUndefined(this.list)) {\n                this.list.innerHTML = '';\n                this.list.classList.remove(dropDownBaseClasses.noData);\n                this.isAddNewItemTemplate = true;\n                if (!isNullOrUndefined(this.ulElement)) {\n                    this.list.appendChild(this.ulElement);\n                }\n            }\n            this.liCollections = liCollections;\n            if (!isNullOrUndefined(liCollections) && !isNullOrUndefined(this.ulElement)) {\n                append(liCollections, this.ulElement);\n            }\n            this.updateAddItemList(this.list, itemsCount);\n        }\n        else {\n            if (this.getModuleName() === 'listbox' && itemsCount === 0) {\n                this.ulElement.innerHTML = '';\n            }\n            var attr = [];\n            for (var i = 0; i < items.length; i++) {\n                var listGroupItem = this.ulElement.querySelectorAll('.e-list-group-item');\n                for (var j = 0; j < listGroupItem.length; j++) {\n                    attr[j] = listGroupItem[j].innerText;\n                }\n                if (attr.indexOf(liCollections[i].innerText) > -1 && fields.groupBy) {\n                    for (var j = 0; j < listGroupItem.length; j++) {\n                        if (attr[j] === liCollections[i].innerText) {\n                            if (this.sortOrder === 'None') {\n                                this.ulElement.insertBefore(liCollections[i + 1], listGroupItem[j + 1]);\n                            }\n                            else {\n                                this.ulElement.insertBefore(liCollections[i + 1], this.ulElement.childNodes[itemIndex]);\n                            }\n                            i = i + 1;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (this.liCollections[index]) {\n                        this.liCollections[index].parentNode.insertBefore(liCollections[i], this.liCollections[index]);\n                    }\n                    else {\n                        this.ulElement.appendChild(liCollections[i]);\n                    }\n                }\n                var tempLi = [].slice.call(this.liCollections);\n                tempLi.splice(index, 0, liCollections[i]);\n                this.liCollections = tempLi;\n                index += 1;\n                if (this.getModuleName() === 'multiselect') {\n                    this.updateDataList();\n                }\n            }\n        }\n        if (this.getModuleName() === 'listbox' && this.isReact) {\n            this.renderReactTemplates();\n        }\n        if (selectedItemValue || itemIndex === 0) {\n            this.updateSelection();\n        }\n        this.addedNewItem = true;\n    };\n    DropDownBase.prototype.validationAttribute = function (target, hidden) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        hidden.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (!target.getAttribute(attributes[i])) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            hidden.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    DropDownBase.prototype.setZIndex = function () {\n        // this is for component wise\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateActionCompleteData = function (li, item, index) {\n        // this is for ComboBox custom value\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownBase.prototype.updateAddItemList = function (list, itemCount) {\n        // this is for multiselect add item\n    };\n    DropDownBase.prototype.updateDataList = function () {\n        // this is for multiselect update list items\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownBase.prototype.getDataByValue = function (value) {\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    if (!isNullOrUndefined(item) && item === value) {\n                        return item;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                        return item;\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownBase.prototype.destroy = function () {\n        if (document.body.contains(this.list)) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            if (!isNullOrUndefined(this.rippleFun)) {\n                this.rippleFun();\n            }\n            detach(this.list);\n        }\n        this.liCollections = null;\n        this.ulElement = null;\n        this.list = null;\n        this.enableRtlElements = null;\n        this.rippleFun = null;\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], DropDownBase.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], DropDownBase.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], DropDownBase.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownBase.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property([])\n    ], DropDownBase.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownBase.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownBase.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownBase.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownBase.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownBase.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], DropDownBase.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownBase.prototype, \"destroyed\", void 0);\n    DropDownBase = __decorate([\n        NotifyPropertyChanges\n    ], DropDownBase);\n    return DropDownBase;\n}(Component));\nexport { DropDownBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { EventHandler, Property, Event, compile, KeyboardEvents, append, select } from '@syncfusion/ej2-base';\nimport { attributes, isNullOrUndefined, getUniqueID, formatUnit, isUndefined, getValue } from '@syncfusion/ej2-base';\nimport { Animation, Browser, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, prepend, detach, classList } from '@syncfusion/ej2-base';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { incrementalSearch, resetIncrementalSearchValues } from '../common/incremental-search';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query, Predicate } from '@syncfusion/ej2-data';\n[];\n// don't use space in classnames\nexport var dropDownListClasses = {\n    root: 'e-dropdownlist',\n    hover: dropDownBaseClasses.hover,\n    selected: dropDownBaseClasses.selected,\n    rtl: dropDownBaseClasses.rtl,\n    li: dropDownBaseClasses.li,\n    disable: dropDownBaseClasses.disabled,\n    base: dropDownBaseClasses.root,\n    focus: dropDownBaseClasses.focus,\n    content: dropDownBaseClasses.content,\n    input: 'e-input-group',\n    inputFocus: 'e-input-focus',\n    icon: 'e-input-group-icon e-ddl-icon',\n    iconAnimation: 'e-icon-anim',\n    value: 'e-input-value',\n    device: 'e-ddl-device',\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    mobileFilter: 'e-ddl-device-filter',\n    footer: 'e-ddl-footer',\n    header: 'e-ddl-header',\n    clearIcon: 'e-clear-icon',\n    clearIconHide: 'e-clear-icon-hide',\n    popupFullScreen: 'e-popup-full-page',\n    disableIcon: 'e-ddl-disable-icon',\n    hiddenElement: 'e-ddl-hidden',\n    virtualList: 'e-list-item e-virtual-list',\n};\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The DropDownList component contains a list of predefined values from which you can\n * choose a single value.\n * ```html\n * <input type=\"text\" tabindex=\"1\" id=\"list\"> </input>\n * ```\n * ```typescript\n *   let dropDownListObj:DropDownList = new DropDownList();\n *   dropDownListObj.appendTo(\"#list\");\n * ```\n */\nvar DropDownList = /** @class */ (function (_super) {\n    __extends(DropDownList, _super);\n    /**\n     * * Constructor for creating the DropDownList component.\n     *\n     * @param {DropDownListModel} options - Specifies the DropDownList model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DropDownList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isListSearched = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isTouched = false;\n        _this.IsScrollerAtEnd = function () {\n            return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n        };\n        return _this;\n    }\n    /**\n     * Initialize the event handler.\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.preRender = function () {\n        this.valueTempElement = null;\n        this.element.style.opacity = '0';\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n        this.activeIndex = this.index;\n        this.queryString = '';\n    };\n    DropDownList.prototype.initializeData = function () {\n        this.isPopupOpen = false;\n        this.isDocumentClick = false;\n        this.isInteracted = false;\n        this.isFilterFocus = false;\n        this.beforePopupOpen = false;\n        this.initial = true;\n        this.initialRemoteRender = false;\n        this.isNotSearchList = false;\n        this.isTyped = false;\n        this.isSelected = false;\n        this.preventFocus = false;\n        this.preventAutoFill = false;\n        this.isValidKey = false;\n        this.typedString = '';\n        this.isEscapeKey = false;\n        this.isPreventBlur = false;\n        this.isTabKey = false;\n        this.actionCompleteData = { isUpdated: false };\n        this.actionData = { isUpdated: false };\n        this.prevSelectPoints = {};\n        this.isSelectCustom = false;\n        this.isDropDownClick = false;\n        this.preventAltUp = false;\n        this.isCustomFilter = false;\n        this.isSecondClick = false;\n        this.previousValue = null;\n        this.keyConfigure = {\n            tab: 'tab',\n            enter: '13',\n            escape: '27',\n            end: '35',\n            home: '36',\n            down: '40',\n            up: '38',\n            pageUp: '33',\n            pageDown: '34',\n            open: 'alt+40',\n            close: 'shift+tab',\n            hide: 'alt+38',\n            space: '32'\n        };\n        this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount,\n        };\n    };\n    DropDownList.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    DropDownList.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'VirtualScroll' });\n        }\n        return modules;\n    };\n    DropDownList.prototype.renderList = function (e, isEmptyData) {\n        _super.prototype.render.call(this, e, isEmptyData);\n        if (!(this.dataSource instanceof DataManager)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.enableVirtualization && this.isFiltering() && this.getModuleName() === 'combobox') {\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n            this.ulElement = this.list.querySelector('ul');\n        }\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    DropDownList.prototype.floatLabelChange = function () {\n        if (this.getModuleName() === 'dropdownlist' && this.floatLabelType === 'Auto') {\n            var floatElement = this.inputWrapper.container.querySelector('.e-float-text');\n            if (this.inputElement.value !== '' || this.isInteracted) {\n                classList(floatElement, ['e-label-top'], ['e-label-bottom']);\n            }\n            else {\n                classList(floatElement, ['e-label-bottom'], ['e-label-top']);\n            }\n        }\n    };\n    DropDownList.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        this.clearAll(e);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            this.virtualListInfo = null;\n            this.previousStartIndex = 0;\n            this.previousEndIndex = 0;\n        }\n    };\n    DropDownList.prototype.resetFocusElement = function () {\n        this.removeHover();\n        this.removeSelection();\n        this.removeFocus();\n        this.list.scrollTop = 0;\n        if (this.getModuleName() !== 'autocomplete' && !isNullOrUndefined(this.ulElement)) {\n            var li = this.ulElement.querySelector('.' + dropDownListClasses.li);\n            if (this.enableVirtualization) {\n                li = this.liCollections[this.skeletonCount];\n            }\n            if (li) {\n                li.classList.add(dropDownListClasses.focus);\n            }\n        }\n    };\n    DropDownList.prototype.clearAll = function (e, properties) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (isNullOrUndefined(properties) || (!isNullOrUndefined(properties) &&\n            (isNullOrUndefined(properties.dataSource) ||\n                (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n            this.isActive = true;\n            this.resetSelection(properties);\n        }\n        var dataItem = this.getItemData();\n        if ((!this.allowObjectBinding && (this.previousValue === dataItem.value)) || (this.allowObjectBinding && this.previousValue && this.isObjectInArray(this.previousValue, [this.allowCustom ? this.value ? this.value : dataItem : dataItem.value ? this.getDataByValue(dataItem.value) : dataItem]))) {\n            return;\n        }\n        this.onChangeEvent(e);\n        this.checkAndResetCache();\n        if (this.enableVirtualization) {\n            this.updateInitialData();\n        }\n    };\n    DropDownList.prototype.resetSelection = function (properties) {\n        if (this.list) {\n            if ((!isNullOrUndefined(properties) &&\n                (isNullOrUndefined(properties.dataSource) ||\n                    (!(properties.dataSource instanceof DataManager) && properties.dataSource.length === 0)))) {\n                this.selectedLI = null;\n                this.actionCompleteData.isUpdated = false;\n                this.actionCompleteData.ulElement = null;\n                this.actionCompleteData.list = null;\n                this.resetList(properties.dataSource);\n            }\n            else {\n                if (this.allowFiltering && this.getModuleName() !== 'autocomplete'\n                    && !isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list) &&\n                    this.actionCompleteData.list.length > 0) {\n                    this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(true), this.actionCompleteData.list);\n                }\n                this.resetFocusElement();\n            }\n        }\n        if (!isNullOrUndefined(this.hiddenElement)) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            this.inputElement.value = '';\n        }\n        this.value = null;\n        this.itemData = null;\n        this.text = null;\n        this.index = null;\n        this.activeIndex = null;\n        this.item = null;\n        this.queryString = '';\n        if (this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n            this.valueTempElement = null;\n        }\n        this.setSelection(null, null);\n        this.isSelectCustom = false;\n        this.updateIconState();\n        this.cloneElements();\n    };\n    DropDownList.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                    if (updatedClassValue !== '') {\n                        addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                    }\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[\"\" + htmlAttr] === 'disabled') {\n                    this.enabled = false;\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && !isNullOrUndefined(this.htmlAttributes[\"\" + htmlAttr])) {\n                    this.readonly = true;\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.container.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'aria-label') {\n                    if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n                        this.inputElement.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (this.getModuleName() === 'dropdownlist') {\n                        this.inputWrapper.container.setAttribute('aria-label', this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder',\n                        'role', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n                        defaultAttr.push('tabindex');\n                    }\n                    if (validateAttr.indexOf(htmlAttr) > -1 || htmlAttr.indexOf('data') === 0) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputElement);\n                        }\n                        else {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n        if (this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') {\n            this.inputWrapper.container.removeAttribute('tabindex');\n        }\n    };\n    DropDownList.prototype.getAriaAttributes = function () {\n        return {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false',\n            'aria-live': 'polite',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownList.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputElement.parentElement]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    DropDownList.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.targetElement().setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hidePopup();\n            addClass([this.inputWrapper.container], dropDownListClasses.disable);\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.targetElement().tabIndex = -1;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    DropDownList.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    DropDownList.prototype.getLocaleName = function () {\n        return 'drop-down-list';\n    };\n    DropDownList.prototype.preventTabIndex = function (element) {\n        if (this.getModuleName() === 'dropdownlist') {\n            element.tabIndex = -1;\n        }\n    };\n    DropDownList.prototype.targetElement = function () {\n        return !isNullOrUndefined(this.inputWrapper) ? this.inputWrapper.container : null;\n    };\n    DropDownList.prototype.getNgDirective = function () {\n        return 'EJS-DROPDOWNLIST';\n    };\n    DropDownList.prototype.getElementByText = function (text) {\n        return this.getElementByValue(this.getValueByText(text));\n    };\n    DropDownList.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    DropDownList.prototype.initValue = function () {\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initialRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    DropDownList.prototype.updateValues = function () {\n        this.selectedValueInfo = this.viewPortInfo;\n        if (!isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(((this.fields.value) ? this.fields.value : ''), this.value) : this.value;\n            this.setSelection(this.getElementByValue(value), null);\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var element = this.getElementByText(this.text);\n            if (isNullOrUndefined(element)) {\n                this.setProperties({ text: null });\n                return;\n            }\n            else {\n                this.setSelection(element, null);\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DropDownList.prototype.onBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        var target = e.relatedTarget;\n        var currentTarget = e.target;\n        var isPreventBlur = this.isPreventBlur;\n        this.isPreventBlur = false;\n        //IE 11 - issue\n        if (isPreventBlur && !this.isDocumentClick && this.isPopupOpen && (!isNullOrUndefined(currentTarget) ||\n            !this.isFilterLayout() && isNullOrUndefined(target))) {\n            if (this.getModuleName() === 'dropdownlist' && this.allowFiltering && this.isPopupOpen) {\n                this.filterInput.focus();\n            }\n            else {\n                this.targetElement().focus();\n            }\n            return;\n        }\n        if (this.isDocumentClick || (!isNullOrUndefined(this.popupObj)\n            && document.body.contains(this.popupObj.element) &&\n            this.popupObj.element.classList.contains(dropDownListClasses.mobileFilter))) {\n            if (!this.beforePopupOpen) {\n                this.isDocumentClick = false;\n            }\n            return;\n        }\n        if (((this.getModuleName() === 'dropdownlist' && !this.isFilterFocus && target !== this.inputElement)\n            && (document.activeElement !== target || (document.activeElement === target &&\n                currentTarget.classList.contains(dropDownListClasses.inputFocus)))) ||\n            (isNullOrUndefined(target) && this.getModuleName() === 'dropdownlist' && this.allowFiltering &&\n                currentTarget !== this.inputWrapper.container) || this.getModuleName() !== 'dropdownlist' &&\n            !this.inputWrapper.container.contains(target) || this.isTabKey) {\n            this.isDocumentClick = this.isPopupOpen ? true : false;\n            this.focusOutAction(e);\n            this.isTabKey = false;\n        }\n        if (this.isRequested && !this.isPopupOpen && !this.isPreventBlur) {\n            this.isActive = false;\n            this.beforePopupOpen = false;\n        }\n    };\n    DropDownList.prototype.focusOutAction = function (e) {\n        this.isInteracted = false;\n        this.focusOut(e);\n        this.onFocusOut(e);\n    };\n    DropDownList.prototype.onFocusOut = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isSelected) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        this.floatLabelChange();\n        this.dispatchEvent(this.hiddenElement, 'change');\n        if (this.getModuleName() === 'dropdownlist' && this.element.tagName !== 'INPUT') {\n            this.dispatchEvent(this.inputElement, 'blur');\n        }\n        if (this.inputWrapper.clearButton) {\n            addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n        }\n        this.trigger('blur');\n    };\n    DropDownList.prototype.onFocus = function (e) {\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            var args = { isInteracted: e ? true : false, event: e };\n            this.trigger('focus', args);\n        }\n        this.updateIconState();\n    };\n    DropDownList.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var val = (this.element.tagName === this.getNgDirective()) ? null : this.inputElement.getAttribute('value');\n            this.text = val;\n        }\n    };\n    DropDownList.prototype.wireEvent = function () {\n        EventHandler.add(this.inputWrapper.container, 'mousedown', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper.container, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper.container, 'keypress', this.onSearch, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        this.bindCommonEvent();\n    };\n    DropDownList.prototype.bindCommonEvent = function () {\n        EventHandler.add(this.targetElement(), 'blur', this.onBlurHandler, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.keyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.targetElement(), {\n                keyAction: this.mobileKeyActionHandler.bind(this), keyConfigs: this.keyConfigure, eventName: 'keydown'\n            });\n        }\n        this.bindClearEvent();\n    };\n    DropDownList.prototype.windowResize = function () {\n        if (this.isPopupOpen) {\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n        }\n    };\n    DropDownList.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DropDownList.prototype.unBindCommonEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper) && this.targetElement()) {\n            EventHandler.remove(this.targetElement(), 'blur', this.onBlurHandler);\n        }\n        var formElement = this.inputElement && closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n        if (!Browser.isDevice) {\n            this.keyboardModule.destroy();\n        }\n        if (this.showClearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown', this.resetHandler);\n        }\n    };\n    DropDownList.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(this.list, 'click', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DropDownList.prototype.onSearch = function (e) {\n        if (e.charCode !== 32 && e.charCode !== 13) {\n            if (this.list === undefined) {\n                this.renderList();\n            }\n            this.searchKeyEvent = e;\n            this.onServerIncrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onServerIncrementalSearch = function (e) {\n        if (!this.isRequested && !isNullOrUndefined(this.list) &&\n            !isNullOrUndefined(this.list.querySelector('li')) && this.enabled && !this.readonly) {\n            this.incrementalSearch(e);\n        }\n    };\n    DropDownList.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        this.keyboardEvent = null;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.setSelection(li, e);\n        if (Browser.isDevice && this.isFilterLayout()) {\n            history.back();\n        }\n        else {\n            var delay = 100;\n            this.closePopup(delay, e);\n        }\n    };\n    DropDownList.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    DropDownList.prototype.setHover = function (li) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    DropDownList.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    DropDownList.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    DropDownList.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    DropDownList.prototype.updateIncrementalItemIndex = function (startIndex, endIndex) {\n        this.incrementalStartIndex = startIndex;\n        this.incrementalEndIndex = endIndex;\n    };\n    DropDownList.prototype.incrementalSearch = function (e) {\n        if (this.liCollections.length > 0) {\n            if (this.enableVirtualization) {\n                var updatingincrementalindex = false;\n                var queryStringUpdated = false;\n                var activeElement = this.ulElement.getElementsByClassName('e-active')[0];\n                var currentValue = activeElement ? activeElement.textContent : null;\n                if (this.incrementalQueryString == '') {\n                    this.incrementalQueryString = String.fromCharCode(e.charCode);\n                    this.incrementalPreQueryString = this.incrementalQueryString;\n                }\n                else if (String.fromCharCode(e.charCode).toLocaleLowerCase() == this.incrementalPreQueryString.toLocaleLowerCase()) {\n                    queryStringUpdated = true;\n                }\n                else {\n                    this.incrementalQueryString = String.fromCharCode(e.charCode);\n                }\n                if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) || this.incrementalEndIndex == 0) {\n                    updatingincrementalindex = true;\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    if (this.incrementalEndIndex == 0) {\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                    }\n                    else {\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                    }\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                }\n                if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                    this.updateIncrementalView(0, this.itemCount);\n                }\n                var li = incrementalSearch(e.charCode, this.incrementalLiCollections, this.activeIndex, true, this.element.id, queryStringUpdated, currentValue, true);\n                while (isNullOrUndefined(li) && this.incrementalEndIndex < this.totalItemCount) {\n                    this.updateIncrementalItemIndex(this.incrementalEndIndex, this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100);\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n                    if (!isNullOrUndefined(li)) {\n                        break;\n                    }\n                    if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n                        this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(li) && this.incrementalEndIndex >= this.totalItemCount) {\n                    this.updateIncrementalItemIndex(0, 100 > this.totalItemCount ? this.totalItemCount : 100);\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    li = incrementalSearch(e.charCode, this.incrementalLiCollections, 0, true, this.element.id, queryStringUpdated, currentValue, true, true);\n                }\n                var index = li && this.getIndexByValue(li.getAttribute('data-value'));\n                if (!index) {\n                    for (var i = 0; i < this.incrementalLiCollections.length; i++) {\n                        if (!isNullOrUndefined(li) && !isNullOrUndefined(li.getAttribute('data-value')) && this.incrementalLiCollections[i].getAttribute('data-value') === li.getAttribute('data-value').toString()) {\n                            index = i;\n                            index = this.incrementalStartIndex + index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    index = index - this.skeletonCount;\n                }\n                if (index) {\n                    if ((!(this.viewPortInfo.startIndex >= index)) || (!(index >= this.viewPortInfo.endIndex))) {\n                        var startIndex = index - ((this.itemCount / 2) - 2) > 0 ? index - ((this.itemCount / 2) - 2) : 0;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                }\n                if (!isNullOrUndefined(li)) {\n                    var index_1 = this.getIndexByValue(li.getAttribute('data-value')) - this.skeletonCount;\n                    if (index_1 > this.itemCount / 2) {\n                        var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                    li = this.getElementByValue(li.getAttribute('data-value'));\n                    this.setSelection(li, e);\n                    this.setScrollPosition();\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    if (this.enableVirtualization && !this.fields.groupBy) {\n                        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                        this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n                    }\n                    this.incrementalPreQueryString = this.incrementalQueryString;\n                }\n                else {\n                    this.updateIncrementalView(0, this.itemCount);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    this.list.scrollTop = 0;\n                }\n            }\n            else {\n                var li = incrementalSearch(e.charCode, this.liCollections, this.activeIndex, true, this.element.id);\n                if (!isNullOrUndefined(li)) {\n                    this.setSelection(li, e);\n                    this.setScrollPosition();\n                }\n            }\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            this.spinnerElement.innerHTML = '';\n            this.spinnerElement = null;\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = Browser.isDevice && !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[1] ||\n                !isNullOrUndefined(this.filterInputObj) && this.filterInputObj.buttons[0] || this.inputWrapper.buttons[0];\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    DropDownList.prototype.keyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.keyboardEvent = e;\n        if (this.isPreventKeyAction && this.enableVirtualization) {\n            e.preventDefault();\n        }\n        var preventAction = e.action === 'pageUp' || e.action === 'pageDown';\n        var preventHomeEnd = this.getModuleName() !== 'dropdownlist' && (e.action === 'home' || e.action === 'end');\n        this.isEscapeKey = e.action === 'escape';\n        this.isTabKey = !this.isPopupOpen && e.action === 'tab';\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        if ((this.isEditTextBox() || preventAction || preventHomeEnd) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            var isTabAction = e.action === 'tab' || e.action === 'close';\n            if (isNullOrUndefined(this.list) && !this.isRequested && !isTabAction && e.action !== 'escape') {\n                this.searchKeyEvent = e;\n                if (!this.enableVirtualization || (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38))) {\n                    this.renderList(e);\n                    this.UpdateSkeleton();\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.ulElement = this.list.querySelector('ul');\n                }\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                isNavigation && this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if ((isTabAction && this.getModuleName() !== 'autocomplete') && this.isPopupOpen\n                || e.action === 'escape') {\n                e.preventDefault();\n            }\n            this.isSelected = e.action === 'escape' ? false : this.isSelected;\n            this.isTyped = (isNavigation || e.action === 'escape') ? false : this.isTyped;\n            switch (e.action) {\n                case 'down':\n                case 'up':\n                    this.updateUpDownAction(e);\n                    break;\n                case 'pageUp':\n                    this.pageUpSelection(this.activeIndex - this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'pageDown':\n                    this.pageDownSelection(this.activeIndex + this.getPageCount(), e);\n                    e.preventDefault();\n                    break;\n                case 'home':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'end':\n                    this.isMouseScrollAction = true;\n                    this.updateHomeEndAction(e);\n                    break;\n                case 'space':\n                    if (this.getModuleName() === 'dropdownlist') {\n                        if (!this.beforePopupOpen) {\n                            this.showPopup();\n                            e.preventDefault();\n                        }\n                    }\n                    break;\n                case 'open':\n                    this.showPopup(e);\n                    break;\n                case 'hide':\n                    this.preventAltUp = this.isPopupOpen;\n                    this.hidePopup(e);\n                    this.focusDropDown(e);\n                    break;\n                case 'enter':\n                    this.selectCurrentItem(e);\n                    break;\n                case 'tab':\n                    this.selectCurrentValueOnTab(e);\n                    break;\n                case 'escape':\n                case 'close':\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                        this.focusDropDown(e);\n                    }\n                    break;\n            }\n        }\n    };\n    DropDownList.prototype.updateUpDownAction = function (e, isVirtualKeyAction) {\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var value_1 = this.getItemData().value;\n            if (isNullOrUndefined(value_1)) {\n                value_1 = 'null';\n            }\n            var filterIndex = this.getIndexByValue(value_1);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n        }\n        var focusEle = this.list.querySelector('.' + dropDownListClasses.focus);\n        if (this.isSelectFocusItem(focusEle) && !isVirtualKeyAction) {\n            this.setSelection(focusEle, e);\n            if (this.enableVirtualization && !this.fields.groupBy && this.getModuleName() !== 'combobox') {\n                var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n                this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * this.selectedLI.offsetHeight);\n            }\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var virtualIndex = this.activeIndex;\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            index = isVirtualKeyAction ? virtualIndex : index;\n            var startIndex = 0;\n            if (this.getModuleName() === 'autocomplete') {\n                startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n                index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            }\n            var nextItem = void 0;\n            if (this.getModuleName() !== 'autocomplete' || this.getModuleName() === 'autocomplete' && this.isPopupOpen) {\n                if (!this.enableVirtualization) {\n                    nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[startIndex]\n                        : this.liCollections[index];\n                }\n                else {\n                    if (!isVirtualKeyAction) {\n                        nextItem = isNullOrUndefined(this.activeIndex) ? this.liCollections[this.skeletonCount]\n                            : this.liCollections[index];\n                        nextItem = !isNullOrUndefined(nextItem) && !nextItem.classList.contains('e-virtual-list') ? nextItem : null;\n                    }\n                    else {\n                        if (this.getModuleName() === 'autocomplete') {\n                            var value = this.getFormattedValue(this.selectedLI.getAttribute('data-value'));\n                            nextItem = this.getElementByValue(value);\n                        }\n                        else {\n                            nextItem = this.getElementByValue(this.getItemData().value);\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(nextItem)) {\n                this.setSelection(nextItem, e);\n            }\n            else if (this.enableVirtualization && !this.isPopupOpen && this.getModuleName() !== 'autocomplete' && ((this.viewPortInfo.endIndex !== this.totalItemCount && e.action === 'down') || (this.viewPortInfo.startIndex !== 0 && e.action === 'up'))) {\n                if (e.action === 'down') {\n                    this.viewPortInfo.startIndex = (this.viewPortInfo.startIndex + this.itemCount) < (this.totalItemCount - this.itemCount) ? this.viewPortInfo.startIndex + this.itemCount : this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n                    this.resetList(this.dataSource, this.fields, this.query);\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n                    var value_2 = this.liCollections[0].getAttribute('data-value') !== \"null\" ? this.getFormattedValue(this.liCollections[0].getAttribute('data-value')) : null;\n                    var selectedData = this.getDataByValue(value_2);\n                    if (selectedData) {\n                        this.itemData = selectedData;\n                    }\n                }\n                else if (e.action === 'up') {\n                    this.viewPortInfo.startIndex = (this.viewPortInfo.startIndex - this.itemCount) > 0 ? this.viewPortInfo.startIndex - this.itemCount : 0;\n                    this.viewPortInfo.endIndex = this.viewPortInfo.startIndex + this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? true : this.isCustomFilter;\n                    this.resetList(this.dataSource, this.fields, this.query);\n                    this.isCustomFilter = this.getModuleName() === 'combobox' ? false : this.isCustomFilter;\n                    var value_3 = this.liCollections[this.liCollections.length - 1].getAttribute('data-value') !== \"null\" ? this.getFormattedValue(this.liCollections[this.liCollections.length - 1].getAttribute('data-value')) : null;\n                    var selectedData = this.getDataByValue(value_3);\n                    if (selectedData) {\n                        this.itemData = selectedData;\n                    }\n                }\n                this.UpdateSkeleton();\n                this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                this.ulElement = this.list.querySelector('ul');\n                this.handleVirtualKeyboardActions(e, this.pageCount);\n            }\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var value_4 = this.getItemData().value;\n            var filterIndex = this.getIndexByValueFilter(value_4);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n        }\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist' && this.filterInput) {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n        e.preventDefault();\n    };\n    DropDownList.prototype.updateHomeEndAction = function (e, isVirtualKeyAction) {\n        if (this.getModuleName() === 'dropdownlist') {\n            var findLi = 0;\n            if (e.action === 'home') {\n                findLi = 0;\n                if (this.enableVirtualization && this.isPopupOpen) {\n                    findLi = this.skeletonCount;\n                }\n                else if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.startIndex !== 0) {\n                    this.viewPortInfo.startIndex = 0;\n                    this.viewPortInfo.endIndex = this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n            }\n            else {\n                if (this.enableVirtualization && !this.isPopupOpen && this.viewPortInfo.endIndex !== this.totalItemCount) {\n                    this.viewPortInfo.startIndex = this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.totalItemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n                findLi = this.getItems().length - 1;\n            }\n            e.preventDefault();\n            if (this.activeIndex === findLi) {\n                if (isVirtualKeyAction) {\n                    this.setSelection(this.liCollections[findLi], e);\n                }\n                return;\n            }\n            this.setSelection(this.liCollections[findLi], e);\n        }\n    };\n    DropDownList.prototype.selectCurrentValueOnTab = function (e) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.selectCurrentItem(e);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                this.focusDropDown(e);\n            }\n        }\n    };\n    DropDownList.prototype.mobileKeyActionHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if ((this.isEditTextBox()) && !this.isPopupOpen) {\n            return;\n        }\n        if (!this.readonly) {\n            if (this.list === undefined && !this.isRequested) {\n                this.searchKeyEvent = e;\n                this.renderList();\n            }\n            if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n                this.liCollections.length === 0) || this.isRequested) {\n                return;\n            }\n            if (e.action === 'enter') {\n                this.selectCurrentItem(e);\n            }\n        }\n    };\n    DropDownList.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                if (this.itemData != null || this.getModuleName() === 'autocomplete') {\n                    this.updateUpDownAction(e, true);\n                }\n                break;\n            case 'pageUp':\n                var count = (pageCount * 2) - 4;\n                this.activeIndex = Math.round(count);\n                this.pageUpSelection(this.activeIndex - this.getPageCount(), e, true);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.activeIndex = 1;\n                this.pageDownSelection(this.activeIndex + this.getPageCount(), e, true);\n                e.preventDefault();\n                break;\n            case 'home':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n            case 'end':\n                this.isMouseScrollAction = true;\n                this.updateHomeEndAction(e, true);\n                break;\n        }\n        this.keyboardEvent = null;\n    };\n    DropDownList.prototype.selectCurrentItem = function (e) {\n        if (this.isPopupOpen) {\n            var li = this.list.querySelector('.' + dropDownListClasses.focus);\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n            this.hidePopup(e);\n            this.focusDropDown(e);\n        }\n        else {\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    DropDownList.prototype.pageUpSelection = function (steps, event, isVirtualKeyAction) {\n        var previousItem = steps >= 0 ? this.liCollections[steps + 1] : this.liCollections[0];\n        if ((this.enableVirtualization && this.activeIndex == null) || isVirtualKeyAction) {\n            previousItem = steps >= 0 ? this.liCollections[steps + this.skeletonCount + 1] : this.liCollections[0];\n        }\n        if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n            previousItem = this.liCollections[this.skeletonCount];\n        }\n        this.PageUpDownSelection(previousItem, event);\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n    };\n    DropDownList.prototype.PageUpDownSelection = function (previousItem, event) {\n        if (this.enableVirtualization) {\n            if (!isNullOrUndefined(previousItem) && ((this.getModuleName() !== 'autocomplete' && !previousItem.classList.contains('e-active')) || (this.getModuleName() === 'autocomplete' && !previousItem.classList.contains('e-item-focus')))) {\n                this.setSelection(previousItem, event);\n            }\n        }\n        else {\n            this.setSelection(previousItem, event);\n        }\n    };\n    DropDownList.prototype.pageDownSelection = function (steps, event, isVirtualKeyAction) {\n        var list = this.getItems();\n        var previousItem = steps <= list.length ? this.liCollections[steps - 1] : this.liCollections[list.length - 1];\n        if (this.enableVirtualization && this.skeletonCount > 0) {\n            steps = this.getModuleName() === 'dropdownlist' && this.allowFiltering ? steps + 1 : steps;\n            previousItem = steps < list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        if ((this.enableVirtualization && this.activeIndex == null) || isVirtualKeyAction) {\n            previousItem = steps <= list.length ? this.liCollections[steps + this.skeletonCount - 1] : this.liCollections[list.length - 1];\n        }\n        this.PageUpDownSelection(previousItem, event);\n        if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n            }\n            else if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n                attributes(this.filterInput, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n            }\n        }\n    };\n    DropDownList.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.inputWrapper)) {\n            EventHandler.remove(this.inputWrapper.container, 'mousedown', this.dropDownClick);\n            EventHandler.remove(this.inputWrapper.container, 'keypress', this.onSearch);\n            EventHandler.remove(this.inputWrapper.container, 'focus', this.focusIn);\n            EventHandler.remove(window, 'resize', this.windowResize);\n        }\n        this.unBindCommonEvent();\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.unWireListEvents = function () {\n        if (this.list) {\n            EventHandler.remove(this.list, 'click', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    DropDownList.prototype.checkSelector = function (id) {\n        return '[id=\"' + id.replace(/(:|\\.|\\[|\\]|,|=|@|\\\\|\\/|#)/g, '\\\\$1') + '\"]';\n    };\n    DropDownList.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, this.checkSelector(this.popupObj.element.id))) &&\n            !isNullOrUndefined(this.inputWrapper) && !this.inputWrapper.container.contains(e.target)) {\n            if (this.inputWrapper.container.classList.contains(dropDownListClasses.inputFocus) || this.isPopupOpen) {\n                this.isDocumentClick = true;\n                var isActive = this.isRequested;\n                if (this.getModuleName() === 'combobox' && this.isTyped) {\n                    this.isInteracted = false;\n                }\n                this.hidePopup(e);\n                this.isInteracted = false;\n                if (!isActive) {\n                    this.onFocusOut(e);\n                    this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n                }\n            }\n        }\n        else if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput)\n            && !(this.getModuleName() === 'combobox' &&\n                !this.allowFiltering && Browser.isDevice && target === this.inputWrapper.buttons[0])) {\n            this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.targetElement() ||\n                document.activeElement === this.filterInput);\n            e.preventDefault();\n        }\n    };\n    DropDownList.prototype.activeStateChange = function () {\n        if (this.isDocumentClick) {\n            this.hidePopup();\n            this.onFocusOut();\n            this.inputWrapper.container.classList.remove(dropDownListClasses.inputFocus);\n        }\n    };\n    DropDownList.prototype.focusDropDown = function (e) {\n        if (!this.initial && this.isFilterLayout()) {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.dropDownClick = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        this.keyboardEvent = null;\n        if (this.targetElement().classList.contains(dropDownListClasses.disable) || this.inputWrapper.clearButton === e.target) {\n            return;\n        }\n        var target = e.target;\n        if (target !== this.inputElement && !(this.allowFiltering && target === this.filterInput) && this.getModuleName() !== 'combobox') {\n            e.preventDefault();\n        }\n        if (!this.readonly) {\n            if (this.isPopupOpen) {\n                this.hidePopup(e);\n                if (this.isFilterLayout()) {\n                    this.focusDropDown(e);\n                }\n            }\n            else {\n                this.focusIn(e);\n                this.floatLabelChange();\n                this.queryString = this.inputElement.value.trim() === '' ? null : this.inputElement.value;\n                this.isDropDownClick = true;\n                this.showPopup(e);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            // eslint-disable-next-line max-len\n            var duration = (this.element.tagName === this.getNgDirective() && this.itemTemplate) ? 500 : 100;\n            if (!this.isSecondClick) {\n                setTimeout(function () {\n                    proxy_1.cloneElements();\n                    proxy_1.isSecondClick = true;\n                }, duration);\n            }\n        }\n        else {\n            this.focusIn(e);\n        }\n    };\n    DropDownList.prototype.cloneElements = function () {\n        if (this.list) {\n            var ulElement = this.list.querySelector('ul');\n            if (ulElement) {\n                ulElement = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                this.actionCompleteData.ulElement = ulElement;\n            }\n        }\n    };\n    DropDownList.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = li.getAttribute('data-value') !== \"null\" ? this.getFormattedValue(li.getAttribute('data-value')) : null;\n        var selectedData = this.getDataByValue(value);\n        if (!this.initial && !preventSelect && !isNullOrUndefined(e)) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                }\n                else {\n                    _this.selectEventCallback(li, e, preventSelect, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, e, preventSelect, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    DropDownList.prototype.selectEventCallback = function (li, e, preventSelect, selectedData, value) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        if (this.itemData != selectedData) {\n            this.previousValue = (!isNullOrUndefined(this.itemData)) ? typeof this.itemData == \"object\" && !this.allowObjectBinding ? this.checkFieldValue(this.itemData, this.fields.value.split('.')) : this.itemData : null;\n        }\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        li.setAttribute('aria-selected', 'true');\n        if (isNullOrUndefined(value)) {\n            value = 'null';\n        }\n        if (this.allowFiltering && !this.enableVirtualization && this.getModuleName() !== 'autocomplete') {\n            var filterIndex = this.getIndexByValueFilter(value);\n            if (!isNullOrUndefined(filterIndex)) {\n                this.activeIndex = filterIndex;\n            }\n            else {\n                this.activeIndex = this.getIndexByValue(value);\n            }\n        }\n        else {\n            this.activeIndex = this.getIndexByValue(value);\n        }\n    };\n    DropDownList.prototype.activeItem = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.selected)) {\n            this.removeSelection();\n            li.classList.add(dropDownBaseClasses.selected);\n            this.removeHover();\n            li.setAttribute('aria-selected', 'true');\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.setValue = function (e) {\n        var dataItem = this.getItemData();\n        if (dataItem.value === null) {\n            Input.setValue(null, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dataItem.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        if (this.valueTemplate && this.itemData !== null) {\n            this.setValueTemplate();\n        }\n        else if (!isNullOrUndefined(this.valueTempElement) && this.inputElement.previousSibling === this.valueTempElement) {\n            detach(this.valueTempElement);\n            this.inputElement.style.display = 'block';\n        }\n        if (!isNullOrUndefined(dataItem.value) && !this.enableVirtualization && this.allowFiltering) {\n            this.activeIndex = this.getIndexByValueFilter(dataItem.value);\n        }\n        var clearIcon = dropDownListClasses.clearIcon;\n        var isFilterElement = this.isFiltering() && this.filterInput && (this.getModuleName() === 'combobox');\n        var clearElement = isFilterElement && this.filterInput.parentElement.querySelector('.' + clearIcon);\n        if (this.isFiltering() && clearElement) {\n            clearElement.style.removeProperty('visibility');\n        }\n        if ((!this.allowObjectBinding && (this.previousValue === dataItem.value)) || (this.allowObjectBinding && (this.previousValue != null && this.isObjectInArray(this.previousValue, [this.allowCustom && this.isObjectCustomValue ? this.value ? this.value : dataItem : dataItem.value ? this.getDataByValue(dataItem.value) : dataItem])))) {\n            this.isSelected = false;\n            return true;\n        }\n        else {\n            this.isSelected = !this.initial ? true : false;\n            this.isSelectCustom = false;\n            if (this.getModuleName() === 'dropdownlist') {\n                this.updateIconState();\n            }\n            return false;\n        }\n    };\n    DropDownList.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n            if (this.enableVirtualization && this.value) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                if (this.dataSource instanceof DataManager && this.virtualGroupDataSource) {\n                    var getItem = new DataManager(this.virtualGroupDataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n                else {\n                    var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DropDownList.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.setValue(e)) {\n            return;\n        }\n        if ((!this.isPopupOpen && !isNullOrUndefined(li)) || (this.isPopupOpen && !isNullOrUndefined(e) &&\n            (e.type !== 'keydown' || e.type === 'keydown' && e.action === 'enter'))) {\n            this.isSelectCustom = false;\n            this.onChangeEvent(e);\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI) && this.itemData !== null && (!e || e.type !== 'click')) {\n            this.setScrollPosition(e);\n        }\n        if (Browser.info.name !== 'mozilla') {\n            if (this.targetElement()) {\n                attributes(this.targetElement(), { 'aria-describedby': this.inputElement.id !== '' ? this.inputElement.id : this.element.id });\n                this.targetElement().removeAttribute('aria-live');\n            }\n        }\n        if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n        else if (this.isPopupOpen && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-active')[0])) {\n            attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-active')[0].id });\n        }\n    };\n    DropDownList.prototype.dropdownCompiler = function (dropdownTemplate) {\n        var checkTemplate = false;\n        if (typeof dropdownTemplate !== 'function' && dropdownTemplate) {\n            try {\n                checkTemplate = (document.querySelectorAll(dropdownTemplate).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    DropDownList.prototype.setValueTemplate = function () {\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['valueTemplate']);\n            if (this.valueTempElement) {\n                detach(this.valueTempElement);\n                this.inputElement.style.display = 'block';\n                this.valueTempElement = null;\n            }\n        }\n        if (!this.valueTempElement) {\n            this.valueTempElement = this.createElement('span', { className: dropDownListClasses.value });\n            this.inputElement.parentElement.insertBefore(this.valueTempElement, this.inputElement);\n            this.inputElement.style.display = 'none';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.valueTempElement.innerHTML = '';\n        }\n        var valuecheck = this.dropdownCompiler(this.valueTemplate);\n        if (typeof this.valueTemplate !== 'function' && valuecheck) {\n            compiledString = compile(document.querySelector(this.valueTemplate).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.valueTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var valueCompTemp = compiledString(this.itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, this.valueTempElement);\n        if (valueCompTemp && valueCompTemp.length > 0) {\n            append(valueCompTemp, this.valueTempElement);\n        }\n        this.renderReactTemplates();\n    };\n    DropDownList.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DropDownList.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    /**\n     * To trigger the change event for list.\n     *\n     * @param {MouseEvent | KeyboardEvent | TouchEvent} eve - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onChangeEvent = function (eve, isCustomValue) {\n        var _this = this;\n        var dataItem = this.getItemData();\n        var index = this.isSelectCustom ? null : this.activeIndex;\n        if (this.enableVirtualization) {\n            var datas = this.dataSource instanceof DataManager ? this.virtualGroupDataSource : this.dataSource;\n            if (dataItem.value && datas && datas.length > 0) {\n                var foundIndex = datas.findIndex(function (data) {\n                    return !isNullOrUndefined(dataItem.value) && getValue(_this.fields.value, data) === dataItem.value;\n                });\n                if (foundIndex !== -1) {\n                    index = foundIndex;\n                }\n            }\n        }\n        var value = this.allowObjectBinding ? isCustomValue ? this.value : this.getDataByValue(dataItem.value) : dataItem.value;\n        this.setProperties({ 'index': index, 'text': dataItem.text, 'value': value }, true);\n        this.detachChangeEvent(eve);\n    };\n    DropDownList.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    DropDownList.prototype.detachChangeEvent = function (eve) {\n        this.isSelected = false;\n        this.previousValue = this.value;\n        this.activeIndex = this.enableVirtualization ? this.getIndexByValue(this.value) : this.index;\n        this.typedString = !isNullOrUndefined(this.text) ? this.text : '';\n        if (!this.initial) {\n            var items = this.detachChanges(this.itemData);\n            var preItems = void 0;\n            if (typeof this.previousItemData === 'string' ||\n                typeof this.previousItemData === 'boolean' ||\n                typeof this.previousItemData === 'number') {\n                preItems = Object.defineProperties({}, {\n                    value: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    },\n                    text: {\n                        value: this.previousItemData,\n                        enumerable: true\n                    }\n                });\n            }\n            else {\n                preItems = this.previousItemData;\n            }\n            this.setHiddenValue();\n            var eventArgs = {\n                e: eve,\n                item: this.item,\n                itemData: items,\n                previousItem: this.previousSelectedLI,\n                previousItemData: preItems,\n                isInteracted: eve ? true : false,\n                value: this.value,\n                element: this.element,\n                event: eve\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n        }\n        if ((isNullOrUndefined(this.value) || this.value === '') && this.floatLabelType !== 'Always') {\n            removeClass([this.inputWrapper.container], 'e-valid-input');\n        }\n    };\n    DropDownList.prototype.setHiddenValue = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            if (this.hiddenElement.querySelector('option')) {\n                var selectedElement = this.hiddenElement.querySelector('option');\n                selectedElement.textContent = this.text;\n                selectedElement.setAttribute('value', value.toString());\n            }\n            else {\n                if (!isNullOrUndefined(this.hiddenElement)) {\n                    this.hiddenElement.innerHTML = '<option selected>' + this.text + '</option>';\n                    var selectedElement = this.hiddenElement.querySelector('option');\n                    selectedElement.setAttribute('value', value.toString());\n                }\n            }\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /**\n     * Filter bar implementation\n     *\n     * @param {KeyboardEventArgs} e - Specifies the event arguments.\n     * @returns {void}\n     */\n    DropDownList.prototype.onFilterUp = function (e) {\n        if (!(e.ctrlKey && e.keyCode === 86) && (this.isValidKey || e.keyCode === 40 || e.keyCode === 38)) {\n            this.isValidKey = false;\n            this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n            switch (e.keyCode) {\n                case 38: //up arrow\n                case 40: //down arrow\n                    if (this.getModuleName() === 'autocomplete' && !this.isPopupOpen && !this.preventAltUp && !this.isRequested) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else {\n                        this.preventAutoFill = false;\n                    }\n                    this.preventAltUp = false;\n                    if (this.getModuleName() === 'autocomplete' && !isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                        attributes(this.targetElement(), { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                    }\n                    e.preventDefault();\n                    break;\n                case 46: //delete\n                case 8: //backspace\n                    this.typedString = this.filterInput.value;\n                    if (!this.isPopupOpen && this.typedString !== '' || this.isPopupOpen && this.queryString.length > 0) {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '' && this.queryString === '' && this.getModuleName() !== 'autocomplete') {\n                        this.preventAutoFill = true;\n                        this.searchLists(e);\n                    }\n                    else if (this.typedString === '') {\n                        if (this.list) {\n                            this.resetFocusElement();\n                        }\n                        this.activeIndex = null;\n                        if (this.getModuleName() !== 'dropdownlist') {\n                            this.preventAutoFill = true;\n                            this.searchLists(e);\n                            if (this.getModuleName() === 'autocomplete') {\n                                this.hidePopup();\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                default:\n                    this.typedString = this.filterInput.value;\n                    this.preventAutoFill = false;\n                    this.searchLists(e);\n                    if ((this.enableVirtualization && this.getModuleName() !== 'autocomplete') || (this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount != 0)) {\n                        this.getFilteringSkeletonCount();\n                    }\n                    break;\n            }\n        }\n        else {\n            this.isValidKey = false;\n        }\n    };\n    DropDownList.prototype.onFilterDown = function (e) {\n        switch (e.keyCode) {\n            case 13: //enter\n                break;\n            case 40: //down arrow\n            case 38: //up arrow\n                this.queryString = this.filterInput.value;\n                e.preventDefault();\n                break;\n            case 9: //tab\n                if (this.isPopupOpen && this.getModuleName() !== 'autocomplete') {\n                    e.preventDefault();\n                }\n                break;\n            default:\n                this.prevSelectPoints = this.getSelectionPoints();\n                this.queryString = this.filterInput.value;\n                break;\n        }\n    };\n    DropDownList.prototype.removeFillSelection = function () {\n        if (this.isInteracted) {\n            var selection = this.getSelectionPoints();\n            this.inputElement.setSelectionRange(selection.end, selection.end);\n        }\n    };\n    DropDownList.prototype.getQuery = function (query) {\n        var filterQuery;\n        if (!this.isCustomFilter && this.allowFiltering && this.filterInput) {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n            var filterType = this.typedString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.typedString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        }\n        if (this.enableVirtualization && (this.viewPortInfo.endIndex != 0) && (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && this.virtualGroupDataSource))) {\n            var takeValue = this.getTakeValue();\n            var alreadySkipAdded = false;\n            if (filterQuery) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        alreadySkipAdded = true;\n                        break;\n                    }\n                }\n            }\n            var queryTakeValue = 0;\n            var querySkipValue = 0;\n            if (this.query && this.query.queries.length > 0) {\n                for (var queryElements_1 = 0; queryElements_1 < this.query.queries.length; queryElements_1++) {\n                    if (this.query.queries[queryElements_1].fn === 'onSkip') {\n                        querySkipValue = this.query.queries[queryElements_1].e.nos;\n                    }\n                    if (this.query.queries[queryElements_1].fn === 'onTake') {\n                        queryTakeValue = takeValue <= this.query.queries[queryElements_1].e.nos ? this.query.queries[queryElements_1].e.nos : takeValue;\n                    }\n                }\n            }\n            var skipExists = false;\n            var takeExists = false;\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements_2 = 0; queryElements_2 < filterQuery.queries.length; queryElements_2++) {\n                    if (filterQuery.queries[queryElements_2].fn === 'onSkip') {\n                        skipExists = true;\n                    }\n                    if (filterQuery.queries[queryElements_2].fn === 'onTake') {\n                        takeExists = true;\n                        filterQuery.queries[queryElements_2].e.nos = filterQuery.queries[queryElements_2].e.nos <= queryTakeValue ? queryTakeValue : filterQuery.queries[queryElements_2].e.nos;\n                    }\n                }\n            }\n            if (!skipExists && (this.allowFiltering || !this.isPopupOpen || !alreadySkipAdded)) {\n                if (querySkipValue > 0) {\n                    filterQuery.skip(querySkipValue);\n                }\n                else {\n                    filterQuery.skip(this.virtualItemStartIndex);\n                }\n            }\n            if (this.isIncrementalRequest) {\n                filterQuery.take(this.incrementalEndIndex);\n            }\n            else {\n                if (!takeExists) {\n                    if (queryTakeValue > 0) {\n                        filterQuery.take(queryTakeValue);\n                    }\n                    else {\n                        filterQuery.take(takeValue);\n                    }\n                }\n            }\n            filterQuery.requiresCount();\n        }\n        return filterQuery;\n    };\n    DropDownList.prototype.getSelectionPoints = function () {\n        var input = this.inputElement;\n        return { start: Math.abs(input.selectionStart), end: Math.abs(input.selectionEnd) };\n    };\n    DropDownList.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.activeIndex = null;\n        this.isListSearched = true;\n        if (this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n        this.isDataFetched = false;\n        if (this.isFiltering()) {\n            this.checkAndResetCache();\n            var eventArgs_1 = {\n                preventDefaultAction: false,\n                text: this.filterInput.value,\n                updateData: function (dataSource, query, fields) {\n                    if (eventArgs_1.cancel) {\n                        return;\n                    }\n                    _this.isCustomFilter = true;\n                    _this.filteringAction(dataSource, query, fields);\n                },\n                baseEventArgs: e,\n                cancel: false\n            };\n            this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                if (!eventArgs.cancel && !_this.isCustomFilter && !eventArgs.preventDefaultAction) {\n                    _this.filteringAction(_this.dataSource, null, _this.fields);\n                }\n            });\n        }\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    DropDownList.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFilter = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    DropDownList.prototype.filteringAction = function (dataSource, query, fields) {\n        if (!isNullOrUndefined(this.filterInput)) {\n            this.beforePopupOpen = (!this.isPopupOpen && this.getModuleName() === 'combobox' && this.filterInput.value === '') ?\n                false : true;\n            var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n            if (this.filterInput.value.trim() === '' && !this.itemTemplate) {\n                this.actionCompleteData.isUpdated = false;\n                this.isTyped = false;\n                if (!isNullOrUndefined(this.actionCompleteData.ulElement) && !isNullOrUndefined(this.actionCompleteData.list)) {\n                    if (this.enableVirtualization) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n                        this.resetList(dataSource, fields, query);\n                        if (isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                            if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                                this.list.appendChild(this.createElement('div', {\n                                    className: 'e-virtual-ddl-content',\n                                    styles: this.getTransformValues()\n                                })).appendChild(this.list.querySelector('.e-list-parent'));\n                            }\n                            if (!this.list.querySelector('.e-virtual-ddl')) {\n                                var virualElement = this.createElement('div', {\n                                    id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                                });\n                                document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                            }\n                        }\n                    }\n                    this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list);\n                }\n                this.isTyped = true;\n                if (!isNullOrUndefined(this.itemData) && this.getModuleName() === 'dropdownlist') {\n                    this.focusIndexItem();\n                    this.setScrollPosition();\n                }\n                this.isNotSearchList = true;\n            }\n            else {\n                this.isNotSearchList = false;\n                query = (this.filterInput.value.trim() === '') ? null : query;\n                if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                    this.isPreventScrollAction = true;\n                    this.list.scrollTop = 0;\n                    this.previousStartIndex = 0;\n                    this.virtualListInfo = null;\n                }\n                this.resetList(dataSource, fields, query);\n                if (this.getModuleName() === 'dropdownlist' && this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    this.popupContentElement.setAttribute('role', 'status');\n                    this.popupContentElement.setAttribute('id', 'no-record');\n                    attributes(this.filterInputObj.container, { 'aria-activedescendant': 'no-record' });\n                }\n                if (this.enableVirtualization && isNoData && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                        this.list.appendChild(this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: this.getTransformValues()\n                        })).appendChild(this.list.querySelector('.e-list-parent'));\n                    }\n                    if (!this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = this.createElement('div', {\n                            id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                        });\n                        document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                }\n            }\n            if (this.enableVirtualization) {\n                this.getFilteringSkeletonCount();\n            }\n            this.renderReactTemplates();\n        }\n    };\n    DropDownList.prototype.setSearchBox = function (popupElement) {\n        if (this.isFiltering()) {\n            var parentElement = popupElement.querySelector('.' + dropDownListClasses.filterParent) ?\n                popupElement.querySelector('.' + dropDownListClasses.filterParent) : this.createElement('span', {\n                className: dropDownListClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: dropDownListClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ?\n                    [dropDownListClasses.backIcon, dropDownListClasses.filterBarClearIcon] : [dropDownListClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            if (!isNullOrUndefined(this.cssClass)) {\n                if (this.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], parentElement);\n            prepend([parentElement], popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false'\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            if (!Browser.isDevice) {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.keyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            else {\n                this.searchKeyModule = new KeyboardEvents(this.filterInput, {\n                    keyAction: this.mobileKeyActionHandler.bind(this),\n                    keyConfigs: this.keyConfigure,\n                    eventName: 'keydown'\n                });\n            }\n            EventHandler.add(this.filterInput, 'input', this.onInput, this);\n            EventHandler.add(this.filterInput, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.filterInput, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.pasteHandler, this);\n            return this.filterInputObj;\n        }\n        else {\n            return inputObject;\n        }\n    };\n    DropDownList.prototype.onInput = function (e) {\n        this.isValidKey = true;\n        if (this.getModuleName() === 'combobox') {\n            this.updateIconState();\n        }\n        // For filtering works in mobile firefox.\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.typedString = this.filterInput.value;\n            this.preventAutoFill = true;\n            this.searchLists(e);\n        }\n    };\n    DropDownList.prototype.pasteHandler = function (e) {\n        var _this = this;\n        setTimeout(function () {\n            _this.typedString = _this.filterInput.value;\n            _this.searchLists(e);\n        });\n    };\n    DropDownList.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        if (this.beforePopupOpen) {\n            this.renderPopup();\n        }\n    };\n    DropDownList.prototype.getTakeValue = function () {\n        return this.allowFiltering && this.getModuleName() === 'dropdownlist' && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownList.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        if (this.dataSource instanceof DataManager && !isNullOrUndefined(e) && !this.virtualGroupDataSource) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = e.count;\n        }\n        if (this.isNotSearchList && !this.enableVirtualization) {\n            this.isNotSearchList = false;\n            return;\n        }\n        var tempItemCount = this.itemCount;\n        if (this.isActive || !isNullOrUndefined(ulElement)) {\n            var selectedItem = this.selectedLI ? this.selectedLI.cloneNode(true) : null;\n            _super.prototype.onActionComplete.call(this, ulElement, list, e);\n            this.skeletonCount = this.totalItemCount != 0 && this.totalItemCount < (this.itemCount * 2) ? 0 : this.skeletonCount;\n            this.updateSelectElementData(this.allowFiltering);\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent) && this.searchKeyEvent.type === 'keydown') {\n                this.isRequested = false;\n                this.keyActionHandler(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (this.isRequested && !isNullOrUndefined(this.searchKeyEvent)) {\n                this.incrementalSearch(this.searchKeyEvent);\n                this.searchKeyEvent = null;\n            }\n            if (!this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false', 'aria-label': 'listbox' });\n            }\n            if (this.initialRemoteRender) {\n                this.initial = true;\n                this.activeIndex = this.index;\n                this.initialRemoteRender = false;\n                if (this.value && this.dataSource instanceof DataManager) {\n                    var checkField_1 = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n                    var value_5 = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue(checkField_1, this.value) : this.value;\n                    var fieldValue_1 = this.fields.value.split('.');\n                    var checkVal = list.some(function (x) {\n                        return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                            _this.checkFieldValue(x, fieldValue_1) === value_5 : x[checkField_1] === value_5;\n                    });\n                    if (this.enableVirtualization && this.virtualGroupDataSource) {\n                        checkVal = this.virtualGroupDataSource.some(function (x) {\n                            return isNullOrUndefined(x[checkField_1]) && fieldValue_1.length > 1 ?\n                                _this.checkFieldValue(x, fieldValue_1) === value_5 : x[checkField_1] === value_5;\n                        });\n                    }\n                    if (!checkVal) {\n                        this.dataSource.executeQuery(this.getQuery(this.query).where(new Predicate(checkField_1, 'equal', value_5)))\n                            .then(function (e) {\n                            if (e.result.length > 0) {\n                                _this.addItem(e.result, list.length);\n                                _this.updateValues();\n                            }\n                            else {\n                                _this.updateValues();\n                            }\n                        });\n                    }\n                    else {\n                        this.updateValues();\n                    }\n                }\n                else {\n                    this.updateValues();\n                }\n                this.initial = false;\n            }\n            else if (this.getModuleName() === 'autocomplete' && this.value) {\n                this.setInputValue();\n            }\n            if (this.getModuleName() !== 'autocomplete' && this.isFiltering() && !this.isTyped) {\n                if (!this.actionCompleteData.isUpdated || ((!this.isCustomFilter\n                    && !this.isFilterFocus) || (isNullOrUndefined(this.itemData) && this.allowFiltering)\n                    && ((this.dataSource instanceof DataManager)\n                        || (!isNullOrUndefined(this.dataSource) && !isNullOrUndefined(this.dataSource.length) &&\n                            this.dataSource.length !== 0)))) {\n                    if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                        setTimeout(function () {\n                            _this.updateActionCompleteDataValues(ulElement, list);\n                        }, 0);\n                    }\n                    else {\n                        this.updateActionCompleteDataValues(ulElement, list);\n                    }\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                if ((this.allowCustom || (this.allowFiltering && !this.isValueInList(list, this.value) && this.dataSource instanceof DataManager)) && !this.enableVirtualization) {\n                    this.addNewItem(list, selectedItem);\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                else if ((this.allowCustom || (this.allowFiltering && this.isValueInList(list, this.value))) && !this.enableVirtualization) {\n                    this.addNewItem(list, selectedItem);\n                }\n                if (!isNullOrUndefined(this.itemData) || (isNullOrUndefined(this.itemData) && this.enableVirtualization)) {\n                    this.focusIndexItem();\n                }\n                if (this.enableVirtualization) {\n                    this.updateActionCompleteDataValues(ulElement, list);\n                }\n            }\n            else if (this.enableVirtualization && this.getModuleName() !== 'autocomplete' && !this.isFiltering()) {\n                var value = this.getItemData().value;\n                this.activeIndex = this.getIndexByValue(value);\n                var element = this.findListElement(this.list, 'li', 'data-value', value);\n                this.selectedLI = element;\n            }\n            else if (this.enableVirtualization && this.getModuleName() === 'autocomplete') {\n                this.activeIndex = this.skeletonCount;\n            }\n            if (this.beforePopupOpen) {\n                this.renderPopup(e);\n                if (this.enableVirtualization) {\n                    if (!this.list.querySelector('.e-virtual-list')) {\n                        this.UpdateSkeleton();\n                        this.liCollections = this.list.querySelectorAll('.e-list-item');\n                    }\n                }\n                if (this.enableVirtualization && tempItemCount != this.itemCount) {\n                    this.resetList(this.dataSource, this.fields);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.isValueInList = function (list, valueToFind) {\n        if (Array.isArray(list)) {\n            for (var i = 0; i < list.length; i++) {\n                if (list[i] === valueToFind) {\n                    return true;\n                }\n            }\n        }\n        else if (typeof list === 'object' && list !== null) {\n            for (var key in list) {\n                if (Object.prototype.hasOwnProperty.call(list, key) && list[key] === valueToFind) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.checkFieldValue = function (list, fieldValue) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var checkField = list;\n        fieldValue.forEach(function (value) {\n            checkField = checkField[value];\n        });\n        return checkField;\n    };\n    DropDownList.prototype.updateActionCompleteDataValues = function (ulElement, list) {\n        this.actionCompleteData = { ulElement: ulElement.cloneNode(true), list: list, isUpdated: true };\n        if (this.actionData.list !== this.actionCompleteData.list && this.actionCompleteData.ulElement && this.actionCompleteData.list) {\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.addNewItem = function (listData, newElement) {\n        var _this = this;\n        if (!isNullOrUndefined(this.itemData) && !isNullOrUndefined(newElement)) {\n            var value_6 = this.getItemData().value;\n            var isExist = listData.some(function (data) {\n                return (((typeof data === 'string' || typeof data === 'number') && data === value_6) ||\n                    (getValue(_this.fields.value, data) === value_6));\n            });\n            if (!isExist) {\n                this.addItem(this.itemData);\n            }\n        }\n    };\n    DropDownList.prototype.updateActionCompleteData = function (li, item, index) {\n        var _this = this;\n        if (this.getModuleName() !== 'autocomplete' && this.actionCompleteData.ulElement) {\n            if (this.itemTemplate && this.element.tagName === 'EJS-COMBOBOX' && this.allowFiltering) {\n                setTimeout(function () {\n                    _this.actionCompleteDataUpdate(li, item, index);\n                }, 0);\n            }\n            else {\n                this.actionCompleteDataUpdate(li, item, index);\n            }\n        }\n    };\n    DropDownList.prototype.actionCompleteDataUpdate = function (li, item, index) {\n        if (index !== null) {\n            this.actionCompleteData.ulElement.\n                insertBefore(li.cloneNode(true), this.actionCompleteData.ulElement.childNodes[index]);\n        }\n        else {\n            this.actionCompleteData.ulElement.appendChild(li.cloneNode(true));\n        }\n        if (this.isFiltering() && this.actionCompleteData.list.indexOf(item) < 0) {\n            this.actionCompleteData.list.push(item);\n        }\n    };\n    DropDownList.prototype.focusIndexItem = function () {\n        var value = this.getItemData().value;\n        this.activeIndex = this.getIndexByValue(value);\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.selectedLI = element;\n        this.activeItem(element);\n        if (!(this.enableVirtualization && isNullOrUndefined(element))) {\n            this.removeFocus();\n        }\n    };\n    DropDownList.prototype.updateSelection = function () {\n        var selectedItem = this.list.querySelector('.' + dropDownBaseClasses.selected);\n        if (selectedItem) {\n            this.setProperties({ 'index': this.getIndexByValue(selectedItem.getAttribute('data-value')) });\n            this.activeIndex = this.index;\n        }\n        else {\n            this.removeFocus();\n            this.list.querySelector('.' + dropDownBaseClasses.li).classList.add(dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.updateSelectionList = function () {\n        var selectedItem = this.list && this.list.querySelector('.' + 'e-active');\n        if (!selectedItem && !isNullOrUndefined(this.value)) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            var findEle = this.findListElement(this.list, 'li', 'data-value', value);\n            if (findEle) {\n                findEle.classList.add('e-active');\n            }\n        }\n    };\n    DropDownList.prototype.removeFocus = function () {\n        var highlightedItem = this.list.querySelectorAll('.' + dropDownListClasses.focus);\n        if (highlightedItem && highlightedItem.length) {\n            removeClass(highlightedItem, dropDownListClasses.focus);\n        }\n    };\n    DropDownList.prototype.renderPopup = function (e) {\n        var _this = this;\n        if (this.popupObj && document.body.contains(this.popupObj.element)) {\n            this.refreshPopup();\n            return;\n        }\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle = _this.createElement('div', {\n                    id: _this.element.id + '_popup', className: 'e-ddl e-popup ' + (_this.cssClass !== null ? _this.cssClass : '')\n                });\n                popupEle.setAttribute('aria-label', _this.element.id);\n                popupEle.setAttribute('role', 'dialog');\n                var searchBox = _this.setSearchBox(popupEle);\n                _this.listContainerHeight = formatUnit(_this.popupHeight);\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate(popupEle);\n                }\n                append([_this.list], popupEle);\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate(popupEle);\n                }\n                document.body.appendChild(popupEle);\n                popupEle.style.top = '0px';\n                if (_this.enableVirtualization && _this.itemTemplate) {\n                    var listitems = popupEle.querySelectorAll('li.e-list-item:not(.e-virtual-list)');\n                    _this.listItemHeight = listitems.length > 0 ? Math.ceil(listitems[0].getBoundingClientRect().height) : 0;\n                }\n                if (_this.enableVirtualization && !_this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!_this.list.querySelector('.e-virtual-ddl-content')) {\n                        _this.list.appendChild(_this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: _this.getTransformValues()\n                        })).appendChild(_this.list.querySelector('.e-list-parent'));\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = _this.getTransformValues();\n                    }\n                    _this.UpdateSkeleton();\n                    _this.liCollections = _this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    _this.virtualItemCount = _this.itemCount;\n                    if (!_this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = _this.createElement('div', {\n                            id: _this.element.id + '_popup', className: 'e-virtual-ddl', styles: _this.GetVirtualTrackHeight()\n                        });\n                        popupEle.querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.list.getElementsByClassName('e-virtual-ddl')[0].style = _this.GetVirtualTrackHeight();\n                    }\n                }\n                popupEle.style.visibility = 'hidden';\n                if (_this.popupHeight !== 'auto') {\n                    _this.searchBoxHeight = 0;\n                    if (!isNullOrUndefined(searchBox.container) && _this.getModuleName() !== 'combobox' && _this.getModuleName() !== 'autocomplete') {\n                        _this.searchBoxHeight = (searchBox.container.parentElement).getBoundingClientRect().height;\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (_this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.headerTemplate) {\n                        _this.header = _this.header ? _this.header : popupEle.querySelector('.e-ddl-header');\n                        var height = Math.round(_this.header.getBoundingClientRect().height);\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    if (_this.footerTemplate) {\n                        _this.footer = _this.footer ? _this.footer : popupEle.querySelector('.e-ddl-footer');\n                        var height = Math.round(_this.footer.getBoundingClientRect().height);\n                        _this.listContainerHeight = (parseInt(_this.listContainerHeight, 10) - (height + _this.searchBoxHeight)).toString() + 'px';\n                    }\n                    _this.list.style.maxHeight = (parseInt(_this.listContainerHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n                    popupEle.style.maxHeight = formatUnit(_this.popupHeight);\n                }\n                else {\n                    popupEle.style.height = 'auto';\n                }\n                var offsetValue = 0;\n                var left = void 0;\n                _this.isPreventScrollAction = true;\n                if (!isNullOrUndefined(_this.selectedLI) && (!isNullOrUndefined(_this.activeIndex) && _this.activeIndex >= 0)) {\n                    _this.setScrollPosition();\n                }\n                else if (_this.enableVirtualization) {\n                    _this.setScrollPosition();\n                }\n                else {\n                    _this.list.scrollTop = 0;\n                }\n                if (Browser.isDevice && (!_this.allowFiltering && (_this.getModuleName() === 'dropdownlist' ||\n                    (_this.isDropDownClick && _this.getModuleName() === 'combobox')))) {\n                    offsetValue = _this.getOffsetValue(popupEle);\n                    var firstItem = _this.isEmptyList() ? _this.list : _this.liCollections[0];\n                    if (!isNullOrUndefined(_this.inputElement)) {\n                        left = -(parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                            parseInt(getComputedStyle(_this.inputElement).paddingLeft, 10) +\n                            parseInt(getComputedStyle(_this.inputElement.parentElement).borderLeftWidth, 10));\n                    }\n                }\n                _this.createPopup(popupEle, offsetValue, left);\n                _this.popupContentElement = _this.popupObj.element.querySelector('.e-content');\n                _this.getFocusElement();\n                _this.checkCollision(popupEle);\n                if (Browser.isDevice) {\n                    if ((parseInt(_this.popupWidth.toString(), 10) > window.outerWidth) && !(_this.getModuleName() === 'dropdownlist' && _this.allowFiltering)) {\n                        _this.popupObj.element.classList.add('e-wide-popup');\n                    }\n                    _this.popupObj.element.classList.add(dropDownListClasses.device);\n                    if (_this.getModuleName() === 'dropdownlist' || (_this.getModuleName() === 'combobox'\n                        && !_this.allowFiltering && _this.isDropDownClick)) {\n                        _this.popupObj.collision = { X: 'fit', Y: 'fit' };\n                    }\n                    if (_this.isFilterLayout()) {\n                        _this.popupObj.element.classList.add(dropDownListClasses.mobileFilter);\n                        _this.popupObj.position = { X: 0, Y: 0 };\n                        _this.popupObj.dataBind();\n                        attributes(_this.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n                        addClass([document.body, _this.popupObj.element], dropDownListClasses.popupFullScreen);\n                        _this.setSearchBoxPosition();\n                        _this.backIconElement = searchBox.container.querySelector('.e-back-icon');\n                        _this.clearIconElement = searchBox.container.querySelector('.' + dropDownListClasses.clearIcon);\n                        EventHandler.add(_this.backIconElement, 'click', _this.clickOnBackIcon, _this);\n                        EventHandler.add(_this.clearIconElement, 'click', _this.clearText, _this);\n                    }\n                }\n                popupEle.style.visibility = 'visible';\n                addClass([popupEle], 'e-popup-close');\n                var scrollParentElements = _this.popupObj.getScrollableParent(_this.inputWrapper.container);\n                for (var _i = 0, scrollParentElements_1 = scrollParentElements; _i < scrollParentElements_1.length; _i++) {\n                    var element = scrollParentElements_1[_i];\n                    EventHandler.add(element, 'scroll', _this.scrollHandler, _this);\n                }\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                if (_this.enableVirtualization) {\n                    _this.notify(\"bindScrollEvent\", {\n                        module: \"VirtualScroll\",\n                        component: _this.getModuleName(),\n                        enable: _this.enableVirtualization,\n                    });\n                    setTimeout(function () {\n                        if (_this.value || _this.list.querySelector('.e-active')) {\n                            _this.updateSelectionList();\n                            if (_this.selectedValueInfo && _this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                                _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n                            }\n                            else {\n                                _this.scrollBottom(true, true);\n                            }\n                        }\n                    }, 5);\n                }\n                attributes(_this.targetElement(), { 'aria-expanded': 'true', 'aria-owns': _this.element.id + '_popup', 'aria-controls': _this.element.id });\n                if (_this.getModuleName() !== 'dropdownlist' && _this.list.classList.contains('e-nodata')) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': 'no-record' });\n                    _this.popupContentElement.setAttribute('role', 'status');\n                    _this.popupContentElement.setAttribute('id', 'no-record');\n                }\n                _this.inputElement.setAttribute('aria-expanded', 'true');\n                _this.inputElement.setAttribute('aria-controls', _this.element.id);\n                var inputParent = _this.isFiltering() ? _this.filterInput.parentElement : _this.inputWrapper.container;\n                addClass([inputParent], [dropDownListClasses.inputFocus]);\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, event: e, cancel: false, animation: animModel };\n                _this.trigger('open', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!isNullOrUndefined(_this.inputWrapper)) {\n                            addClass([_this.inputWrapper.container], [dropDownListClasses.iconAnimation]);\n                        }\n                        _this.renderReactTemplates();\n                        if (!isNullOrUndefined(_this.popupObj)) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.element : null);\n                        }\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    DropDownList.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'dropdownlist' || this.isDropDownClick))) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.getOffsetValue = function (popupEle) {\n        var popupStyles = getComputedStyle(popupEle);\n        var borderTop = parseInt(popupStyles.borderTopWidth, 10);\n        var borderBottom = parseInt(popupStyles.borderBottomWidth, 10);\n        return this.setPopupPosition(borderTop + borderBottom);\n    };\n    DropDownList.prototype.createPopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputWrapper.container,\n            collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left,\n            position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n            zIndex: this.zIndex,\n            close: function () {\n                if (!_this.isDocumentClick) {\n                    _this.focusDropDown();\n                }\n                // eslint-disable-next-line\n                if (_this.isReact) {\n                    _this.clearTemplate(['headerTemplate', 'footerTemplate']);\n                }\n                _this.isNotSearchList = false;\n                _this.isDocumentClick = false;\n                _this.destroyPopup();\n                if (_this.isFiltering() && _this.actionCompleteData.list && _this.actionCompleteData.list[0]) {\n                    _this.isActive = true;\n                    if (_this.enableVirtualization) {\n                        _this.onActionComplete(_this.ulElement, _this.listData, null, true);\n                    }\n                    else {\n                        _this.onActionComplete(_this.actionCompleteData.ulElement, _this.actionCompleteData.list, null, true);\n                    }\n                }\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                var actionList = _this.actionCompleteData && _this.actionCompleteData.ulElement &&\n                    _this.actionCompleteData.ulElement.querySelector('li');\n                var ulElement = _this.list.querySelector('ul li');\n                if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n                }\n                else if (!isNullOrUndefined(_this.ulElement) && !isNullOrUndefined(_this.ulElement.getElementsByClassName('e-active')[0])) {\n                    attributes(_this.targetElement(), { 'aria-activedescendant': _this.ulElement.getElementsByClassName('e-active')[0].id });\n                }\n                if (_this.isFiltering() && _this.itemTemplate && (_this.element.tagName === _this.getNgDirective()) &&\n                    (actionList && ulElement && actionList.textContent !== ulElement.textContent) &&\n                    _this.element.tagName !== 'EJS-COMBOBOX') {\n                    _this.cloneElements();\n                }\n                if (_this.isFilterLayout()) {\n                    removeClass([_this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n                    _this.isFilterFocus = true;\n                    _this.filterInput.focus();\n                    if (_this.inputWrapper.clearButton) {\n                        addClass([_this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n                    }\n                }\n                _this.activeStateChange();\n            },\n            targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hidePopup();\n                }\n            }\n        });\n    };\n    DropDownList.prototype.isEmptyList = function () {\n        return !isNullOrUndefined(this.liCollections) && this.liCollections.length === 0;\n    };\n    DropDownList.prototype.getFocusElement = function () {\n        // combo-box used this method\n    };\n    DropDownList.prototype.isFilterLayout = function () {\n        return this.getModuleName() === 'dropdownlist' && this.allowFiltering;\n    };\n    DropDownList.prototype.scrollHandler = function () {\n        if (Browser.isDevice && ((this.getModuleName() === 'dropdownlist' &&\n            !this.isFilterLayout()) || (this.getModuleName() === 'combobox' && !this.allowFiltering && this.isDropDownClick))) {\n            if (this.element && !(this.isElementInViewport(this.element))) {\n                this.hidePopup();\n            }\n        }\n    };\n    DropDownList.prototype.isElementInViewport = function (element) {\n        var elementRect = element.getBoundingClientRect();\n        return (elementRect.top >= 0 && elementRect.left >= 0 && elementRect.bottom <= window.innerHeight && elementRect.right <= window.innerWidth);\n    };\n    ;\n    DropDownList.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        this.popupObj.element.style.maxHeight = '100%';\n        this.popupObj.element.style.width = '100%';\n        this.list.style.maxHeight = (window.innerHeight - searchBoxHeight) + 'px';\n        this.list.style.height = (window.innerHeight - searchBoxHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + dropDownListClasses.clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    DropDownList.prototype.setPopupPosition = function (border) {\n        var offsetValue;\n        var popupOffset = border;\n        var selectedLI = this.list.querySelector('.' + dropDownListClasses.focus) || this.selectedLI;\n        var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n        var lastItem = this.isEmptyList() ? this.list : this.liCollections[this.getItems().length - 1];\n        var liHeight = firstItem.getBoundingClientRect().height;\n        this.listItemHeight = liHeight;\n        var listHeight = this.list.offsetHeight / 2;\n        var height = isNullOrUndefined(selectedLI) ? firstItem.offsetTop : selectedLI.offsetTop;\n        var lastItemOffsetValue = lastItem.offsetTop;\n        if (lastItemOffsetValue - listHeight < height && !isNullOrUndefined(this.liCollections) &&\n            this.liCollections.length > 0 && !isNullOrUndefined(selectedLI)) {\n            var count = this.list.offsetHeight / liHeight;\n            var paddingBottom = parseInt(getComputedStyle(this.list).paddingBottom, 10);\n            offsetValue = (count - (this.liCollections.length - this.activeIndex)) * liHeight - popupOffset + paddingBottom;\n            this.list.scrollTop = selectedLI.offsetTop;\n        }\n        else if (height > listHeight && !this.enableVirtualization) {\n            offsetValue = listHeight - liHeight / 2;\n            this.list.scrollTop = height - listHeight + liHeight / 2;\n        }\n        else {\n            offsetValue = height;\n        }\n        var inputHeight = this.inputWrapper.container.offsetHeight;\n        offsetValue = offsetValue + liHeight + popupOffset - ((liHeight - inputHeight) / 2);\n        return -offsetValue;\n    };\n    DropDownList.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputWrapper.container.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        if (Browser.isDevice && (!this.allowFiltering && (this.getModuleName() === 'dropdownlist' ||\n            (this.isDropDownClick && this.getModuleName() === 'combobox')))) {\n            var firstItem = this.isEmptyList() ? this.list : this.liCollections[0];\n            width = (parseInt(width, 10) + (parseInt(getComputedStyle(firstItem).textIndent, 10) -\n                parseInt(getComputedStyle(this.inputElement).paddingLeft, 10) +\n                parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth, 10)) * 2) + 'px';\n        }\n        return width;\n    };\n    DropDownList.prototype.scrollBottom = function (isInitial, isInitialSelection, keyAction) {\n        var _this = this;\n        if (isInitialSelection === void 0) { isInitialSelection = false; }\n        if (keyAction === void 0) { keyAction = null; }\n        if (isNullOrUndefined(this.selectedLI) && this.enableVirtualization) {\n            this.selectedLI = this.list.querySelector('.' + dropDownBaseClasses.li);\n            if (!isNullOrUndefined(this.selectedLI) && this.selectedLI.classList.contains('e-virtual-list')) {\n                this.selectedLI = this.liCollections[this.skeletonCount];\n            }\n        }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            this.isUpwardScrolling = false;\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var lastElementValue = this.list.querySelector('li:last-of-type') ? this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n            var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            var isScrollerCHanged = false;\n            var isScrollTopChanged = false;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10);\n            var boxRange = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop;\n            boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n                isScrollerCHanged = this.isKeyBoardAction;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction == \"pageDown\" ? this.getPageCount() - 2 : 1;\n                if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n                    if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue && currentElementValue === lastElementValue && keyAction != \"end\" && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = true;\n                        if (this.enableVirtualization && this.itemTemplate) {\n                            this.list.scrollTop += nextOffset;\n                        }\n                        else {\n                            if (this.enableVirtualization) {\n                                liCount = keyAction == \"pageDown\" ? this.getPageCount() : liCount;\n                            }\n                            this.list.scrollTop += this.selectedLI.offsetHeight * liCount;\n                        }\n                        this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                    }\n                    else if (this.enableVirtualization && keyAction == \"end\") {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        this.list.scrollTop = this.list.scrollHeight;\n                    }\n                    else {\n                        if (keyAction == \"pageDown\" && this.enableVirtualization && !this.isVirtualScrolling) {\n                            this.isPreventKeyAction = false;\n                            this.isKeyBoardAction = false;\n                            this.isPreventScrollAction = false;\n                            nextOffset = nextOffset + (this.selectedLI.offsetHeight * liCount);\n                        }\n                        this.list.scrollTop = nextOffset;\n                    }\n                }\n                else {\n                    this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight : 0;\n                }\n                isScrollerCHanged = this.isKeyBoardAction;\n                isScrollTopChanged = true;\n            }\n            this.isKeyBoardAction = isScrollerCHanged;\n            if (this.enableVirtualization && this.fields.groupBy && this.fixedHeaderElement && (keyAction == \"down\")) {\n                setTimeout(function () {\n                    _this.scrollStop(null, true);\n                }, 100);\n            }\n        }\n    };\n    DropDownList.prototype.scrollTop = function (keyAction) {\n        if (keyAction === void 0) { keyAction = null; }\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n            var selectedLiOffsetTop = (this.virtualListInfo && this.virtualListInfo.startIndex) ? this.selectedLI.offsetTop + (this.virtualListInfo.startIndex * this.selectedLI.offsetHeight) : this.selectedLI.offsetTop;\n            var nextOffset = selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) - this.list.scrollTop;\n            var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ? this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n            nextOffset = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n            var boxRange = (selectedLiOffsetTop - (virtualListCount * this.selectedLI.offsetHeight) + this.selectedLI.offsetHeight - this.list.scrollTop);\n            var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n            if (this.activeIndex === 0 && !this.enableVirtualization) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0 || isPageUpKeyAction) {\n                var currentElementValue = this.selectedLI ? this.selectedLI.getAttribute('data-value') : null;\n                var liCount = keyAction == \"pageUp\" ? this.getPageCount() - 2 : 1;\n                if (this.enableVirtualization) {\n                    liCount = keyAction == \"pageUp\" ? this.getPageCount() : liCount;\n                }\n                if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue && currentElementValue === firstElementValue && keyAction != \"home\" && !this.isVirtualScrolling) {\n                    this.isUpwardScrolling = true;\n                    this.isPreventKeyAction = true;\n                    this.list.scrollTop -= this.selectedLI.offsetHeight * liCount;\n                    this.isPreventKeyAction = this.list.scrollTop != 0 ? this.isPreventKeyAction : false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                else if (this.enableVirtualization && keyAction == \"home\") {\n                    this.isPreventScrollAction = false;\n                    this.isPreventKeyAction = true;\n                    this.isKeyBoardAction = false;\n                    this.list.scrollTo(0, 0);\n                }\n                else {\n                    if (keyAction == \"pageUp\" && this.enableVirtualization && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        nextOffset = nextOffset - (this.selectedLI.offsetHeight * liCount);\n                    }\n                    this.list.scrollTop = this.list.scrollTop + nextOffset;\n                }\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                    this.fixedHeaderElement.offsetHeight : 0);\n            }\n        }\n    };\n    DropDownList.prototype.isEditTextBox = function () {\n        return false;\n    };\n    DropDownList.prototype.isFiltering = function () {\n        return this.allowFiltering;\n    };\n    DropDownList.prototype.isPopupButton = function () {\n        return true;\n    };\n    DropDownList.prototype.setScrollPosition = function (e) {\n        this.isPreventScrollAction = true;\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.isKeyBoardAction = true;\n                    this.scrollBottom(false, false, e.action);\n                    break;\n                default:\n                    this.isKeyBoardAction = e.action == 'up' || e.action == 'pageUp' || e.action == 'open';\n                    this.scrollTop(e.action);\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n        this.isKeyBoardAction = false;\n    };\n    DropDownList.prototype.clearText = function () {\n        this.filterInput.value = this.typedString = '';\n        this.searchLists(null);\n        if (this.enableVirtualization) {\n            this.list.scrollTop = 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n            }\n            this.getSkeletonCount();\n            this.UpdateSkeleton();\n            this.liCollections = this.list.querySelectorAll('.e-list-item');\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n            }\n        }\n    };\n    DropDownList.prototype.setEleWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.inputWrapper.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    DropDownList.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        var isFilterValue = !isNullOrUndefined(this.filterInput) && !isNullOrUndefined(this.filterInput.value) && this.filterInput.value !== '';\n        var typedString = this.getModuleName() === 'combobox' ? this.typedString : null;\n        this.isTyped = false;\n        this.isVirtualTrackHeight = false;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        this.keyboardEvent = null;\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.isActive = false;\n        this.filterInputObj = null;\n        this.isDropDownClick = false;\n        this.preventAutoFill = false;\n        var scrollableParentElements = this.popupObj.getScrollableParent(this.inputWrapper.container);\n        for (var _i = 0, scrollableParentElements_1 = scrollableParentElements; _i < scrollableParentElements_1.length; _i++) {\n            var element = scrollableParentElements_1[_i];\n            EventHandler.remove(element, 'scroll', this.scrollHandler);\n        }\n        if (Browser.isDevice && this.isFilterLayout()) {\n            removeClass([document.body, this.popupObj.element], dropDownListClasses.popupFullScreen);\n        }\n        if (this.isFilterLayout()) {\n            if (!Browser.isDevice) {\n                this.searchKeyModule.destroy();\n                if (this.clearIconElement) {\n                    EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n                }\n            }\n            if (this.backIconElement) {\n                EventHandler.remove(this.backIconElement, 'click', this.clickOnBackIcon);\n                EventHandler.remove(this.clearIconElement, 'click', this.clearText);\n            }\n            if (!isNullOrUndefined(this.filterInput)) {\n                EventHandler.remove(this.filterInput, 'input', this.onInput);\n                EventHandler.remove(this.filterInput, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.filterInput, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.filterInput, 'blur', this.onBlurHandler);\n                EventHandler.remove(this.filterInput, 'paste', this.pasteHandler);\n            }\n            if (this.allowFiltering && this.getModuleName() === 'dropdownlist') {\n                this.filterInput.removeAttribute('aria-activedescendant');\n            }\n            this.filterInput = null;\n        }\n        attributes(this.targetElement(), { 'aria-expanded': 'false' });\n        this.inputElement.setAttribute('aria-expanded', 'false');\n        this.targetElement().removeAttribute('aria-owns');\n        this.targetElement().removeAttribute('aria-activedescendant');\n        this.inputWrapper.container.classList.remove(dropDownListClasses.iconAnimation);\n        if (this.isFiltering()) {\n            this.actionCompleteData.isUpdated = false;\n        }\n        if (this.enableVirtualization) {\n            if ((this.value == null || this.isTyped)) {\n                this.viewPortInfo.endIndex = this.viewPortInfo && this.viewPortInfo.endIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n                if (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'dropdownlist' && !isNullOrUndefined(this.typedString) && this.typedString != \"\") || (this.getModuleName() === 'combobox' && this.allowFiltering && !isNullOrUndefined(this.typedString) && this.typedString != \"\")) {\n                    this.checkAndResetCache();\n                }\n            }\n            else if (this.getModuleName() === 'autocomplete') {\n                this.checkAndResetCache();\n            }\n            if ((this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox') && !(this.skeletonCount == 0)) {\n                this.getSkeletonCount(true);\n            }\n        }\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('close', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.popupObj) &&\n                !isNullOrUndefined(_this.popupObj.element.querySelector('.e-fixed-head'))) {\n                var fixedHeader = _this.popupObj.element.querySelector('.e-fixed-head');\n                fixedHeader.parentNode.removeChild(fixedHeader);\n                _this.fixedHeaderElement = null;\n            }\n            if (!eventArgs.cancel) {\n                if (_this.getModuleName() === 'autocomplete') {\n                    _this.rippleFun();\n                }\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n        if (Browser.isDevice && !eventArgs.cancel && this.popupObj.element.classList.contains('e-wide-popup')) {\n            this.popupObj.element.classList.remove('e-wide-popup');\n        }\n        var dataSourceCount;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ? this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.enableVirtualization && this.isFiltering() && this.value != null && isFilterValue && this.totalItemCount !== dataSourceCount) {\n            this.updateInitialData();\n            this.checkAndResetCache();\n        }\n    };\n    DropDownList.prototype.updateInitialData = function () {\n        var currentData = this.selectData;\n        var ulElement = this.renderItems(currentData, this.fields);\n        this.list.scrollTop = 0;\n        this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        if (this.getModuleName() === 'combobox') {\n            this.typedString = \"\";\n        }\n        this.previousStartIndex = 0;\n        this.previousEndIndex = 0;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ? this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        if (this.getModuleName() !== 'autocomplete' && this.totalItemCount != 0 && this.totalItemCount > (this.itemCount * 2)) {\n            this.getSkeletonCount();\n        }\n        this.UpdateSkeleton();\n        this.listData = currentData;\n        this.updateActionCompleteDataValues(ulElement, currentData);\n        this.liCollections = this.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n    };\n    DropDownList.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.isFilterFocus = false;\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    DropDownList.prototype.clickOnBackIcon = function () {\n        this.hidePopup();\n        this.focusIn();\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownList.prototype.render = function () {\n        this.preselectedIndex = !isNullOrUndefined(this.index) ? this.index : null;\n        if (this.element.tagName === 'INPUT') {\n            this.inputElement = this.element;\n            if (isNullOrUndefined(this.inputElement.getAttribute('role'))) {\n                this.inputElement.setAttribute('role', 'combobox');\n            }\n            if (isNullOrUndefined(this.inputElement.getAttribute('type'))) {\n                this.inputElement.setAttribute('type', 'text');\n            }\n            this.inputElement.setAttribute('aria-expanded', 'false');\n        }\n        else {\n            this.inputElement = this.createElement('input', { attrs: { role: 'combobox', type: 'text' } });\n            if (this.element.tagName !== this.getNgDirective()) {\n                this.element.style.display = 'none';\n            }\n            this.element.parentElement.insertBefore(this.inputElement, this.element);\n            this.preventTabIndex(this.inputElement);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            buttons: this.isPopupButton() ? [dropDownListClasses.icon] : null,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.getModuleName() === 'dropdownlist' ? true : this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            }\n        }, this.createElement);\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.inputWrapper.container);\n        }\n        else {\n            this.inputElement.parentElement.insertBefore(this.element, this.inputElement);\n        }\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'aria-label': this.getModuleName(), 'tabindex': '-1', 'class': dropDownListClasses.hiddenElement }\n        });\n        prepend([this.hiddenElement], this.inputWrapper.container);\n        this.validationAttribute(this.element, this.hiddenElement);\n        this.setReadOnly();\n        this.setFields();\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n        this.inputWrapper.container.classList.add('e-ddl');\n        if (this.floatLabelType === 'Auto') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.wireEvent();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement.id = id + '_hidden';\n        this.targetElement().setAttribute('tabindex', this.tabIndex);\n        if ((this.getModuleName() === 'autocomplete' || this.getModuleName() === 'combobox') && !this.readonly) {\n            this.inputElement.setAttribute('aria-label', this.getModuleName());\n        }\n        else if (this.getModuleName() === 'dropdownlist') {\n            attributes(this.targetElement(), { 'aria-label': this.getModuleName() });\n            this.inputElement.setAttribute('aria-label', this.getModuleName());\n            this.inputElement.setAttribute('aria-expanded', 'false');\n            this.inputElement.setAttribute('aria-controls', this.element.id + '_popups');\n        }\n        attributes(this.targetElement(), this.getAriaAttributes());\n        this.updateDataAttribute(this.htmlAttributes);\n        this.setHTMLAttributes();\n        if (this.targetElement() === this.inputElement) {\n            this.inputElement.removeAttribute('aria-labelledby');\n        }\n        if (this.value !== null || this.activeIndex !== null || this.text !== null) {\n            if (this.enableVirtualization) {\n                this.listItemHeight = this.getListHeight();\n                this.getSkeletonCount();\n                this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n                if (this.index !== null) {\n                    this.activeIndex = this.index + this.skeletonCount;\n                }\n            }\n            this.initValue();\n            this.selectedValueInfo = this.viewPortInfo;\n            if (this.enableVirtualization) {\n                this.activeIndex = this.activeIndex + this.skeletonCount;\n            }\n        }\n        else if (this.element.tagName === 'SELECT' && this.element.options[0]) {\n            var selectElement = this.element;\n            this.value = this.allowObjectBinding ? this.getDataByValue(selectElement.options[selectElement.selectedIndex].value) : selectElement.options[selectElement.selectedIndex].value;\n            this.text = isNullOrUndefined(this.value) ? null : selectElement.options[selectElement.selectedIndex].textContent;\n            this.initValue();\n        }\n        this.setEnabled();\n        this.preventTabIndex(this.element);\n        if (!this.enabled) {\n            this.targetElement().tabIndex = -1;\n        }\n        this.initial = false;\n        this.element.style.opacity = '';\n        this.inputElement.onselect = function (e) {\n            e.stopImmediatePropagation();\n        };\n        this.inputElement.onchange = function (e) {\n            e.stopImmediatePropagation();\n        };\n        if (this.element.hasAttribute('autofocus')) {\n            this.focusIn();\n        }\n        if (!isNullOrUndefined(this.text)) {\n            this.inputElement.setAttribute('value', this.text);\n        }\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        var floatLabelElement = this.inputWrapper.container.getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(this.element.id) && this.element.id !== '' && !isNullOrUndefined(floatLabelElement)) {\n            floatLabelElement.id = 'label_' + this.element.id.replace(/ /g, '_');\n            attributes(this.inputElement, { 'aria-labelledby': floatLabelElement.id });\n        }\n        this.renderComplete();\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        if (this.enableVirtualization) {\n            this.updateVirtualizationProperties(this.itemCount, this.allowFiltering);\n        }\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n    };\n    DropDownList.prototype.getListHeight = function () {\n        var listParent = this.createElement('div', {\n            className: 'e-dropdownbase'\n        });\n        var item = this.createElement('li', {\n            className: 'e-list-item'\n        });\n        var listParentHeight = formatUnit(this.popupHeight);\n        listParent.style.height = (parseInt(listParentHeight, 10)).toString() + 'px';\n        listParent.appendChild(item);\n        document.body.appendChild(listParent);\n        this.virtualListHeight = listParent.getBoundingClientRect().height;\n        var listItemHeight = Math.ceil(item.getBoundingClientRect().height);\n        listParent.remove();\n        return listItemHeight;\n    };\n    DropDownList.prototype.setFooterTemplate = function (popupEle) {\n        var compiledString;\n        if (this.footer) {\n            if (this.isReact && typeof this.footerTemplate === 'function') {\n                this.clearTemplate(['footerTemplate']);\n            }\n            else {\n                this.footer.innerHTML = '';\n            }\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], dropDownListClasses.footer);\n        }\n        var footercheck = this.dropdownCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var footerCompTemp = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (footerCompTemp && footerCompTemp.length > 0) {\n            append(footerCompTemp, this.footer);\n        }\n        append([this.footer], popupEle);\n    };\n    DropDownList.prototype.setHeaderTemplate = function (popupEle) {\n        var compiledString;\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], dropDownListClasses.header);\n        }\n        var headercheck = this.dropdownCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var headerCompTemp = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (headerCompTemp && headerCompTemp.length) {\n            append(headerCompTemp, this.header);\n        }\n        var contentEle = popupEle.querySelector('div.e-content');\n        popupEle.insertBefore(this.header, contentEle);\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    DropDownList.prototype.setOldText = function (text) {\n        this.text = text;\n    };\n    DropDownList.prototype.setOldValue = function (value) {\n        this.value = value;\n    };\n    DropDownList.prototype.refreshPopup = function () {\n        if (!isNullOrUndefined(this.popupObj) && document.body.contains(this.popupObj.element) &&\n            ((this.allowFiltering && !(Browser.isDevice && this.isFilterLayout())) || this.getModuleName() === 'autocomplete')) {\n            removeClass([this.popupObj.element], 'e-popup-close');\n            this.popupObj.refreshPosition(this.inputWrapper.container);\n            this.popupObj.resolveCollision();\n        }\n    };\n    DropDownList.prototype.checkData = function (newProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource)) && this.itemTemplate && this.allowFiltering &&\n            !(this.isListSearched && (newProp.dataSource instanceof DataManager))) {\n            this.list = null;\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n        }\n        this.isListSearched = false;\n        var isChangeValue = Object.keys(newProp).indexOf('value') !== -1 && isNullOrUndefined(newProp.value);\n        var isChangeText = Object.keys(newProp).indexOf('text') !== -1 && isNullOrUndefined(newProp.text);\n        if (this.getModuleName() !== 'autocomplete' && this.allowFiltering && (isChangeValue || isChangeText)) {\n            this.itemData = null;\n        }\n        if (this.allowFiltering && newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))) {\n            this.actionCompleteData = { ulElement: null, list: null, isUpdated: false };\n            this.actionData = this.actionCompleteData;\n        }\n        else if (this.allowFiltering && newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            this.actionCompleteData = this.getModuleName() === 'combobox' ?\n                { ulElement: null, list: null, isUpdated: false } : this.actionCompleteData;\n            this.actionData = this.actionCompleteData;\n        }\n    };\n    DropDownList.prototype.updateDataSource = function (props, oldProps) {\n        if (this.inputElement.value !== '' || (!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0)))) {\n            this.clearAll(null, props);\n        }\n        if ((this.fields.groupBy && props.fields) && !this.isGroupChecking && this.list) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n            EventHandler.add(this.list, 'scroll', this.setFloatingHeader, this);\n        }\n        if (!(!isNullOrUndefined(props) && (isNullOrUndefined(props.dataSource)\n            || (!(props.dataSource instanceof DataManager) && props.dataSource.length === 0))) || ((props.dataSource instanceof DataManager) || (!isNullOrUndefined(props) && Array.isArray(props.dataSource) && !isNullOrUndefined(oldProps) && Array.isArray(oldProps.dataSource) && props.dataSource.length !== oldProps.dataSource.length))) {\n            this.typedString = '';\n            this.resetList(this.dataSource);\n        }\n        if (!this.isCustomFilter && !this.isFilterFocus && document.activeElement !== this.filterInput) {\n            this.checkCustomValue();\n        }\n    };\n    DropDownList.prototype.checkCustomValue = function () {\n        var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        this.itemData = this.getDataByValue(currentValue);\n        var dataItem = this.getItemData();\n        var value = this.allowObjectBinding ? this.itemData : dataItem.value;\n        this.setProperties({ 'text': dataItem.text, 'value': value });\n    };\n    DropDownList.prototype.updateInputFields = function () {\n        if (this.getModuleName() === 'dropdownlist') {\n            Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @private\n     * @param {DropDownListModel} newProp - Returns the dynamic property value of the component.\n     * @param {DropDownListModel} oldProp - Returns the previous previous value of the component.\n     * @returns {void}\n     */\n    DropDownList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!isNullOrUndefined(newProp.dataSource) && !this.isTouched && (isNullOrUndefined(newProp.value) && isNullOrUndefined(newProp.index)) && !isNullOrUndefined(this.preselectedIndex)) {\n            newProp.index = this.preselectedIndex;\n        }\n        if (!isNullOrUndefined(newProp.value) || !isNullOrUndefined(newProp.index)) {\n            this.isTouched = true;\n        }\n        if (this.getModuleName() === 'dropdownlist') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        var _loop_1 = function (prop) {\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    this_1.getSkeletonCount();\n                    this_1.checkAndResetCache();\n                    break;\n                case 'htmlAttributes':\n                    this_1.setHTMLAttributes();\n                    break;\n                case 'width':\n                    this_1.setEleWidth(newProp.width);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this_1.inputElement);\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this_1.filterInput) {\n                        Input.setPlaceholder(newProp.filterBarPlaceholder, this_1.filterInput);\n                    }\n                    break;\n                case 'readonly':\n                    if (this_1.getModuleName() !== 'dropdownlist') {\n                        Input.setReadonly(newProp.readonly, this_1.inputElement);\n                    }\n                    this_1.setReadOnly();\n                    break;\n                case 'cssClass':\n                    this_1.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    Input.calculateWidth(this_1.inputElement, this_1.inputWrapper.container);\n                    break;\n                case 'enableRtl':\n                    this_1.setEnableRtl();\n                    break;\n                case 'enabled':\n                    this_1.setEnable();\n                    break;\n                case 'text':\n                    if (newProp.text === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (this_1.enableVirtualization) {\n                        this_1.updateValues();\n                        this_1.updateInputFields();\n                        this_1.notify(\"setCurrentViewDataAsync\", {\n                            module: \"VirtualScroll\",\n                        });\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender) {\n                        var li = this_1.getElementByText(newProp.text);\n                        if (!this_1.checkValidLi(li)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.text, oldProp.text, 'text');\n                            }\n                            else if (newProp.text && this_1.dataSource instanceof DataManager) {\n                                var listLength_1 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.text) ? this_1.fields.value : this_1.fields.text;\n                                this_1.typedString = '';\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', newProp.text)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_1);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldText(oldProp.text);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldText(oldProp.text);\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'value':\n                    if (newProp.value === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) && !isNullOrUndefined(oldProp.value) && this_1.isObjectInArray(newProp.value, [oldProp.value])) {\n                        return { value: void 0 };\n                    }\n                    if (this_1.enableVirtualization) {\n                        this_1.updateValues();\n                        this_1.updateInputFields();\n                        this_1.notify(\"setCurrentViewDataAsync\", {\n                            module: \"VirtualScroll\",\n                        });\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                        break;\n                    }\n                    this_1.notify('beforeValueChange', { newProp: newProp }); // gird component value type change\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender) {\n                        var value = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ? getValue((this_1.fields.value) ? this_1.fields.value : '', newProp.value) : newProp.value;\n                        var item = this_1.getElementByValue(value);\n                        if (!this_1.checkValidLi(item)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.value, oldProp.value, 'value');\n                            }\n                            else if (newProp.value && this_1.dataSource instanceof DataManager) {\n                                var listLength_2 = this_1.getItems().length;\n                                var checkField = isNullOrUndefined(this_1.fields.value) ? this_1.fields.text : this_1.fields.value;\n                                this_1.typedString = '';\n                                var value_7 = this_1.allowObjectBinding && !isNullOrUndefined(newProp.value) ? getValue(checkField, newProp.value) : newProp.value;\n                                this_1.dataSource.executeQuery(this_1.getQuery(this_1.query).where(new Predicate(checkField, 'equal', value_7)))\n                                    .then(function (e) {\n                                    if (e.result.length > 0) {\n                                        _this.addItem(e.result, listLength_2);\n                                        _this.updateValues();\n                                    }\n                                    else {\n                                        _this.setOldValue(oldProp.value);\n                                    }\n                                });\n                            }\n                            else if (this_1.getModuleName() === 'autocomplete') {\n                                this_1.setInputValue(newProp, oldProp);\n                            }\n                            else {\n                                this_1.setOldValue(oldProp.value);\n                            }\n                        }\n                        this_1.updateInputFields();\n                        this_1.preventChange = this_1.isAngular && this_1.preventChange ? !this_1.preventChange : this_1.preventChange;\n                    }\n                    break;\n                case 'index':\n                    if (newProp.index === null) {\n                        this_1.clearAll();\n                        break;\n                    }\n                    if (!this_1.list) {\n                        if (this_1.dataSource instanceof DataManager) {\n                            this_1.initialRemoteRender = true;\n                        }\n                        this_1.renderList();\n                    }\n                    if (!this_1.initialRemoteRender && this_1.liCollections) {\n                        var element = this_1.liCollections[newProp.index];\n                        if (!this_1.checkValidLi(element)) {\n                            if (this_1.liCollections && this_1.liCollections.length === 100 &&\n                                this_1.getModuleName() === 'autocomplete' && this_1.listData.length > 100) {\n                                this_1.setSelectionData(newProp.index, oldProp.index, 'index');\n                            }\n                            else {\n                                this_1.index = oldProp.index;\n                            }\n                        }\n                        this_1.updateInputFields();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setFooterTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'headerTemplate':\n                    if (this_1.popupObj) {\n                        this_1.setHeaderTemplate(this_1.popupObj.element);\n                    }\n                    break;\n                case 'valueTemplate':\n                    if (!isNullOrUndefined(this_1.itemData) && this_1.valueTemplate !== null) {\n                        this_1.setValueTemplate();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this_1.allowFiltering) {\n                        this_1.actionCompleteData = {\n                            ulElement: this_1.ulElement,\n                            list: this_1.listData, isUpdated: true\n                        };\n                        this_1.actionData = this_1.actionCompleteData;\n                        this_1.updateSelectElementData(this_1.allowFiltering);\n                    }\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this_1.inputWrapper);\n                    Input.addFloating(this_1.inputElement, newProp.floatLabelType, this_1.placeholder, this_1.createElement);\n                    if (!isNullOrUndefined(this_1.inputWrapper.buttons[0]) && this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0] && this_1.floatLabelType !== 'Never') {\n                        this_1.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'showClearButton':\n                    if (!this_1.inputWrapper.clearButton) {\n                        Input.setClearButton(newProp.showClearButton, this_1.inputElement, this_1.inputWrapper, null, this_1.createElement);\n                        this_1.bindClearEvent();\n                    }\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var ddlProps = this_1.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this_1, ddlProps.newProperty, ddlProps.oldProperty);\n                    }\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var state_1 = _loop_1(prop);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    };\n    DropDownList.prototype.checkValidLi = function (element) {\n        if (this.isValidLI(element)) {\n            this.setSelection(element, null);\n            return true;\n        }\n        return false;\n    };\n    DropDownList.prototype.setSelectionData = function (newProp, oldProp, prop) {\n        var _this = this;\n        var li;\n        this.updateListValues = function () {\n            if (prop === 'text') {\n                li = _this.getElementByText(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldText(oldProp);\n                }\n            }\n            else if (prop === 'value') {\n                var fields = (_this.fields.value) ? _this.fields.value : '';\n                var value = _this.allowObjectBinding && !isNullOrUndefined(newProp) ? getValue(fields, newProp) : newProp;\n                li = _this.getElementByValue(newProp);\n                if (!_this.checkValidLi(li)) {\n                    _this.setOldValue(oldProp);\n                }\n            }\n            else if (prop === 'index') {\n                li = _this.liCollections[newProp];\n                if (!_this.checkValidLi(li)) {\n                    _this.index = oldProp;\n                }\n            }\n        };\n    };\n    DropDownList.prototype.updatePopupState = function () {\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.showPopup();\n        }\n    };\n    DropDownList.prototype.setReadOnly = function () {\n        if (this.readonly) {\n            addClass([this.inputWrapper.container], ['e-readonly']);\n        }\n        else {\n            removeClass([this.inputWrapper.container], ['e-readonly']);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DropDownList.prototype.setInputValue = function (newProp, oldProp) {\n    };\n    DropDownList.prototype.setCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newClass, [this.inputWrapper.container], oldClass);\n        if (this.popupObj) {\n            Input.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    DropDownList.prototype.getModuleName = function () {\n        return 'dropdownlist';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        if (this.isReact && this.getModuleName() === 'combobox' && this.itemTemplate && this.isCustomFilter && this.isAddNewItemTemplate) {\n            this.renderList();\n            this.isAddNewItemTemplate = false;\n        }\n        if (this.isFiltering() && this.dataSource instanceof DataManager && (this.actionData.list !== this.actionCompleteData.list) &&\n            this.actionData.list && this.actionData.ulElement) {\n            this.actionCompleteData = this.actionData;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        if (this.isFiltering() && !this.isActive && this.actionCompleteData.list && this.actionCompleteData.list[0]) {\n            this.isActive = true;\n            this.onActionComplete(this.actionCompleteData.ulElement, this.actionCompleteData.list, null, true);\n        }\n        else if (isNullOrUndefined(this.list) || !isUndefined(this.list) && (this.list.classList.contains(dropDownBaseClasses.noData) ||\n            this.list.querySelectorAll('.' + dropDownBaseClasses.li).length <= 0)) {\n            if (this.isReact && this.isFiltering() && this.itemTemplate != null) {\n                this.isSecondClick = false;\n            }\n            this.renderList(e);\n        }\n        if (this.enableVirtualization && this.listData && this.listData.length) {\n            if (!isNullOrUndefined(this.value) && (this.getModuleName() === 'dropdownlist' || this.getModuleName() === 'combobox')) {\n                this.removeHover();\n            }\n            if (!this.beforePopupOpen) {\n                this.notify(\"setCurrentViewDataAsync\", {\n                    module: \"VirtualScroll\",\n                });\n            }\n        }\n        if (this.beforePopupOpen) {\n            this.invokeRenderPopup(e);\n        }\n        if (this.enableVirtualization && !this.allowFiltering && this.selectedValueInfo != null && this.selectedValueInfo.startIndex > 0 && this.value != null) {\n            this.notify(\"dataProcessAsync\", {\n                module: \"VirtualScroll\",\n                isOpen: true,\n            });\n        }\n    };\n    DropDownList.prototype.invokeRenderPopup = function (e) {\n        if (Browser.isDevice && this.isFilterLayout()) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_2 = this;\n            window.onpopstate = function () {\n                proxy_2.hidePopup();\n            };\n            history.pushState({}, '');\n        }\n        if (!isNullOrUndefined(this.list) && (!isNullOrUndefined(this.list.children[0]) ||\n            this.list.classList.contains(dropDownBaseClasses.noData))) {\n            this.renderPopup(e);\n        }\n    };\n    DropDownList.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (this.isEscapeKey && this.getModuleName() === 'dropdownlist') {\n            if (!isNullOrUndefined(this.inputElement)) {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            this.isEscapeKey = false;\n            if (!isNullOrUndefined(this.index)) {\n                var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                var element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n                this.selectedLI = this.liCollections[this.index] || element;\n                if (this.selectedLI) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                    if (this.valueTemplate && this.itemData !== null) {\n                        this.setValueTemplate();\n                    }\n                }\n            }\n            else {\n                this.resetSelection();\n            }\n        }\n        this.isVirtualTrackHeight = false;\n        this.closePopup(0, e);\n        var dataItem = this.getItemData();\n        var isSelectVal = !isNullOrUndefined(this.selectedLI);\n        if (isSelectVal && this.enableVirtualization && this.selectedLI.classList) {\n            isSelectVal = this.selectedLI.classList.contains('e-active');\n        }\n        if (this.inputElement && this.inputElement.value.trim() === '' && !this.isInteracted && (this.isSelectCustom ||\n            isSelectVal && this.inputElement.value !== dataItem.text)) {\n            this.isSelectCustom = false;\n            this.clearAll(e);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Sets the focus on the component for interaction.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusIn = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.targetElement().classList.contains(dropDownListClasses.disable)) {\n            return;\n        }\n        var isFocused = false;\n        if (this.preventFocus && Browser.isDevice) {\n            this.inputWrapper.container.tabIndex = 1;\n            this.inputWrapper.container.focus();\n            this.preventFocus = false;\n            isFocused = true;\n        }\n        if (!isFocused) {\n            this.targetElement().focus();\n        }\n        addClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        this.onFocus(e);\n        if (this.floatLabelType === 'Auto') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.enableVirtualization && (this.getModuleName() === 'combobox' || this.getModuleName() === 'autocomplete')) {\n            this.isTyped = true;\n        }\n        this.hidePopup(e);\n        if (this.targetElement()) {\n            this.targetElement().blur();\n        }\n        removeClass([this.inputWrapper.container], [dropDownListClasses.inputFocus]);\n        if (this.floatLabelType === 'Auto' && this.inputElement.value === '') {\n            Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownList.prototype.destroy = function () {\n        this.isActive = false;\n        if (this.showClearButton) {\n            this.clearButton = document.getElementsByClassName('e-clear-icon')[0];\n        }\n        resetIncrementalSearchValues(this.element.id);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        this.hidePopup();\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.element && !this.element.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        if (this.inputElement) {\n            var attrArray = ['readonly', 'aria-disabled', 'placeholder', 'aria-labelledby',\n                'aria-expanded', 'autocomplete', 'aria-readonly', 'autocapitalize',\n                'spellcheck', 'aria-autocomplete', 'aria-live', 'aria-describedby', 'aria-label'];\n            for (var i = 0; i < attrArray.length; i++) {\n                this.inputElement.removeAttribute(attrArray[i]);\n            }\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n            this.inputElement.classList.remove('e-input');\n            Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.element.style.display = 'block';\n        if (this.inputWrapper.container.parentElement.tagName === this.getNgDirective()) {\n            detach(this.inputWrapper.container);\n        }\n        else {\n            this.inputWrapper.container.parentElement.insertBefore(this.element, this.inputWrapper.container);\n            detach(this.inputWrapper.container);\n        }\n        this.hiddenElement = null;\n        this.inputWrapper = null;\n        this.keyboardModule = null;\n        this.ulElement = null;\n        this.list = null;\n        this.popupObj = null;\n        this.popupContentElement = null;\n        this.rippleFun = null;\n        this.selectedLI = null;\n        this.liCollections = null;\n        this.item = null;\n        this.inputWrapper = null;\n        this.footer = null;\n        this.header = null;\n        this.previousSelectedLI = null;\n        this.valueTempElement = null;\n        this.actionData.ulElement = null;\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onchange)) {\n            this.inputElement.onchange = null;\n        }\n        if (this.inputElement && !isNullOrUndefined(this.inputElement.onselect)) {\n            this.inputElement.onselect = null;\n        }\n        Input.destroy({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            properties: this.properties\n        }, this.clearButton);\n        if (this.isAngular) {\n            this.inputElement = null;\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     */\n    DropDownList.prototype.getItems = function () {\n        if (!this.list) {\n            if (this.dataSource instanceof DataManager) {\n                this.initialRemoteRender = true;\n            }\n            this.renderList();\n        }\n        return this.ulElement ? _super.prototype.getItems.call(this) : [];\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     */\n    DropDownList.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     */\n    DropDownList.prototype.clear = function () {\n        this.value = null;\n    };\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"width\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownList.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownList.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownList.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownList.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"allowObjectBinding\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownList.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownList.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownList.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownList.prototype, \"focus\", void 0);\n    DropDownList = __decorate([\n        NotifyPropertyChanges\n    ], DropDownList);\n    return DropDownList;\n}(DropDownBase));\nexport { DropDownList };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Input, TextBox } from '@syncfusion/ej2-inputs';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { NotifyPropertyChanges, Property, Event, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, attributes, formatUnit, ChildProperty, remove, L10n, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, prepend, Complex, closest, setValue, getValue, compile, append } from '@syncfusion/ej2-base';\nimport { select, selectAll, isNullOrUndefined as isNOU, matches, Browser, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nvar RTL = 'e-rtl';\nvar DROPDOWNTREE = 'e-ddt';\nvar HIDDENELEMENT = 'e-ddt-hidden';\nvar DROPDOWNICON = 'e-input-group-icon e-ddt-icon e-icons';\nvar SHOW_CHIP = 'e-show-chip';\nvar SHOW_CLEAR = 'e-show-clear';\nvar SHOW_DD_ICON = 'e-show-dd-icon';\nvar CHIP_INPUT = 'e-chip-input';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTGROUP = 'e-input-group';\nvar ICONANIMATION = 'e-icon-anim';\nvar CLOSEICON_CLASS = 'e-clear-icon e-icons';\nvar CHIP_WRAPPER = 'e-chips-wrapper';\nvar CHIP_COLLECTION = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar HIDEICON = 'e-icon-hide';\nvar DDTHIDEICON = 'e-ddt-icon-hide';\nvar POPUP_CLASS = 'e-ddt e-popup';\nvar PARENTITEM = 'e-list-parent';\nvar CONTENT = 'e-popup-content';\nvar DROPDOWN = 'e-dropdown';\nvar DISABLED = 'e-disabled';\nvar ICONS = 'e-icons';\nvar CHECKALLPARENT = 'e-selectall-parent';\nvar CHECKALLHIDE = 'e-hide-selectall';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar ALLTEXT = 'e-all-text';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar FILTERWRAP = 'e-filter-wrap';\nvar DDTICON = 'e-ddt-icon';\nvar FOOTER = 'e-ddt-footer';\nvar HEADER = 'e-ddt-header';\nvar NODATACONTAINER = 'e-ddt-nodata';\nvar NODATA = 'e-no-data';\nvar HEADERTEMPLATE = 'HeaderTemplate';\nvar FOOTERTEMPLATE = 'FooterTemplate';\nvar NORECORDSTEMPLATE = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE = 'ActionFailureTemplate';\nvar CUSTOMTEMPLATE = 'CustomTemplate';\nvar REMAIN_WRAPPER = 'e-remain';\nvar OVERFLOW_VIEW = 'e-overflow';\nvar SHOW_TEXT = 'e-show-text';\nvar TOTAL_COUNT_WRAPPER = 'e-total-count';\nvar REMAIN_COUNT = 'e-wrap-count';\nvar Fields = /** @class */ (function (_super) {\n    __extends(Fields, _super);\n    function Fields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], Fields.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], Fields.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], Fields.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], Fields.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], Fields.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], Fields.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], Fields.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('parentValue')\n    ], Fields.prototype, \"parentValue\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"query\", void 0);\n    __decorate([\n        Property('selectable')\n    ], Fields.prototype, \"selectable\", void 0);\n    __decorate([\n        Property('selected')\n    ], Fields.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], Fields.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], Fields.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('value')\n    ], Fields.prototype, \"value\", void 0);\n    return Fields;\n}(ChildProperty));\nexport { Fields };\nvar TreeSettings = /** @class */ (function (_super) {\n    __extends(TreeSettings, _super);\n    function TreeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"autoCheck\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeSettings.prototype, \"expandOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"loadOnDemand\", void 0);\n    return TreeSettings;\n}(ChildProperty));\nexport { TreeSettings };\n/**\n * The Dropdown Tree control allows you to select single or multiple values from hierarchical data in a tree-like structure.\n * It has several out-of-the-box features, such as data binding, check boxes, templates, filter,\n * UI customization, accessibility, and preselected values.\n * ```html\n *  <input type=\"text\" id=\"tree\"></input>\n * ```\n * ```typescript\n *  let ddtObj: DropDownTree = new DropDownTree();\n *  ddtObj.appendTo(\"#tree\");\n * ```\n */\nvar DropDownTree = /** @class */ (function (_super) {\n    __extends(DropDownTree, _super);\n    function DropDownTree(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.filterTimer = null;\n        _this.isFilteredData = false;\n        _this.isFilterRestore = false;\n        _this.selectedData = [];\n        _this.filterDelayTime = 300;\n        _this.isClicked = false;\n        // Specifies if the checkAll method has been called\n        _this.isCheckAllCalled = false;\n        _this.isFromFilterChange = false;\n        return _this;\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string}\n     * @hidden\n     */\n    DropDownTree.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    DropDownTree.prototype.getLocaleName = function () {\n        return 'drop-down-tree';\n    };\n    /**\n     * Initialize the event handler.\n     *\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.preRender = function () {\n        this.inputFocus = false;\n        this.isPopupOpen = false;\n        this.isFirstRender = true;\n        this.isInitialized = false;\n        this.currentText = null;\n        this.currentValue = null;\n        this.oldValue = null;\n        this.removeValue = false;\n        this.selectedText = [];\n        this.treeItems = [];\n        this.dataValue = null;\n        this.isNodeSelected = false;\n        this.isDynamicChange = false;\n        this.clearIconWidth = 0;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE;\n        this.customTemplateId = \"\" + this.element.id + CUSTOMTEMPLATE;\n        this.keyConfigs = {\n            escape: 'escape',\n            altUp: 'alt+uparrow',\n            altDown: 'alt+downarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            end: 'end',\n            enter: 'enter',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n            ctrlA: 'ctrl+A'\n        };\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownTree.prototype.render = function () {\n        var isTree = select('#' + this.element.id + '_tree', document);\n        if (isTree) {\n            var popupDiv = select('#' + this.element.id + '_options', document);\n            detach(popupDiv ? popupDiv : isTree.parentElement);\n        }\n        if (this.element.tagName === 'INPUT') {\n            this.inputEle = this.element;\n            if (isNOU(this.inputEle.getAttribute('role'))) {\n                this.inputEle.setAttribute('aria-expanded', 'false');\n                this.inputEle.setAttribute('role', 'combobox');\n                this.inputEle.setAttribute('aria-haspopup', 'tree');\n                this.inputEle.setAttribute('aria-controls', this.element.id + '_options');\n            }\n            if (isNOU(this.inputEle.getAttribute('type'))) {\n                this.inputEle.setAttribute('type', 'text');\n            }\n        }\n        else {\n            this.inputEle = this.createElement('input', { attrs: { role: 'textbox', type: 'text' } });\n            this.element.parentElement.insertBefore(this.inputEle, this.element);\n        }\n        this.inputObj = Input.createInput({\n            element: this.inputEle,\n            floatLabelType: this.floatLabelType,\n            buttons: this.showDropDownIcon ? [DROPDOWNICON] : null,\n            properties: {\n                readonly: true,\n                placeholder: this.placeholder,\n                enabled: this.enabled,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl\n            }\n        }, this.createElement);\n        this.inputWrapper = this.inputObj.container;\n        if (!this.inputWrapper.classList.contains(INPUTGROUP)) {\n            this.inputWrapper.classList.add(INPUTGROUP);\n        }\n        if (this.showDropDownIcon) {\n            this.inputWrapper.classList.add(SHOW_DD_ICON);\n        }\n        if (this.element.tagName === this.getDirective()) {\n            this.element.appendChild(this.inputWrapper);\n        }\n        this.createHiddenElement();\n        this.createClearIcon();\n        this.inputWrapper.classList.add(DROPDOWNTREE);\n        this.setElementWidth(this.width);\n        this.updateDataAttribute();\n        this.setHTMLAttributes();\n        this.setAttributes();\n        this.popupDiv = this.createElement('div', { className: CONTENT });\n        this.popupDiv.classList.add(DROPDOWN);\n        this.tree = this.createElement('div', { id: this.element.id + '_tree' });\n        this.popupDiv.appendChild(this.tree);\n        if (!this.destroyPopupOnHide) {\n            document.body.appendChild(this.popupDiv);\n        }\n        this.wireTreeEvents();\n        addClass([this.popupDiv], DDTHIDEICON);\n        this.renderTree();\n        this.isRemoteData = this.fields.dataSource instanceof DataManager;\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter') {\n                this.createChip();\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n                if (this.mode !== 'Box') {\n                    addClass([this.overFlowWrapper], SHOW_TEXT);\n                }\n            }\n        }\n        if (!this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n        }\n        this.wireEvents();\n        var firstUl = select('.' + PARENTITEM, this.treeObj.element);\n        if (firstUl && firstUl.getAttribute('aria-multiselectable')) {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n        this.oldValue = this.value;\n        this.isInitialized = true;\n        this.hasTemplate = this.itemTemplate || this.headerTemplate || this.footerTemplate || this.actionFailureTemplate\n            || this.noRecordsTemplate || this.customTemplate;\n        this.renderComplete();\n    };\n    DropDownTree.prototype.hideCheckAll = function (flag) {\n        var checkAllEle = !isNOU(this.popupEle) ? this.popupEle.querySelector('.' + CHECKALLPARENT) : null;\n        if (!isNOU(checkAllEle)) {\n            if (flag && !checkAllEle.classList.contains(CHECKALLHIDE)) {\n                addClass([checkAllEle], CHECKALLHIDE);\n            }\n            else if (!flag && checkAllEle.classList.contains(CHECKALLHIDE)) {\n                removeClass([checkAllEle], CHECKALLHIDE);\n            }\n        }\n    };\n    DropDownTree.prototype.renderFilter = function () {\n        this.filterContainer = this.createElement('div', {\n            id: this.element.id + '_filter_wrap',\n            className: FILTERWRAP\n        });\n        var filterInput = this.createElement('input', {\n            id: this.element.id + '_filter',\n            attrs: { autocomplete: 'off', 'aria-label': this.filterBarPlaceholder }\n        });\n        this.filterContainer.appendChild(filterInput);\n        prepend([this.filterContainer], this.popupEle);\n        this.filterObj = new TextBox({\n            value: '',\n            showClearButton: true,\n            placeholder: this.filterBarPlaceholder,\n            input: this.filterChangeHandler.bind(this)\n        });\n        this.filterObj.appendTo('#' + this.element.id + '_filter');\n    };\n    DropDownTree.prototype.filterChangeHandler = function (args) {\n        var _this = this;\n        if (!isNOU(args.value)) {\n            window.clearTimeout(this.filterTimer);\n            this.filterTimer = window.setTimeout(function () { _this.filterHandler(args.value, args.event); }, this.filterDelayTime);\n        }\n    };\n    DropDownTree.prototype.isChildObject = function () {\n        if (typeof this.treeObj.fields.child === 'object') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.filterHandler = function (value, event) {\n        var _this = this;\n        this.isFromFilterChange = true;\n        if (!this.isFilteredData) {\n            if (this.isRemoteData) {\n                this.treeObj.expandedNodes = [];\n            }\n            this.treeData = this.treeObj.getTreeData();\n        }\n        var filterFields = this.cloneFields(this.fields);\n        var args = {\n            cancel: false,\n            preventDefaultAction: false,\n            event: event,\n            text: value,\n            fields: filterFields\n        };\n        this.trigger('filtering', args, function (args) {\n            if (!args.cancel) {\n                var flag = false;\n                var fields = void 0;\n                _this.isFilteredData = true;\n                if (value === '') {\n                    _this.isFilteredData = false;\n                    _this.isFilterRestore = true;\n                    _this.isFromFilterChange = false;\n                    fields = _this.cloneFields(_this.fields);\n                }\n                else if (args.preventDefaultAction) {\n                    fields = args.fields;\n                }\n                else {\n                    if (_this.treeDataType === 1) {\n                        fields = _this.selfReferencefilter(value, args.fields);\n                    }\n                    else {\n                        if (_this.fields.dataSource instanceof DataManager) {\n                            fields = _this.remoteDataFilter(value, args.fields);\n                            fields.child = _this.fields.child;\n                            _this.treeObj.fields = _this.getTreeFields(args.fields);\n                            _this.treeObj.dataBind();\n                            flag = true;\n                        }\n                        else {\n                            fields = _this.nestedFilter(value, args.fields);\n                        }\n                    }\n                }\n                _this.hideCheckAll(_this.isFilteredData);\n                if (flag) {\n                    return;\n                }\n                if (_this.isRemoteData) {\n                    if (_this.isChildObject()) {\n                        fields.child = _this.fields.child;\n                    }\n                    else {\n                        fields = args.fields;\n                    }\n                }\n                _this.treeObj.fields = _this.getTreeFields(fields);\n                _this.treeObj.dataBind();\n                if (_this.hasTemplate && _this.portals && _this.treeObj.portals) {\n                    for (var i = 0; i < _this.treeObj.portals.length; i++) {\n                        if (_this.portals.indexOf(_this.treeObj.portals[i]) === -1) {\n                            _this.portals.push(_this.treeObj.portals[i]);\n                        }\n                    }\n                    if (_this.isReact) {\n                        _this.renderReactTemplates();\n                    }\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.remoteDataFilter = function (value, filteredFields) {\n        var _this = this;\n        filteredFields.dataSource = this.treeData.map(function (item) {\n            return _this.remoteChildFilter(value, item);\n        }).filter(function (filteredChild) {\n            return !isNOU(filteredChild);\n        });\n        return filteredFields;\n    };\n    DropDownTree.prototype.remoteChildFilter = function (value, node, isChild, isChildFiltering) {\n        var children = this.isChildObject() ? node['child'] : node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node, isChild, isChildFiltering)) ? node : null;\n        }\n        var matchedChildren = [];\n        for (var i = 0; i < children.length; i++) {\n            var filteredChild = this.remoteChildFilter(value, children[i], true, true);\n            if (!isNOU(filteredChild)) {\n                matchedChildren.push(filteredChild);\n            }\n        }\n        var filteredItems = Object.assign({}, node);\n        isChildFiltering = false;\n        if (matchedChildren.length !== 0) {\n            filteredItems.child = matchedChildren;\n        }\n        else {\n            filteredItems.child = null;\n            filteredItems = (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n        }\n        return filteredItems;\n    };\n    DropDownTree.prototype.nestedFilter = function (value, filteredFields) {\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            // eslint-disable-next-line\n            var filteredChild = this.nestedChildFilter(value, this.treeData[i]);\n            if (!isNOU(filteredChild)) {\n                matchedDataSource.push(filteredChild);\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    DropDownTree.prototype.nestedChildFilter = function (value, node) {\n        var children = node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node)) ? node : null;\n        }\n        else {\n            var matchedChildren = [];\n            for (var i = 0; i < children.length; i++) {\n                // eslint-disable-next-line\n                var filteredChild = this.nestedChildFilter(value, children[i]);\n                if (!isNOU(filteredChild)) {\n                    matchedChildren.push(filteredChild);\n                }\n            }\n            var filteredItems = Object.assign({}, node);\n            if (matchedChildren.length !== 0) {\n                filteredItems[this.fields.child] = matchedChildren;\n                return filteredItems;\n            }\n            else {\n                filteredItems[this.fields.child] = null;\n                return (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n            }\n        }\n    };\n    DropDownTree.prototype.selfReferencefilter = function (value, filteredFields) {\n        var matchedData = [];\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            if (this.isMatchedNode(value, this.treeData[i])) {\n                matchedData.push(this.treeData[i]);\n            }\n        }\n        for (var i = 0; i < matchedData.length; i++) {\n            if (matchedDataSource.indexOf(matchedData[i]) === -1) {\n                matchedDataSource.push(matchedData[i]);\n                // eslint-disable-next-line\n                var parentId = matchedData[i][this.fields.parentValue];\n                while (!isNOU(parentId)) {\n                    var parent_1 = null;\n                    for (var j = 0; j < this.treeData.length; j++) {\n                        // eslint-disable-next-line\n                        var value_1 = this.treeData[j][this.fields.value];\n                        if (!isNOU(value_1) && (value_1 === parentId)) {\n                            parent_1 = this.treeData[j];\n                            break;\n                        }\n                    }\n                    if (!isNOU(parent_1) && (matchedDataSource.indexOf(parent_1) === -1)) {\n                        matchedDataSource.push(parent_1);\n                        parentId = parent_1[this.fields.parentValue];\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    DropDownTree.prototype.isMatchedNode = function (value, node, isChild, isChildFiltering) {\n        var checkValue;\n        var isObjectValue = isChild && isChildFiltering && this.isChildObject();\n        checkValue = isObjectValue ? node[this.fields.child.text] : node[this.fields.text];\n        if (!checkValue) {\n            var tempChild = this.fields.child;\n            while (!node[tempChild.text]) {\n                tempChild = tempChild.child;\n            }\n            checkValue = node[tempChild.text];\n        }\n        if (this.ignoreCase) {\n            checkValue = checkValue.toLowerCase();\n            value = value.toLowerCase();\n        }\n        if (this.ignoreAccent) {\n            checkValue = DataUtil.ignoreDiacritics(checkValue);\n            value = DataUtil.ignoreDiacritics(value);\n        }\n        if (this.filterType === 'StartsWith') {\n            return checkValue.slice(0, value.length) === value;\n        }\n        else if (this.filterType === 'EndsWith') {\n            return checkValue.slice(-value.length) === value;\n        }\n        else {\n            return checkValue.indexOf(value) !== -1;\n        }\n    };\n    /* To wire events for the dropdown tree */\n    DropDownTree.prototype.wireEvents = function () {\n        EventHandler.add(this.inputWrapper, 'mouseup', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper, 'blur', this.focusOut, this);\n        EventHandler.add(this.inputWrapper, 'mousemove', this.mouseIn, this);\n        EventHandler.add(this.inputWrapper, 'mouseout', this.onMouseLeave, this);\n        EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        this.keyboardModule = new KeyboardEvents(this.inputWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireTreeEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.tree, {\n            keyAction: this.treeAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireCheckAllWrapperEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.checkAllParent, {\n            keyAction: this.checkAllAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    /* To unwire events for the dropdown tree */\n    DropDownTree.prototype.unWireEvents = function () {\n        EventHandler.remove(this.inputWrapper, 'mouseup', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper, 'focus', this.focusIn);\n        EventHandler.remove(this.inputWrapper, 'blur', this.focusOut);\n        EventHandler.remove(this.inputWrapper, 'mousemove', this.mouseIn);\n        EventHandler.remove(this.inputWrapper, 'mouseout', this.onMouseLeave);\n        EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n    };\n    /* Trigger when the dropdown is clicked */\n    DropDownTree.prototype.dropDownClick = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n            return;\n        }\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        else {\n            this.focusIn(e);\n            this.renderPopup();\n        }\n        this.showOverAllClear();\n    };\n    DropDownTree.prototype.mouseIn = function () {\n        if (this.enabled || !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    DropDownTree.prototype.onMouseLeave = function () {\n        if (!this.inputFocus) {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n    };\n    DropDownTree.prototype.getDirective = function () {\n        return 'EJS-DROPDOWNTREE';\n    };\n    DropDownTree.prototype.focusOut = function (e) {\n        if (!this.enabled || this.readonly || !this.inputFocus) {\n            return;\n        }\n        if ((Browser.isIE || Browser.info.name === 'edge') && (e.target === this.inputWrapper)) {\n            return;\n        }\n        var target = e.relatedTarget;\n        if ((target !== this.inputEle) && (isNOU(target)) && (e.target !== this.inputWrapper || !this.isPopupOpen)) {\n            this.onFocusOut(e);\n        }\n    };\n    DropDownTree.prototype.onFocusOut = function (event) {\n        this.inputFocus = false;\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n        }\n        if (this.showClearButton) {\n            this.clearIconWidth = select('.e-clear-icon', this.inputWrapper).offsetWidth;\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        removeClass([this.inputWrapper], [INPUTFOCUS]);\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (this.mode !== 'Delimiter' && this.mode !== 'Custom') {\n                if (this.chipWrapper && (this.mode === 'Default')) {\n                    addClass([this.chipWrapper], HIDEICON);\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n            }\n            if (!this.wrapText && isValue) {\n                this.updateView();\n            }\n        }\n        if (this.changeOnBlur) {\n            this.triggerChangeEvent(event);\n        }\n        this.removeValue = false;\n        this.oldValue = this.value;\n        this.trigger('blur');\n    };\n    DropDownTree.prototype.updateView = function () {\n        if ((!this.showCheckBox && !this.allowMultiSelection) || this.mode === 'Custom' || this.inputFocus) {\n            return;\n        }\n        if (this.mode !== 'Box') {\n            addClass([this.inputWrapper, this.overFlowWrapper], SHOW_TEXT);\n        }\n        else {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        if (this.value && this.value.length !== 0) {\n            if (this.inputWrapper.contains(this.chipWrapper)) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n            addClass([this.inputEle], CHIP_INPUT);\n            this.updateOverFlowView();\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.triggerChangeEvent = function (event) {\n        var isEqual = this.ddtCompareValues(this.oldValue, this.value);\n        if ((!isEqual || this.isChipDelete) && !this.removeValue) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.oldValue,\n                value: this.value,\n                isInteracted: event ? true : false,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n            this.oldValue = this.value;\n        }\n    };\n    DropDownTree.prototype.ddtCompareValues = function (oldValue, newValue) {\n        if (oldValue === null || newValue === null) {\n            var isValid = oldValue === null ? ((newValue === oldValue) ? true : false) :\n                (oldValue.length === 0 ? (newValue === oldValue) : false);\n            return isValid;\n        }\n        else if (oldValue.length !== newValue.length) {\n            return false;\n        }\n        for (var i = 0; i < oldValue.length; i++) {\n            if (oldValue[i] !== newValue[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    DropDownTree.prototype.focusIn = function (e) {\n        if (!this.enabled || this.readonly || this.inputFocus) {\n            return;\n        }\n        this.showOverAllClear();\n        this.inputFocus = true;\n        addClass([this.inputWrapper], [INPUTFOCUS]);\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter' && this.inputFocus) {\n                if (this.chipWrapper && (this.value && this.value.length !== 0)) {\n                    removeClass([this.chipWrapper], HIDEICON);\n                    addClass([this.inputEle], CHIP_INPUT);\n                }\n                addClass([this.inputWrapper], SHOW_CHIP);\n                if (this.popupObj) {\n                    this.popupObj.refreshPosition();\n                }\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                if (this.inputWrapper.contains(this.overFlowWrapper)) {\n                    addClass([this.overFlowWrapper], HIDEICON);\n                }\n                if (this.mode === 'Delimiter') {\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n                else {\n                    addClass([this.inputWrapper], SHOW_CHIP);\n                }\n                removeClass([this.inputWrapper], SHOW_TEXT);\n                this.ensurePlaceHolder();\n            }\n        }\n        var args = { isInteracted: e ? true : false, event: e };\n        this.trigger('focus', args);\n    };\n    DropDownTree.prototype.treeAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        _this.inputWrapper.focus();\n                        e.preventDefault();\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'tab':\n                    case 'shiftTab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                        if (!_this.showCheckBox) {\n                            _this.isValueChange = true;\n                            _this.keyEventArgs = e;\n                        }\n                        break;\n                    case 'space':\n                        _this.isValueChange = true;\n                        _this.keyEventArgs = e;\n                        break;\n                    case 'ctrlA':\n                        if (_this.allowMultiSelection) {\n                            _this.selectAll(true);\n                        }\n                        break;\n                    case 'moveRight':\n                    case 'moveLeft':\n                    case 'shiftDown':\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                    case 'shiftUp':\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                }\n            }\n            else {\n                e.stopImmediatePropagation();\n            }\n        });\n    };\n    DropDownTree.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'shiftTab':\n                    case 'tab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        if (_this.inputFocus) {\n                            _this.onFocusOut();\n                        }\n                        break;\n                    case 'altDown':\n                        if (!_this.isPopupOpen) {\n                            _this.showPopup();\n                            e.preventDefault();\n                        }\n                        break;\n                    case 'moveDown':\n                        if (_this.showSelectAll && _this.showCheckBox) {\n                            _this.checkAllParent.focus();\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.checkAllAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        _this.clickHandler(e);\n                        break;\n                    case 'moveDown':\n                        var focusedElement = _this.treeObj.element.querySelector('li');\n                        focusedElement.focus();\n                        addClass([focusedElement], ['e-node-focus']);\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.windowResize = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ width: this.setWidth() });\n            this.popupObj.refreshPosition();\n        }\n    };\n    DropDownTree.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement && e.target === formElement) {\n            this.isDynamicChange = true;\n            this.setProperties({ value: null }, true);\n            this.resetValue(true);\n            this.isDynamicChange = false;\n        }\n    };\n    DropDownTree.prototype.getAriaAttributes = function () {\n        return {};\n    };\n    DropDownTree.prototype.updateOverFlowView = function () {\n        this.overFlowWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        removeClass([this.overFlowWrapper], HIDEICON);\n        if (this.value && this.value.length) {\n            var data = '';\n            var overAllContainer = void 0;\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            this.overFlowWrapper.innerHTML = '';\n            var l10nLocale = { overflowCountTemplate: '+${count} more..', totalCountTemplate: '${count} selected' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            var remainContent = this.l10n.getConstant('overflowCountTemplate');\n            var totalContent = this.l10n.getConstant('totalCountTemplate');\n            var remainElement = this.createElement('span', { className: REMAIN_WRAPPER });\n            this.overFlowWrapper.appendChild(remainElement);\n            remainElement.innerText = remainContent.replace('${count}', this.value.length.toString());\n            var remainSize = remainElement.offsetWidth;\n            remove(remainElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = select('.' + DDTICON, this.inputWrapper).offsetWidth;\n            }\n            if (!isNOU(this.value)) {\n                if (this.mode !== 'Box') {\n                    for (var index = 0; !isNOU(this.value[index]); index++) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.overFlowWrapper.innerHTML;\n                        if (this.enableHtmlSanitizer) {\n                            this.overFlowWrapper.innerText = SanitizeHtmlHelper.sanitize(data);\n                        }\n                        else {\n                            this.overFlowWrapper.innerHTML = data;\n                        }\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                index = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - index;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                var textArr = this.overFlowWrapper.innerHTML.split(this.delimiterChar);\n                                textArr.pop();\n                                this.overFlowWrapper.innerHTML = textArr.join(this.delimiterChar);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = index;\n                        }\n                        else if (index === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n                else {\n                    addClass([this.chipWrapper], HIDEICON);\n                    var ele = this.chipWrapper.cloneNode(true);\n                    var chips = selectAll('.' + CHIP, ele);\n                    for (var i = 0; i < chips.length; i++) {\n                        temp = this.overFlowWrapper.innerHTML;\n                        this.overFlowWrapper.appendChild(chips[i]);\n                        data = this.overFlowWrapper.innerHTML;\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                i = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - i;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = i;\n                        }\n                        else if (i === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n            }\n            if (remaining > 0) {\n                this.overFlowWrapper.appendChild(this.updateRemainTemplate(remainElement, remaining, remainContent, totalContent));\n            }\n            if (this.mode === 'Box' && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([remainElement], REMAIN_COUNT);\n            }\n        }\n        else {\n            this.overFlowWrapper.innerHTML = '';\n            addClass([this.overFlowWrapper], HIDEICON);\n        }\n        this.updateDelimMode();\n    };\n    DropDownTree.prototype.updateRemainTemplate = function (remainElement, remaining, remainContent, totalContent) {\n        if (this.overFlowWrapper.firstChild && this.overFlowWrapper.firstChild.nodeType === 3 &&\n            this.overFlowWrapper.firstChild.nodeValue === '') {\n            this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild);\n        }\n        remainElement.innerHTML = '';\n        remainElement.innerText = (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) ?\n            remainContent.replace('${count}', remaining.toString()) : totalContent.replace('${count}', remaining.toString());\n        if (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) {\n            removeClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            addClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n            removeClass([this.overFlowWrapper], REMAIN_COUNT);\n        }\n        return remainElement;\n    };\n    DropDownTree.prototype.getOverflowVal = function (index) {\n        // eslint-disable-next-line\n        var selectedData = this.getSelectedData(this.value[index]);\n        return getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n    };\n    DropDownTree.prototype.updateDelimMode = function () {\n        if (this.mode !== 'Box') {\n            if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper) && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([this.overFlowWrapper], REMAIN_COUNT);\n                addClass([this.overFlowWrapper], SHOW_TEXT);\n            }\n            else {\n                this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n                removeClass([this.overFlowWrapper], REMAIN_COUNT);\n            }\n        }\n        else if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper)) {\n            this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n        }\n    };\n    DropDownTree.prototype.createHiddenElement = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'class': HIDDENELEMENT, 'tabindex': '-1', 'multiple': '' }\n            });\n        }\n        else {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': HIDDENELEMENT }\n            });\n        }\n        prepend([this.hiddenElement], this.inputWrapper);\n        this.validationAttribute();\n    };\n    DropDownTree.prototype.createClearIcon = function () {\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS\n        });\n        addClass([this.overAllClear], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CLEAR);\n        if (this.showClearButton) {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.validationAttribute = function () {\n        var name = this.inputEle.getAttribute('name') ? this.inputEle.getAttribute('name') : this.inputEle.getAttribute('id');\n        this.hiddenElement.setAttribute('name', name);\n        this.inputEle.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            var attr = this.inputEle.getAttribute(attributes[i]);\n            if (attr) {\n                this.hiddenElement.setAttribute(attributes[i], attr);\n                this.inputEle.removeAttribute(attributes[i]);\n            }\n        }\n    };\n    DropDownTree.prototype.createChip = function () {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.chipWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER\n            });\n            this.chipCollection = this.createElement('span', {\n                className: CHIP_COLLECTION\n            });\n            this.chipWrapper.appendChild(this.chipCollection);\n            this.inputWrapper.insertBefore(this.chipWrapper, this.hiddenElement);\n            addClass([this.inputWrapper], SHOW_CHIP);\n            var isValid = this.getValidMode();\n            if (isValid && this.value !== null && (this.value && this.value.length !== 0)) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else if (this.value === null || (this.value && this.value.length === 0) || this.checkWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.getValidMode = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return this.mode === 'Box' ? true : (this.mode === 'Default' && this.inputFocus) ? true : false;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.createSelectAllWrapper = function () {\n        this.checkAllParent = this.createElement('div', {\n            className: CHECKALLPARENT, attrs: { 'tabindex': '0' }\n        });\n        this.selectAllSpan = this.createElement('span', {\n            className: ALLTEXT\n        });\n        this.selectAllSpan.textContent = '';\n        var ele = closest(this.element, '.' + BIGGER);\n        var touchClass = isNOU(ele) ? '' : SMALL;\n        this.checkBoxElement = createCheckBox(this.createElement, true, { cssClass: touchClass });\n        this.checkBoxElement.setAttribute('role', 'checkbox');\n        this.checkAllParent.appendChild(this.checkBoxElement);\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        EventHandler.add(this.checkAllParent, 'mouseup', this.clickHandler, this);\n        this.wireCheckAllWrapperEvents();\n    };\n    DropDownTree.prototype.clickHandler = function (e) {\n        var target;\n        if ((e.currentTarget && e.currentTarget.classList.contains(CHECKALLPARENT))) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.target;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        if (!isNOU(this.checkWrapper)) {\n            this.isClicked = true;\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.changeState(this.checkWrapper, checkElement.classList.contains(CHECK) ? 'uncheck' : 'check', e);\n            this.isClicked = false;\n        }\n        e.preventDefault();\n    };\n    DropDownTree.prototype.changeState = function (wrapper, state, e) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (!this.isReverseUpdate) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(true);\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK))) {\n            frameSpan.classList.remove(CHECK);\n            ariaState = 'false';\n            if (!this.isReverseUpdate) {\n                this.treeObj.uncheckAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(false);\n        }\n        this.setMultiSelect();\n        this.ensurePlaceHolder();\n        ariaState = state === 'check' ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.parentElement.setAttribute('aria-checked', ariaState);\n        }\n    };\n    DropDownTree.prototype.setLocale = function (unSelect) {\n        if (!this.selectAllSpan) {\n            return;\n        }\n        if (this.selectAllText !== 'Select All' || this.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.unSelectAllText : this.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this, templateName, null, !this.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            this.selectAllSpan.textContent = unSelect ? this.unSelectAllText : this.selectAllText;\n        }\n    };\n    DropDownTree.prototype.setAttributes = function () {\n        this.inputEle.setAttribute('tabindex', '-1');\n        var id = this.element.getAttribute('id');\n        this.hiddenElement.id = id + '_hidden';\n        this.inputWrapper.setAttribute('tabindex', '0');\n        attributes(this.inputWrapper, this.getAriaAttributes());\n    };\n    DropDownTree.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    this.inputWrapper.classList.add(this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else if (htmlAttr === 'disabled') {\n                    this.setProperties({ enabled: false }, true);\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly') {\n                    this.setProperties({ readonly: true }, true);\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.setAttribute('style', this.htmlAttributes[\"\" + htmlAttr]);\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder',\n                        'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[\"\" + htmlAttr], this.inputEle);\n                        }\n                        else {\n                            this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                    }\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDataAttribute = function () {\n        var value = this.htmlAttributes;\n        var invalidAttr = ['class', 'style', 'id', 'type'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownTree.prototype.showOverAllClear = function () {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.overAllClear) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (isValue && this.showClearButton) {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n            else {\n                addClass([this.overAllClear], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeValue = function () {\n        if (this.value !== null && this.value.length !== 0) {\n            var data = void 0;\n            if (this.showCheckBox || this.allowMultiSelection) {\n                for (var i = 0; i < this.value.length; i++) {\n                    data = this.treeObj.getTreeData(this.value[i])[0];\n                    if (isNOU(data)) {\n                        this.value.splice(this.value.indexOf(this.value[i]), 1);\n                    }\n                }\n                if (this.value.length !== 0) {\n                    this.setValidValue();\n                }\n            }\n            else {\n                data = this.treeObj.getTreeData(this.value[0])[0];\n                if (!isNOU(data)) {\n                    this.setProperties({ text: data[this.fields.text] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ value: this.currentValue }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeText = function () {\n        if (this.value !== null && !this.isInitialized) {\n            return;\n        }\n        if (this.text !== null) {\n            var data = void 0;\n            var valArr = [];\n            if (this.showCheckBox || this.allowMultiSelection) {\n                var textArr = this.text.split(this.delimiterChar);\n                for (var i = 0; i < textArr.length; i++) {\n                    data = this.getItems(textArr[i]);\n                    if (!isNOU(data)) {\n                        valArr.push(data[this.fields.value].toString());\n                    }\n                }\n                if (valArr.length !== 0) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: valArr }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n            else {\n                data = this.getItems(this.text);\n                if (!isNOU(data)) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: [data[this.fields.value].toString()] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setSelectedValue = function () {\n        if (this.value != null) {\n            return;\n        }\n        if (!this.isInitialized) {\n            this.oldValue = this.value;\n            if (this.treeObj.selectedNodes.length > 0 && !this.showCheckBox) {\n                this.setProperties({ value: this.treeObj.selectedNodes }, true);\n                if (this.allowMultiSelection) {\n                    this.updateMode();\n                }\n            }\n            else if (this.showCheckBox && this.treeObj.checkedNodes) {\n                if (this.treeObj.checkedNodes.length > 0) {\n                    this.setProperties({ value: this.treeObj.checkedNodes }, true);\n                    setValue('selectedNodes', [], this.treeObj);\n                    this.treeObj.dataBind();\n                    this.updateMode();\n                }\n            }\n            this.updateSelectedValues();\n            this.currentText = this.text;\n            this.currentValue = this.value;\n        }\n    };\n    DropDownTree.prototype.setValidValue = function () {\n        var _this = this;\n        if (!this.showCheckBox && !this.allowMultiSelection) {\n            Input.setValue(this.text, this.inputEle, this.floatLabelType);\n            var id = this.value[0].toString();\n            if (this.treeObj.selectedNodes[0] !== id) {\n                setValue('selectedNodes', [id], this.treeObj);\n            }\n        }\n        else {\n            if (this.showCheckBox) {\n                var difference = this.value.filter(function (e) {\n                    return _this.treeObj.checkedNodes.indexOf(e) === -1;\n                });\n                if (difference.length > 0 || this.treeSettings.autoCheck) {\n                    this.treeObj.checkedNodes = this.value.slice();\n                    this.treeObj.dataBind();\n                    this.setMultiSelect();\n                }\n            }\n            else {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.selectedText = [];\n                this.updateSelectedValues();\n            }\n            this.treeObj.dataBind();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        if (this.isInitialized) {\n            this.triggerChangeEvent();\n        }\n    };\n    DropDownTree.prototype.getItems = function (givenText) {\n        var data;\n        if (this.treeDataType === 1) {\n            for (var i = 0; i < this.treeItems.length; i++) {\n                // eslint-disable-next-line\n                var text = getValue(this.fields.text, this.treeItems[i]);\n                if (!isNOU(this.treeItems[i]) && !isNOU(text) && text === givenText) {\n                    data = this.treeItems[i];\n                    break;\n                }\n            }\n        }\n        else {\n            data = this.getNestedItems(this.treeItems, this.fields, givenText);\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNestedItems = function (data, field, givenText) {\n        var newData;\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            // eslint-disable-next-line\n            var dataId = getValue(this.fields.text, data[i]);\n            if (data[i] && dataId && dataId.toString() === givenText) {\n                return data[i];\n            }\n            else if (typeof field.child === 'string' && !isNOU(getValue(field.child, data[i]))) {\n                // eslint-disable-next-line\n                var childData = getValue(field.child, data[i]);\n                newData = this.getNestedItems(childData, this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', data[i]))) {\n                var child = 'child';\n                // eslint-disable-next-line\n                newData = this.getNestedItems(getValue(child, data[i]), this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newData;\n    };\n    DropDownTree.prototype.getChildType = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    /* To render the treeview */\n    DropDownTree.prototype.renderTree = function () {\n        this.treeObj = new TreeView({\n            fields: this.getTreeFields(this.fields),\n            enableRtl: this.enableRtl,\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeChecked: this.onNodeChecked.bind(this),\n            nodeChecking: this.beforeCheck.bind(this),\n            nodeExpanded: this.onNodeExpanded.bind(this),\n            actionFailure: this.onActionFailure.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            dataBound: this.OnDataBound.bind(this),\n            allowMultiSelection: this.allowMultiSelection,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            showCheckBox: this.showCheckBox,\n            autoCheck: this.treeSettings.autoCheck,\n            sortOrder: this.sortOrder,\n            expandOn: this.treeSettings.expandOn,\n            loadOnDemand: this.treeSettings.loadOnDemand,\n            nodeSelecting: this.onBeforeSelect.bind(this),\n            nodeTemplate: this.itemTemplate\n        });\n        this.treeObj.root = this.root ? this.root : this;\n        this.treeObj.appendTo(this.tree);\n    };\n    /* To render the popup element */\n    DropDownTree.prototype.renderPopup = function () {\n        var _this = this;\n        if (this.isFilteredData) {\n            this.filterObj.value = '';\n            this.treeObj.fields = this.getTreeFields(this.fields);\n            this.isFilterRestore = true;\n            this.isFilteredData = false;\n            this.hideCheckAll(false);\n        }\n        var isCancelled = false;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                addClass([_this.inputWrapper], [ICONANIMATION]);\n                if (_this.isFirstRender) {\n                    _this.popupEle = _this.createElement('div', {\n                        id: _this.element.id + '_options', className: POPUP_CLASS + ' ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                    _this.popupEle.setAttribute('role', 'region');\n                    _this.popupEle.setAttribute('aria-label', _this.element.id);\n                    document.body.appendChild(_this.popupEle);\n                    _this.createPopup(_this.popupEle);\n                }\n                else {\n                    _this.popupEle = _this.popupObj.element;\n                    if (_this.isReact && _this.isFilterRestore) {\n                        _this.treeObj.refresh();\n                        _this.isFilteredData = true;\n                        _this.popupEle.removeChild(_this.filterContainer);\n                    }\n                }\n            }\n            else {\n                isCancelled = true;\n            }\n            if (_this.isFirstRender && !isCancelled || _this.isFilteredData) {\n                _this.isFilteredData = false;\n                prepend([_this.popupDiv], _this.popupEle);\n                removeClass([_this.popupDiv], DDTHIDEICON);\n                if (_this.allowFiltering) {\n                    _this.renderFilter();\n                }\n                if (_this.showCheckBox && _this.showSelectAll && (!_this.popupDiv.classList.contains(NODATA))) {\n                    _this.createSelectAllWrapper();\n                    _this.popupEle.insertBefore(_this.checkAllParent, _this.popupDiv);\n                }\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate();\n                }\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate();\n                }\n                _this.isFirstRender = false;\n                /* eslint-disable */\n                if (_this.hasTemplate && _this.portals) {\n                    if (_this.treeObj.portals) {\n                        _this.portals = _this.portals.concat(_this.treeObj.portals.filter(function (item) { return !_this.portals.includes(item); }));\n                    }\n                    /* eslint-enable */\n                    if (_this.isReact) {\n                        _this.renderReactTemplates(_this.reactCallBack);\n                    }\n                }\n            }\n            if (!isCancelled) {\n                attributes(_this.inputEle, { 'aria-expanded': 'true' });\n                _this.popupObj.show(null, (_this.zIndex === 1000) ? _this.inputEle : null);\n                removeClass([_this.popupEle], DDTHIDEICON);\n                _this.updatePopupHeight();\n                _this.popupObj.refreshPosition();\n                if (!(_this.showCheckBox && _this.showSelectAll) && (!_this.popupDiv.classList.contains(NODATA)\n                    && _this.treeItems.length > 0)) {\n                    var focusedElement = void 0;\n                    if (_this.value != null && _this.text != null) {\n                        _this.treeObj.element.querySelector('li').setAttribute('tabindex', '-1');\n                        focusedElement = _this.treeObj.element.querySelector('[data-uid=\"' + _this.value[0] + '\"]');\n                        focusedElement.setAttribute('tabindex', '0');\n                    }\n                    else {\n                        focusedElement = _this.treeObj.element.querySelector('li');\n                    }\n                    focusedElement.focus();\n                    addClass([focusedElement], ['e-node-focus']);\n                }\n                if (_this.checkSelectAll && _this.checkBoxElement) {\n                    var wrap = closest(_this.checkBoxElement, '.' + CHECKBOXWRAP);\n                    _this.changeState(wrap, 'check');\n                    _this.checkSelectAll = false;\n                }\n                if (_this.allowFiltering) {\n                    removeClass([_this.inputWrapper], [INPUTFOCUS]);\n                    _this.filterObj.element.focus();\n                }\n                var eventArgs = { popup: _this.popupObj };\n                _this.trigger('open', eventArgs);\n            }\n        });\n    };\n    DropDownTree.prototype.reactCallBack = function () {\n        this.updatePopupHeight();\n        this.popupObj.refreshPosition();\n    };\n    DropDownTree.prototype.updatePopupHeight = function () {\n        if (this.isFirstRender) {\n            return;\n        }\n        var popupHeight = this.getHeight();\n        this.popupEle.style.maxHeight = popupHeight;\n        if (this.allowFiltering) {\n            var height = Math.round(this.filterContainer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.headerTemplate) {\n            var height = Math.round(this.header.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.showCheckBox && this.showSelectAll && (!this.popupDiv.classList.contains(NODATA))) {\n            var height = Math.round(this.checkAllParent.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.footerTemplate) {\n            var height = Math.round(this.footer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        var border = parseInt(window.getComputedStyle(this.popupEle).borderTopWidth, 10);\n        border = border + parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth, 10);\n        popupHeight = formatUnit(parseInt(popupHeight, 10) - border + 'px');\n        this.popupDiv.style.maxHeight = popupHeight;\n    };\n    DropDownTree.prototype.createPopup = function (element) {\n        var _this = this;\n        if (this.isFirstRender) {\n            this.popupObj = new Popup(element, {\n                width: this.setWidth(),\n                targetType: 'relative',\n                collision: { X: 'flip', Y: 'flip' },\n                relateTo: this.inputWrapper,\n                zIndex: this.zIndex,\n                enableRtl: this.enableRtl,\n                position: { X: 'left', Y: 'bottom' },\n                close: function () {\n                    _this.isPopupOpen = false;\n                },\n                open: function () {\n                    EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                    _this.isPopupOpen = true;\n                },\n                targetExitViewport: function () {\n                    if (!Browser.isDevice) {\n                        _this.hidePopup();\n                    }\n                }\n            });\n        }\n    };\n    /* To calculate the width when change via set model */\n    DropDownTree.prototype.setElementWidth = function (inputWidth) {\n        var ddElement = this.inputWrapper;\n        if (!isNOU(inputWidth)) {\n            if (typeof inputWidth === 'number') {\n                ddElement.style.width = formatUnit(inputWidth);\n            }\n            else if (typeof inputWidth === 'string') {\n                ddElement.style.width = (inputWidth.match(/px|%|em/)) ? (inputWidth) :\n                    (formatUnit(inputWidth));\n            }\n        }\n    };\n    /* To calculate the width of the popup */\n    DropDownTree.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            width = (this.inputWrapper.offsetWidth * parseFloat(width) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupWidth === 'string') {\n            width = (this.popupWidth.match(/px|em/)) ? (this.popupWidth) : width;\n        }\n        return width;\n    };\n    /* To calculate the height of the popup */\n    DropDownTree.prototype.getHeight = function () {\n        var height = formatUnit(this.popupHeight);\n        if (height.indexOf('%') > -1) {\n            // Will set the height of the popup according to the view port height\n            height = (document.documentElement.clientHeight * parseFloat(height) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupHeight === 'string') {\n            height = (this.popupHeight.match(/px|em/)) ? (this.popupHeight) : height;\n        }\n        return height;\n    };\n    DropDownTree.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        var isTree = closest(target, '.' + PARENTITEM);\n        var isFilter = closest(target, '.' + FILTERWRAP);\n        var isHeader = closest(target, '.' + HEADER);\n        var isFooter = closest(target, '.' + FOOTER);\n        var isScroller = target.classList.contains(DROPDOWN) ? true :\n            (matches(target, '.e-ddt .e-popup') || matches(target, '.e-ddt .e-treeview'));\n        if ((this.isPopupOpen && ((!isNOU(this.inputWrapper) && this.inputWrapper.contains(target)) || isTree || isScroller || isHeader || isFooter)) ||\n            ((this.allowMultiSelection || this.showCheckBox) && (this.isPopupOpen && target.classList.contains(CHIP_CLOSE) ||\n                (this.isPopupOpen && (target.classList.contains(CHECKALLPARENT) || target.classList.contains(ALLTEXT)\n                    || target.classList.contains(CHECKBOXFRAME)))))) {\n            this.isDocumentClick = false;\n            e.preventDefault();\n        }\n        else if (!isNOU(this.inputWrapper) && !this.inputWrapper.contains(target) && this.inputFocus && !isFilter) {\n            this.focusOut(e);\n        }\n    };\n    DropDownTree.prototype.onActionFailure = function (e) {\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.popupDiv], NODATA);\n    };\n    DropDownTree.prototype.OnDataBound = function (args) {\n        this.treeItems = args.data;\n        if (this.treeItems.length <= 0) {\n            this.l10nUpdate();\n            addClass([this.popupDiv], NODATA);\n            this.hideCheckAll(true);\n        }\n        else if (this.popupDiv.classList.contains(NODATA) && this.treeItems.length >= 1) {\n            removeClass([this.popupDiv], NODATA);\n            this.hideCheckAll(false);\n        }\n        this.treeDataType = this.getTreeDataType(this.treeItems, this.fields);\n        if (this.isFirstRender && this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n            this.treeObj.element.focus();\n        }\n        var eventArgs = { data: args.data };\n        this.trigger('dataBound', eventArgs);\n        if (this.filterObj === null) {\n            this.isFilteredData = false;\n        }\n        if (this.isFilteredData) {\n            this.treeObj.expandAll();\n        }\n        if (this.isFilterRestore) {\n            this.restoreFilterSelection();\n            this.isFilterRestore = false;\n        }\n    };\n    DropDownTree.prototype.restoreFilterSelection = function () {\n        if (this.showCheckBox) {\n            this.treeObj.checkedNodes = this.value ? this.value : [];\n        }\n        else {\n            this.treeObj.selectedNodes = this.value ? this.value : [];\n        }\n    };\n    /* To set cssclass for the dropdowntree */\n    DropDownTree.prototype.setCssClass = function (newClass, oldClass) {\n        var elements = this.popupObj ? [this.inputWrapper, this.popupObj.element] : [this.inputWrapper];\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass(elements, newClass.split(' '));\n        }\n    };\n    DropDownTree.prototype.setEnableRTL = function (state) {\n        if (state) {\n            this.inputWrapper.classList.add(RTL);\n        }\n        else {\n            this.inputWrapper.classList.remove(RTL);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n        if (this.treeObj) {\n            this.treeObj.enableRtl = state;\n            this.treeObj.dataBind();\n        }\n    };\n    /* To set enable property */\n    DropDownTree.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputEle);\n        if (this.enabled) {\n            removeClass([this.inputWrapper], DISABLED);\n            this.inputEle.setAttribute('aria-disabled', 'false');\n            this.inputWrapper.setAttribute('aria-disabled', 'false');\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            addClass([this.inputWrapper], DISABLED);\n            if (this.inputWrapper && this.inputWrapper.classList.contains(INPUTFOCUS)) {\n                removeClass([this.inputWrapper], [INPUTFOCUS]);\n            }\n            this.inputEle.setAttribute('aria-disabled', 'true');\n            this.inputWrapper.setAttribute('aria-disabled', 'true');\n        }\n    };\n    DropDownTree.prototype.cloneFields = function (fields) {\n        var clonedField = {\n            dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n            child: this.cloneChildField(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes, query: fields.query,\n            selected: fields.selected, selectable: fields.selectable, tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return clonedField;\n    };\n    DropDownTree.prototype.cloneChildField = function (fields) {\n        if (typeof fields === 'string') {\n            return fields;\n        }\n        else {\n            var clonedField = {\n                dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n                child: (fields.child ? this.cloneChildField(fields.child) : null), hasChildren: fields.hasChildren,\n                expanded: fields.expanded, iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes,\n                query: fields.query, selected: fields.selected, selectable: fields.selectable, tableName: fields.tableName, tooltip: fields.tooltip\n            };\n            return clonedField;\n        }\n    };\n    DropDownTree.prototype.getTreeFields = function (fields) {\n        var treeFields = {\n            dataSource: fields.dataSource, id: fields.value, text: fields.text, parentID: fields.parentValue,\n            child: this.getTreeChildren(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, isChecked: fields.selected,\n            htmlAttributes: fields.htmlAttributes, query: fields.query, selectable: fields.selectable, selected: fields.selected,\n            tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return treeFields;\n    };\n    DropDownTree.prototype.getTreeChildren = function (mapper) {\n        if (typeof mapper === 'string') {\n            return mapper;\n        }\n        else if (!isNOU(mapper)) {\n            mapper = this.getActualProperties(mapper);\n            var childFields = mapper;\n            if (mapper.value) {\n                childFields.id = mapper.value;\n            }\n            if (mapper.parentValue) {\n                childFields.parentID = mapper.parentValue;\n            }\n            if (mapper.child) {\n                childFields.child = this.getTreeChildren(mapper.child);\n            }\n            if (mapper.selected && this.showCheckBox) {\n                childFields.isChecked = mapper.selected;\n            }\n            return childFields;\n        }\n        return null;\n    };\n    DropDownTree.prototype.getTreeDataType = function (ds, field) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof field.child === 'string') && isNOU(getValue(field.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        if (isNOU(this.fields.dataSource)) {\n            this.fields.dataSource = [];\n        }\n        for (var i = 0, len = this.fields.dataSource.length; i < len; i++) {\n            if ((typeof field.child === 'string') && !isNOU(getValue(field.child, this.fields.dataSource[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(field.parentValue, this.fields.dataSource[i])) || !isNOU(getValue(field.hasChildren, this.fields.dataSource[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    /* Triggers when the tree fields is changed dynamically */\n    DropDownTree.prototype.setFields = function () {\n        this.resetValue();\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        this.treeObj.fields = this.getTreeFields(this.fields);\n        this.treeObj.dataBind();\n    };\n    DropDownTree.prototype.getEventArgs = function (args) {\n        var checkData = args.data;\n        var selectData = args.nodeData;\n        var state;\n        if (this.showCheckBox) {\n            if (args.action === 'check') {\n                state = 'select';\n            }\n            else if (args.action === 'uncheck') {\n                state = 'un-select';\n            }\n        }\n        var eventArgs = {\n            action: this.showCheckBox ? state : args.action,\n            isInteracted: this.isClicked ? true : args.isInteracted,\n            item: args.node,\n            itemData: this.showCheckBox ? checkData[0] : selectData\n        };\n        return eventArgs;\n    };\n    DropDownTree.prototype.onBeforeSelect = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n            if (this.value === null) {\n                this.setProperties({ value: [] }, true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateHiddenValue = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return;\n        }\n        if (this.value && this.value.length) {\n            this.hiddenElement.innerHTML = '<option selected value =\"' + this.value[0] + '\">' + this.text + '</option>';\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /* Triggers when the tree node is selected */\n    DropDownTree.prototype.onNodeSelected = function (args) {\n        if (this.showCheckBox) {\n            return;\n        }\n        var selectedText;\n        if (args.isInteracted) {\n            var id = getValue('id', args.nodeData).toString();\n            if (!this.allowMultiSelection) {\n                this.hiddenElement.innerHTML = '';\n                this.setProperties({ value: [id] }, true);\n                if (this.itemTemplate) {\n                    selectedText = getValue('text', this.treeObj.getNode(id));\n                }\n                else {\n                    selectedText = getValue('text', args.nodeData).toString();\n                }\n                Input.setValue(selectedText, this.inputEle, this.floatLabelType);\n                this.setProperties({ text: selectedText }, true);\n                this.currentText = this.text;\n                this.currentValue = this.value;\n                attributes(this.inputWrapper, { 'aria-describedby': this.element.id });\n                attributes(this.inputWrapper, { 'aria-activedescendant': id.toString() });\n                this.updateHiddenValue();\n                this.showOverAllClear();\n                this.hidePopup();\n                this.isNodeSelected = true;\n            }\n            else if (this.allowMultiSelection) {\n                this.setMultiSelect();\n            }\n        }\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isValueChange && !this.changeOnBlur) {\n            this.triggerChangeEvent(this.keyEventArgs);\n            this.isValueChange = false;\n        }\n    };\n    DropDownTree.prototype.onNodeClicked = function (args) {\n        if (!this.changeOnBlur && this.isNodeSelected) {\n            this.triggerChangeEvent(args.event);\n            this.isNodeSelected = false;\n        }\n        var target = args.event.target;\n        if ((target.classList.contains('e-fullrow') || target.classList.contains('e-list-text')) && this.showCheckBox) {\n            this.isClicked = true;\n            var getNodeDetails = this.treeObj.getNode(args.node);\n            if (getNodeDetails.isChecked === 'true') {\n                this.treeObj.uncheckAll([args.node]);\n            }\n            else {\n                this.treeObj.checkAll([args.node]);\n            }\n            this.isClicked = false;\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (!this.changeOnBlur && (this.allowMultiSelection || this.showCheckBox)) {\n            this.triggerChangeEvent(args.event);\n        }\n    };\n    DropDownTree.prototype.onNodeChecked = function (args) {\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isFilteredData && args.action === 'uncheck') {\n            var id = getValue('id', args.data[0]).toString();\n            this.removeSelectedData(id, true);\n        }\n        if (!this.isChipDelete && args.isInteracted) {\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (this.showSelectAll && this.checkBoxElement) {\n            var nodes = this.treeObj.element.querySelectorAll('li');\n            var checkedNodes = this.treeObj.element.querySelectorAll('li[aria-checked=true]');\n            var wrap = closest(this.checkBoxElement, '.' + CHECKBOXWRAP);\n            if (wrap && args.action === 'uncheck' && (args.isInteracted || checkedNodes.length === 0 || (!isNOU(args.data[0]) && args.data[0].isChecked === 'false'))) {\n                this.isReverseUpdate = true;\n                this.changeState(wrap, 'uncheck');\n                this.isReverseUpdate = false;\n            }\n            else if (wrap && args.action === 'check' && checkedNodes.length === nodes.length && (args.isInteracted || this.isCheckAllCalled || (!isNOU(args.data[0]) && args.data[0].isChecked === 'true'))) {\n                this.isReverseUpdate = true;\n                this.isCheckAllCalled = false;\n                this.changeState(wrap, 'check');\n                this.isReverseUpdate = false;\n            }\n        }\n    };\n    DropDownTree.prototype.beforeCheck = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n        }\n    };\n    DropDownTree.prototype.onNodeExpanded = function (args) {\n        if (this.hasTemplate && this.portals && this.treeObj.portals) {\n            for (var i = 0; i < this.treeObj.portals.length; i++) {\n                if (this.portals.indexOf(this.treeObj.portals[i]) === -1) {\n                    this.portals.push(this.treeObj.portals[i]);\n                }\n            }\n            /* eslint-enable */\n            this.renderReactTemplates();\n        }\n    };\n    DropDownTree.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (!this.inputWrapper.contains(this.overAllClear)) {\n                this.inputEle.parentElement.insertBefore(this.overAllClear, this.inputEle.nextSibling);\n            }\n            else {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n        else {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            var chipClose = selectAll('.' + CHIP_CLOSE, this.chipWrapper);\n            for (var i = 0; i < chipClose.length; i++) {\n                if (!state) {\n                    addClass([chipClose[i]], HIDEICON);\n                }\n                else {\n                    removeClass([chipClose[i]], HIDEICON);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDropDownIconState = function (state) {\n        var spinIcon = select('.' + DDTICON, this.inputWrapper);\n        if (state) {\n            if (!spinIcon) {\n                Input.appendSpan(DROPDOWNICON, this.inputWrapper, this.createElement);\n            }\n            else {\n                removeClass([spinIcon], HIDEICON);\n            }\n            addClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n        else {\n            addClass([spinIcon], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n    };\n    DropDownTree.prototype.updateMode = function () {\n        if (this.mode === 'Custom') {\n            return;\n        }\n        if (this.mode !== 'Delimiter') {\n            if (!this.inputWrapper.contains(this.chipWrapper)) {\n                this.createChip();\n            }\n            var isValid = this.getValidMode();\n            if (this.chipWrapper.classList.contains(HIDEICON) && isValid) {\n                removeClass([this.chipWrapper], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CHIP);\n            }\n            else if (!isValid) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n            var isValue = this.value !== null ? (this.value.length !== 0 ? true : false) : false;\n            if (isValid && isValue) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else {\n                removeClass([this.inputEle], CHIP_INPUT);\n            }\n        }\n        else if (this.inputEle.classList.contains(CHIP_INPUT)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n        }\n    };\n    DropDownTree.prototype.ensurePlaceHolder = function () {\n        if (isNOU(this.value) || (this.value && this.value.length === 0)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.ensureClearIconPosition = function (floatLabelType) {\n        if (floatLabelType !== 'Never') {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.setMultiSelectValue = function (newValues) {\n        if (!this.isFilteredData) {\n            this.setProperties({ value: this.isFromFilterChange && newValues && newValues.length === 0 ? this.value : newValues }, true);\n            this.isFromFilterChange = false;\n            if (newValues && newValues.length !== 0 && !this.showCheckBox) {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.treeObj.dataBind();\n            }\n        }\n        else {\n            var selectedValues = isNOU(this.value) ? [] : this.value;\n            for (var i = 0; i < newValues.length; i++) {\n                if (isNOU(this.value) || this.value.indexOf(newValues[i]) === -1) {\n                    selectedValues.push(newValues[i]);\n                }\n            }\n            this.setProperties({ value: selectedValues }, true);\n        }\n    };\n    DropDownTree.prototype.setMultiSelect = function () {\n        if (this.showCheckBox && !this.isDynamicChange) {\n            this.setMultiSelectValue(this.treeObj.checkedNodes.slice());\n        }\n        else {\n            var ddtValue = this.allowMultiSelection ? (this.showCheckBox ? this.treeObj.checkedNodes\n                : this.treeObj.selectedNodes) : (this.value ? (this.showCheckBox ? this.value : [this.value[0]]) : null);\n            this.setMultiSelectValue(ddtValue);\n            if (this.showCheckBox && this.value !== null) {\n                this.treeObj.checkedNodes = this.value;\n                this.treeObj.dataBind();\n            }\n        }\n        this.selectedText = [];\n        var checkSelection = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (this.inputWrapper.contains(this.chipWrapper) && !checkSelection) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            detach(this.chipWrapper);\n        }\n        var isValid = this.getValidMode();\n        if (isValid && this.value !== null) {\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                removeClass([this.chipWrapper], HIDEICON);\n            }\n        }\n        var isValue = this.value ? (this.value.length ? true : false) : false;\n        if (this.chipWrapper && (this.mode === 'Box' && !isValue)) {\n            addClass([this.chipWrapper], HIDEICON);\n            removeClass([this.inputEle], CHIP_INPUT);\n        }\n        this.updateSelectedValues();\n    };\n    DropDownTree.prototype.getSelectedData = function (value) {\n        var data = null;\n        if (this.isFilteredData) {\n            for (var i = 0; i < this.selectedData.length; i++) {\n                if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                    data = this.selectedData[i];\n                    break;\n                }\n            }\n        }\n        if (isNOU(data)) {\n            if (this.treeSettings.loadOnDemand) {\n                data = this.getNodeData(value);\n            }\n            else {\n                data = this.treeObj.getNode(value);\n            }\n            if (!isNOU(data)) {\n                this.selectedData.push(data);\n            }\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNodeData = function (id) {\n        var childItems;\n        if (isNOU(id)) {\n            return childItems;\n        }\n        else if (this.treeDataType === 1) {\n            for (var i = 0, objlen = this.treeItems.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.value, this.treeItems[i]);\n                if (!isNOU(this.treeItems[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeItems[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeData(this.treeItems, this.fields, id);\n        }\n        return childItems;\n    };\n    DropDownTree.prototype.getChildNodeData = function (obj, mapper, id) {\n        var newChildItems;\n        if (isNOU(obj)) {\n            return newChildItems;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataValue = getValue(mapper.value, obj[i]);\n            if (obj[i] && dataValue && dataValue.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childNodeData = getValue(mapper.child, obj[i]);\n                newChildItems = this.getChildNodeData(childNodeData, this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newChildItems = this.getChildNodeData(getValue(child, obj[i]), this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newChildItems;\n    };\n    DropDownTree.prototype.getChildMapperFields = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    DropDownTree.prototype.removeSelectedData = function (value, muteOnChange) {\n        var selectedValues = isNOU(this.value) ? [] : this.value.slice();\n        selectedValues.splice(selectedValues.indexOf(value), 1);\n        this.setProperties({ value: selectedValues }, muteOnChange);\n        for (var i = 0; i < this.selectedData.length; i++) {\n            if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                this.selectedData.splice(i, 1);\n                break;\n            }\n        }\n    };\n    DropDownTree.prototype.updateSelectedValues = function () {\n        this.dataValue = '';\n        var temp;\n        var text;\n        var textValue = '';\n        var selectedData;\n        this.hiddenElement.innerHTML = '';\n        var hiddenInputValue = '';\n        if ((!this.isChipDelete || this.treeSettings.autoCheck) && (this.inputWrapper.contains(this.chipWrapper))) {\n            this.chipCollection.innerHTML = '';\n        }\n        if (!this.isFilteredData) {\n            this.selectedData = [];\n        }\n        if (!isNOU(this.value)) {\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                selectedData = this.getSelectedData(this.value[i]);\n                text = getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n                this.selectedText.push(text);\n                temp = this.selectedText[this.selectedText.length - 1];\n                if (this.selectedText.length > 1) {\n                    this.dataValue += (this.delimiterChar + ' ' + temp);\n                    textValue += (',' + temp);\n                }\n                else {\n                    this.dataValue += temp;\n                    textValue += temp;\n                }\n                if (this.mode !== 'Custom' && this.mode !== 'Delimiter' && (!this.isChipDelete || this.treeSettings.autoCheck) &&\n                    (this.allowMultiSelection || this.showCheckBox)) {\n                    this.setChipValues(temp, this.value[i]);\n                }\n                hiddenInputValue += '<option selected value =\"' + this.value[i] + '\">' +\n                    this.selectedText[this.selectedText.length - 1] + '</option>';\n            }\n            if (this.selectedText.length >= 1) {\n                this.setProperties({ text: textValue }, true);\n            }\n            this.hiddenElement.innerHTML = hiddenInputValue;\n            if (this.mode === 'Custom' && (this.allowMultiSelection || this.showCheckBox)) {\n                this.setTagValues();\n            }\n        }\n        var isValid = this.getValidMode();\n        if (this.mode !== 'Custom' && this.mode !== 'Box' && (this.allowMultiSelection || this.showCheckBox) && !isValid) {\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n        }\n        Input.setValue(this.dataValue, this.inputEle, this.floatLabelType);\n        if (textValue === '') {\n            this.setProperties({ text: null }, true);\n        }\n        else {\n            this.setProperties({ text: textValue }, true);\n        }\n        if (this.showClearButton && this.inputFocus) {\n            this.showOverAllClear();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n    };\n    DropDownTree.prototype.setChipValues = function (text, value) {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value }\n        });\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE + ' ' + ICONS });\n        if (this.enableHtmlSanitizer) {\n            chipContent.innerText = SanitizeHtmlHelper.sanitize(text);\n        }\n        else {\n            chipContent.innerHTML = text;\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n        if (this.showClearButton) {\n            chip.appendChild(chipClose);\n            EventHandler.add(chipClose, 'mousedown', this.removeChip, this);\n        }\n    };\n    DropDownTree.prototype.setTagValues = function () {\n        if (this.value === null || this.text == null) {\n            return;\n        }\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        if (!this.inputWrapper.classList.contains(SHOW_CHIP)) {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        var chip = this.createElement('span', {\n            className: CHIP\n        });\n        if (!this.inputEle.classList.contains(CHIP_INPUT)) {\n            addClass([this.inputEle], CHIP_INPUT);\n        }\n        if (this.chipWrapper.classList.contains(HIDEICON)) {\n            removeClass([this.chipWrapper], HIDEICON);\n        }\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var template = this.customTemplate;\n        var templateId = this.customTemplateId;\n        var templatestring = 'customTemplate';\n        var compiledString = this.templateComplier(template);\n        var tempArr = compiledString({ 'value': this.value, 'text': this.text }, this, templatestring, templateId, this.isStringTemplate, undefined, chipContent);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, chipContent);\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n    };\n    DropDownTree.prototype.setSelectAllWrapper = function (state) {\n        if (this.isFirstRender) {\n            return;\n        }\n        if (state && !this.popupEle.contains(this.checkAllParent) && this.showCheckBox) {\n            this.createSelectAllWrapper();\n            this.popupEle.insertBefore(this.checkAllParent, this.popupDiv);\n        }\n        else if (this.popupEle.contains(this.checkAllParent)) {\n            detach(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    DropDownTree.prototype.setHeaderTemplate = function () {\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], HEADER);\n        }\n        var compiledString = this.templateComplier(this.headerTemplate);\n        var tempArr = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, undefined, this.header);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.header);\n        }\n        this.popupEle.insertBefore(this.header, this.checkAllParent ? this.checkAllParent : this.popupDiv);\n    };\n    DropDownTree.prototype.templateComplier = function (template) {\n        if (template) {\n            // eslint-disable-next-line\n            var e = void 0;\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return compile(template);\n    };\n    DropDownTree.prototype.setFooterTemplate = function () {\n        if (this.footer) {\n            this.footer.innerHTML = '';\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], FOOTER);\n        }\n        var compiledString = this.templateComplier(this.footerTemplate);\n        var tempArr = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, undefined, this.footer);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.footer);\n        }\n        append([this.footer], this.popupEle);\n    };\n    DropDownTree.prototype.clearAll = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.resetValue();\n        this.showOverAllClear();\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            if (this.popupObj) {\n                this.popupObj.refreshPosition();\n            }\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n        }\n        if (e) {\n            this.isClearButtonClick = true;\n        }\n        if (!this.changeOnBlur) {\n            this.triggerChangeEvent(e);\n        }\n    };\n    DropDownTree.prototype.removeChip = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var element = e.target.parentElement;\n        var value = element.getAttribute('data-value');\n        if (this.chipCollection) {\n            if (element) {\n                remove(element);\n            }\n        }\n        this.isChipDelete = true;\n        this.isClearButtonClick = true;\n        this.removeSelectedData(value, true);\n        this.selectedText = [];\n        if (this.allowMultiSelection) {\n            this.treeObj.selectedNodes = this.value.slice();\n            this.updateSelectedValues();\n        }\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll([value]);\n            this.clearCheckAll();\n            this.setMultiSelect();\n        }\n        this.triggerChangeEvent(e);\n        this.isChipDelete = false;\n        this.ensurePlaceHolder();\n    };\n    DropDownTree.prototype.resetValue = function (isDynamicChange) {\n        if (this.value === [] && this.text == null) {\n            return;\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        if (!isDynamicChange) {\n            this.oldValue = this.value;\n            this.setProperties({ value: [] }, true);\n        }\n        this.dataValue = null;\n        this.setProperties({ text: null }, true);\n        this.selectedData = [];\n        setValue('selectedNodes', [], this.treeObj);\n        this.hiddenElement.innerHTML = '';\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll();\n            this.setMultiSelect();\n            this.clearCheckAll();\n        }\n        if (this.oldValue === null && !isDynamicChange) {\n            this.removeValue = true;\n        }\n        else if (isDynamicChange) {\n            this.triggerChangeEvent();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            this.chipCollection.innerHTML = '';\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.clearCheckAll = function () {\n        if (this.showSelectAll && this.value && this.value.length === 0) {\n            this.setLocale(false);\n        }\n    };\n    DropDownTree.prototype.selectAllItems = function (state) {\n        if (this.showCheckBox) {\n            if (state) {\n                this.isCheckAllCalled = true;\n                this.treeObj.checkAll();\n            }\n            else {\n                this.treeObj.uncheckAll();\n            }\n            this.checkSelectAll = state;\n        }\n        else if (this.allowMultiSelection) {\n            if (!state) {\n                this.treeObj.selectedNodes = [];\n            }\n            else {\n                var li = selectAll('li', this.treeObj.element);\n                var id = void 0;\n                var arr = [];\n                for (var i = 0; i < li.length; i++) {\n                    id = li[i].getAttribute('data-uid').toString();\n                    arr.push(id);\n                }\n                this.treeObj.selectedNodes = arr;\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText) {\n            if (state) {\n                this.updateView();\n            }\n            else {\n                this.updateOverflowWrapper(true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateTreeSettings = function (prop) {\n        var value = Object.keys(prop.treeSettings)[0];\n        if (value === 'autoCheck') {\n            this.treeObj.autoCheck = this.treeSettings.autoCheck;\n        }\n        else if (value === 'loadOnDemand') {\n            this.treeObj.loadOnDemand = this.treeSettings.loadOnDemand;\n        }\n        else if (value === 'expandOn') {\n            this.treeObj.expandOn = this.treeSettings.expandOn;\n            this.treeObj.dataBind();\n            return;\n        }\n        this.treeObj.dataBind();\n        this.setMultiSelect();\n        this.updateValue(this.value);\n    };\n    DropDownTree.prototype.updateCheckBoxState = function (checkBox) {\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.showCheckBox = checkBox;\n        this.treeObj.dataBind();\n        this.isDynamicChange = true;\n        this.setSelectAllWrapper(this.showSelectAll);\n        if (this.showSelectAll) {\n            this.setLocale();\n        }\n        if (this.showCheckBox) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateTemplate = function () {\n        if (this.popupObj) {\n            this.clearTemplate();\n            /* eslint-disable */\n            this.portals = [];\n            /* eslint-enable */\n            this.popupObj.destroy();\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                this.isFirstRender = true;\n                this.renderPopup();\n            }\n            else {\n                this.isFirstRender = true;\n            }\n        }\n    };\n    DropDownTree.prototype.l10nUpdate = function (actionFailure) {\n        if (this.noRecord) {\n            this.noRecord.innerHTML = '';\n        }\n        else {\n            this.noRecord = this.createElement('div');\n        }\n        if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            var templatestring = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            var compiledString = this.templateComplier(template);\n            var tempArr = compiledString({}, this, templatestring, templateId, this.isStringTemplate, undefined, this.noRecord);\n            if (tempArr) {\n                tempArr = Array.prototype.slice.call(tempArr);\n                append(tempArr, this.noRecord);\n            }\n        }\n        else {\n            var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            this.noRecord.innerHTML = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n        }\n        addClass([this.noRecord], NODATACONTAINER);\n        prepend([this.noRecord], this.popupDiv);\n    };\n    DropDownTree.prototype.updateRecordTemplate = function (action) {\n        if (this.treeItems && this.treeItems.length <= 0) {\n            this.l10nUpdate(action);\n            if (this.hasTemplate) {\n                this.updateTemplate();\n            }\n        }\n    };\n    DropDownTree.prototype.updateOverflowWrapper = function (state) {\n        if (!state) {\n            if (!this.inputWrapper.contains(this.overFlowWrapper)) {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n            }\n        }\n        else if (this.inputWrapper.contains(this.overFlowWrapper) && state) {\n            this.overFlowWrapper.innerHTML = '';\n        }\n    };\n    DropDownTree.prototype.updateMultiSelection = function (state) {\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.allowMultiSelection = state;\n        this.treeObj.dataBind();\n        this.updateOption();\n        if (this.allowMultiSelection) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n    };\n    DropDownTree.prototype.updateAllowFiltering = function (state) {\n        if (!this.isFirstRender) {\n            if (state) {\n                this.renderFilter();\n            }\n            else {\n                this.destroyFilter();\n            }\n        }\n    };\n    DropDownTree.prototype.updateFilterPlaceHolder = function () {\n        if (this.filterObj) {\n            this.filterObj.placeholder = this.filterBarPlaceholder;\n            this.filterObj.element.setAttribute('aria-label', this.filterBarPlaceholder);\n        }\n    };\n    DropDownTree.prototype.updateValue = function (value) {\n        this.isDynamicChange = true;\n        if (isNOU(value) || value.length === 0) {\n            this.resetValue(true);\n        }\n        else {\n            this.setTreeValue();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateText = function (text) {\n        if (isNOU(text)) {\n            this.resetValue();\n        }\n        else {\n            this.setTreeText();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n    };\n    DropDownTree.prototype.updateModelMode = function () {\n        var validMode = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (!validMode) {\n            return;\n        }\n        if (!this.wrapText) {\n            var overFlow = select('.' + OVERFLOW_VIEW, this.inputWrapper);\n            if (overFlow) {\n                overFlow.innerHTML = '';\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText && (this.value && this.value.length !== 0)) {\n            this.updateOverFlowView();\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.mode === 'Box') {\n                removeClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n            else {\n                addClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n        }\n    };\n    DropDownTree.prototype.updateOption = function () {\n        if (!this.hiddenElement.hasAttribute('multiple') && (this.allowMultiSelection || this.showCheckBox)) {\n            this.hiddenElement.setAttribute('multiple', '');\n        }\n        else if (this.hiddenElement.hasAttribute('multiple') && (!this.allowMultiSelection && !this.showCheckBox)) {\n            this.hiddenElement.removeAttribute('multiple');\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {DropDownTreeModel} newProp - specifies the newProp value.\n     * @param {DropDownTreeModel} oldProp - specifies the newProp value.\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputEle);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL(this.enableRtl);\n                    break;\n                case 'fields':\n                    this.setFields();\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.inputEle);\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.inputEle, newProp.floatLabelType, this.placeholder, this.createElement);\n                    this.ensureClearIconPosition(newProp.floatLabelType);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'allowFiltering':\n                    this.updateAllowFiltering(newProp.allowFiltering);\n                    break;\n                case 'filterBarPlaceholder':\n                    this.updateFilterPlaceHolder();\n                    break;\n                case 'value':\n                    this.oldValue = oldProp.value;\n                    this.updateValue(newProp.value);\n                    break;\n                case 'text':\n                    this.updateText(newProp.text);\n                    break;\n                case 'allowMultiSelection':\n                    this.updateMultiSelection(newProp.allowMultiSelection);\n                    break;\n                case 'mode':\n                    if (!this.showCheckBox && !this.allowMultiSelection) {\n                        return;\n                    }\n                    if (this.mode === 'Custom') {\n                        if (this.overFlowWrapper) {\n                            detach(this.overFlowWrapper);\n                        }\n                        if (this.chipWrapper) {\n                            detach(this.chipWrapper);\n                        }\n                        this.setTagValues();\n                    }\n                    else {\n                        if (oldProp.mode === 'Custom') {\n                            this.updateOverflowWrapper(this.wrapText);\n                        }\n                        this.updateModelMode();\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode === 'Box') {\n                        return;\n                    }\n                    if (this.showCheckBox || this.allowMultiSelection) {\n                        this.setMultiSelect();\n                    }\n                    break;\n                case 'selectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale();\n                    }\n                    break;\n                case 'unSelectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale(false);\n                    }\n                    break;\n                case 'showSelectAll':\n                    if (this.showCheckBox) {\n                        this.setSelectAllWrapper(newProp.showSelectAll);\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'showCheckBox':\n                    this.updateCheckBoxState(newProp.showCheckBox);\n                    if (!this.wrapText) {\n                        this.updateOverflowWrapper(true);\n                    }\n                    this.updatePopupHeight();\n                    this.updateOption();\n                    break;\n                case 'treeSettings':\n                    this.updateTreeSettings(newProp);\n                    break;\n                case 'customTemplate':\n                    if (this.mode !== 'Custom') {\n                        return;\n                    }\n                    this.chipCollection.innerHTML = '';\n                    this.setTagValues();\n                    break;\n                case 'sortOrder':\n                    if (this.hasTemplate) {\n                        this.updateTemplate();\n                    }\n                    this.treeObj.sortOrder = newProp.sortOrder;\n                    this.treeObj.dataBind();\n                    this.updateValue(this.value);\n                    break;\n                case 'showDropDownIcon':\n                    this.updateDropDownIconState(newProp.showDropDownIcon);\n                    break;\n                case 'popupWidth':\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'zIndex':\n                    if (this.popupObj) {\n                        this.popupObj.zIndex = newProp.zIndex;\n                        this.popupObj.dataBind();\n                    }\n                    break;\n                case 'headerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'footerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'itemTemplate':\n                    this.updateTemplate();\n                    this.treeObj.nodeTemplate = newProp.itemTemplate;\n                    this.treeObj.dataBind();\n                    break;\n                case 'noRecordsTemplate':\n                    this.updateRecordTemplate();\n                    break;\n                case 'actionFailureTemplate':\n                    this.updateRecordTemplate(true);\n                    break;\n                case 'htmlAttributes':\n                    this.setHTMLAttributes();\n                    break;\n                case 'wrapText':\n                    this.updateOverflowWrapper(this.wrapText);\n                    if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                        this.updateView();\n                    }\n                    else {\n                        addClass([this.overFlowWrapper], HIDEICON);\n                        if (this.chipWrapper && this.mode === 'Box') {\n                            removeClass([this.chipWrapper], HIDEICON);\n                        }\n                        else {\n                            removeClass([this.inputWrapper], SHOW_CHIP);\n                            removeClass([this.inputEle], CHIP_INPUT);\n                        }\n                        this.ensurePlaceHolder();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Allows you to clear the selected values from the Dropdown Tree component.\n     *\n     * @method clear\n     * @returns {void}\n     */\n    DropDownTree.prototype.clear = function () {\n        this.clearAll();\n        if (this.inputFocus) {\n            this.onFocusOut();\n        }\n        else {\n            if (this.changeOnBlur) {\n                this.triggerChangeEvent();\n            }\n            this.removeValue = false;\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownTree.prototype.destroy = function () {\n        this.clearTemplate();\n        this.unWireEvents();\n        this.setCssClass(null, this.cssClass);\n        this.setProperties({ text: null }, true);\n        this.treeObj.destroy();\n        this.destroyFilter();\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n        if (this.element.tagName !== this.getDirective()) {\n            this.inputWrapper.parentElement.insertBefore(this.element, this.inputWrapper);\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        detach(this.inputWrapper);\n        detach(this.popupDiv);\n        detach(this.hiddenElement);\n        this.element.classList.remove('e-input');\n        if (this.showCheckBox || this.allowMultiSelection) {\n            this.element.classList.remove(CHIP_INPUT);\n        }\n        this.inputObj = null;\n        while (this.hiddenElement.options.length > 0) {\n            this.hiddenElement.remove(0);\n        }\n        this.hiddenElement.innerHTML = '';\n        this.hiddenElement = null;\n        this.inputWrapper = null;\n        this.popupDiv = null;\n        this.tree = null;\n        this.popupObj = null;\n        this.treeObj = null;\n        this.overAllClear = null;\n        this.chipWrapper = null;\n        this.chipCollection = null;\n        this.checkAllParent = null;\n        this.selectAllSpan = null;\n        this.checkBoxElement = null;\n        this.checkWrapper = null;\n        this.popupEle = null;\n        this.header = null;\n        this.footer = null;\n        this.overFlowWrapper = null;\n        this.keyboardModule = null;\n        _super.prototype.destroy.call(this);\n        this.setProperties({ value: [] }, true);\n    };\n    DropDownTree.prototype.destroyFilter = function () {\n        if (this.filterObj) {\n            this.filterObj.destroy();\n            detach(this.filterObj.element);\n            detach(this.filterContainer);\n            this.filterObj = null;\n        }\n    };\n    DropDownTree.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    /**\n     * Ensures visibility of the Dropdown Tree item by using item value or item element.\n     * If many Dropdown Tree items are present, and we are in need to find a particular item, then the `ensureVisible` property\n     * helps you to bring the item to visibility by expanding the Dropdown Tree and scrolling to the specific item.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element.\n     * @returns {void}\n     */\n    DropDownTree.prototype.ensureVisible = function (item) {\n        this.treeObj.ensureVisible(item);\n    };\n    /**\n     * To get the updated data source of the Dropdown Tree.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element\n     * @returns {'{[key: string]: Object }[]'} - returns the updated data source of the Dropdown Tree.\n     */\n    DropDownTree.prototype.getData = function (item) {\n        return this.treeObj.getTreeData(item);\n    };\n    /**\n     * Close the Dropdown tree pop-up.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.hidePopup = function () {\n        var eventArgs = { popup: this.popupObj };\n        this.inputWrapper.classList.remove(ICONANIMATION);\n        if (this.popupEle) {\n            addClass([this.popupEle], DDTHIDEICON);\n        }\n        attributes(this.inputEle, { 'aria-expanded': 'false' });\n        if (this.popupObj && this.isPopupOpen) {\n            this.popupObj.hide();\n            if (this.inputFocus) {\n                this.inputWrapper.focus();\n                if (this.allowFiltering) {\n                    addClass([this.inputWrapper], [INPUTFOCUS]);\n                }\n            }\n            this.trigger('close', eventArgs);\n            if (this.destroyPopupOnHide) {\n                this.isFirstRender = true;\n                this.destroyPopup();\n            }\n        }\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected or deselected.\n     *\n     * @param {boolean} state - Unselects/Selects entire Dropdown Tree items.\n     * @returns {void}\n     *\n     */\n    DropDownTree.prototype.selectAll = function (state) {\n        this.selectAllItems(state);\n    };\n    /**\n     * Opens the popup that displays the Dropdown Tree items.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.showPopup = function () {\n        if (!this.enabled || this.readonly || this.isPopupOpen) {\n            return;\n        }\n        this.renderPopup();\n        this.focusIn();\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - returns the module name.\n     */\n    DropDownTree.prototype.getModuleName = function () {\n        return 'dropdowntree';\n    };\n    __decorate([\n        Property('The Request Failed')\n    ], DropDownTree.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownTree.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('${value.length} item(s) selected')\n    ], DropDownTree.prototype, \"customTemplate\", void 0);\n    __decorate([\n        Property(',')\n    ], DropDownTree.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enabled\", void 0);\n    __decorate([\n        Complex({}, Fields)\n    ], DropDownTree.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownTree.prototype, \"filterType\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownTree.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownTree.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Default')\n    ], DropDownTree.prototype, \"mode\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], DropDownTree.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownTree.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], DropDownTree.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"destroyPopupOnHide\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownTree.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, TreeSettings)\n    ], DropDownTree.prototype, \"treeSettings\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], DropDownTree.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"value\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownTree.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"wrapText\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"select\", void 0);\n    DropDownTree = __decorate([\n        NotifyPropertyChanges\n    ], DropDownTree);\n    return DropDownTree;\n}(Component));\nexport { DropDownTree };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     *\n     * @param {ComboBoxModel} options - Specifies the ComboBox model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.getLocaleName = function () {\n        return 'combo-box';\n    };\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlurHandler, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n            EventHandler.add(window, 'resize', this.windowResize, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.onBlurHandler = function (e) {\n        var inputValue = this.inputElement && this.inputElement.value === '' ?\n            null : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== this.text) {\n            this.customValue(e);\n        }\n        _super.prototype.onBlurHandler.call(this, e);\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        value = this.allowObjectBinding && !isNullOrUndefined(value) ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        if (this.allowObjectBinding) {\n            value = this.getDataByValue(value);\n        }\n        this.setProperties({ value: value, text: value, index: null }, true);\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if ((!this.allowObjectBinding && (this.previousValue !== this.value)) || (this.allowObjectBinding && this.previousValue && this.value && !this.isObjectInArray(this.previousValue, [this.value]))) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var currentValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            var li = this.getElementByValue(currentValue);\n            var doesItemExist = !isNullOrUndefined(li) ? true : false;\n            if (this.enableVirtualization && this.value) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var currentValue_1 = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n                if (this.dataSource instanceof DataManager && this.virtualGroupDataSource) {\n                    var getItem = new DataManager(this.virtualGroupDataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue_1)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        doesItemExist = true;\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n                else {\n                    var getItem = new DataManager(this.dataSource).executeLocal(new Query().where(new Predicate(fields, 'equal', currentValue_1)));\n                    if (getItem && getItem.length > 0) {\n                        this.itemData = getItem[0];\n                        doesItemExist = true;\n                        var dataItem = this.getItemData();\n                        var value = this.allowObjectBinding ? this.getDataByValue(dataItem.value) : dataItem.value;\n                        if ((this.value === dataItem.value && this.text !== dataItem.text) || (this.value !== dataItem.value && this.text === dataItem.text)) {\n                            this.setProperties({ 'text': dataItem.text, 'value': value });\n                        }\n                    }\n                }\n            }\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if ((!this.enableVirtualization && this.allowCustom) || (this.allowCustom && this.enableVirtualization && !doesItemExist)) {\n                this.valueMuteChange(this.value);\n            }\n            else if (!this.enableVirtualization || (this.enableVirtualization && !doesItemExist)) {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement && this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly.toString(),\n            'autocomplete': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.ulElement && this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        var searchBoxContainer = (this.isFiltering() || (this.isReact && this.getModuleName() === 'combobox')) ? this.inputWrapper : inputObject;\n        return searchBoxContainer;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped && !this.enableVirtualization) {\n            setTimeout(function () {\n                _this.inlineSearch();\n            });\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : this.list;\n        var isSelected = dataItem.text && dataItem.text.toString() === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var dataSource = this.sortedData;\n            var type = this.typeOfData(dataSource).typeof;\n            var activeItem = Search(inputValue, this.liCollections, this.filterType, true, dataSource, this.fields, type);\n            if (this.enableVirtualization && inputValue !== '' && this.getModuleName() !== 'autocomplete' && this.isTyped && !this.allowFiltering) {\n                var updatingincrementalindex = false;\n                if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) || this.incrementalEndIndex == 0) {\n                    updatingincrementalindex = true;\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    if (this.incrementalEndIndex == 0) {\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                    }\n                    else {\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                    }\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                }\n                if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                    this.updateIncrementalView(0, this.itemCount);\n                }\n                activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n                while (isNullOrUndefined(activeItem.item) && this.incrementalEndIndex < this.totalItemCount) {\n                    this.incrementalStartIndex = this.incrementalEndIndex;\n                    this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                    this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                    updatingincrementalindex = true;\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    activeItem = Search(inputValue, this.incrementalLiCollections, this.filterType, true, dataSource, this.fields, type);\n                    if (!isNullOrUndefined(activeItem)) {\n                        activeItem.index = activeItem.index + this.incrementalStartIndex;\n                        break;\n                    }\n                    if (isNullOrUndefined(activeItem) && this.incrementalEndIndex >= this.totalItemCount) {\n                        this.incrementalStartIndex = 0;\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                        break;\n                    }\n                }\n                if (activeItem.index) {\n                    if ((!(this.viewPortInfo.startIndex >= activeItem.index)) || (!(activeItem.index >= this.viewPortInfo.endIndex))) {\n                        var startIndex = activeItem.index - ((this.itemCount / 2) - 2) > 0 ? activeItem.index - ((this.itemCount / 2) - 2) : 0;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        if (startIndex != this.viewPortInfo.startIndex) {\n                            this.updateIncrementalView(startIndex, endIndex);\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(activeItem.item)) {\n                    var index_1 = this.getIndexByValue(activeItem.item.getAttribute('data-value')) - this.skeletonCount;\n                    if (index_1 > this.itemCount / 2) {\n                        var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                        var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                        this.updateIncrementalView(startIndex, endIndex);\n                    }\n                    activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n                }\n                else {\n                    this.updateIncrementalView(0, this.itemCount);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    this.list.scrollTop = 0;\n                }\n                if (activeItem && activeItem.item) {\n                    activeItem.item = this.getElementByValue(activeItem.item.getAttribute('data-value'));\n                }\n            }\n            var activeElement = activeItem.item;\n            if (!isNullOrUndefined(activeElement)) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = count * height + fixedHead;\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        if (this.enableVirtualization && !this.fields.groupBy) {\n                            var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? activeElement.offsetTop + (this.virtualListInfo.startIndex * activeElement.offsetHeight) : activeElement.offsetTop;\n                            this.list.scrollTop = selectedLiOffsetTop - (this.list.querySelectorAll('.e-virtual-list').length * activeElement.offsetHeight);\n                        }\n                    }\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    if (!this.enableVirtualization) {\n                        this.list.scrollTop = 0;\n                    }\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if (e && e.type === 'keydown' && e.action === 'enter') {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    ComboBox.prototype.checkCustomValue = function () {\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        this.itemData = this.getDataByValue(value);\n        var dataItem = this.getItemData();\n        var setValue = this.allowObjectBinding ? this.itemData : dataItem.value;\n        if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n            this.setProperties({ 'value': setValue }, !this.allowCustom);\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && ((!this.allowObjectBinding && this.previousValue !== currentFillValue)) || (this.allowObjectBinding && this.previousValue && currentFillValue && !this.isObjectInArray(this.previousValue, [this.getDataByValue(currentFillValue)]))) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.allowObjectBinding ? this.getDataByValue(this.getFormattedValue(activeElement.getAttribute('data-value'))) : this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue, isHover);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.isFiltering() && !isNullOrUndefined(e) && e.target === this.inputWrapper.clearButton) {\n            this.searchLists(e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (this.inputElement.value === '') {\n            this.activeIndex = null;\n            if (!isNullOrUndefined(this.list)) {\n                if (!this.enableVirtualization) {\n                    this.list.scrollTop = 0;\n                }\n                var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n                this.setHoverList(focusItem);\n            }\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            if (this.liCollections && this.liCollections.length > 0 && !this.isCustomFilter) {\n                this.removeFocus();\n            }\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup(e);\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.setAutoFillSelection = function (currentValue, isKeyNavigate) {\n        if (isKeyNavigate === void 0) { isKeyNavigate = false; }\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else if (isKeyNavigate) {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n            if (!this.readonly) {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n                EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n                EventHandler.remove(window, 'resize', this.windowResize);\n            }\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            if (this.isSelected) {\n                li = this.list.querySelector('.' + dropDownListClasses.selected);\n            }\n            else {\n                li = this.list.querySelector('.' + dropDownListClasses.focus);\n            }\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n            this.clearAll(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue(e);\n        }\n        this.hidePopup(e);\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus(e);\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function (e) {\n        var _this = this;\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            var previousValue = this.previousValue;\n            var currentValue = this.value;\n            value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            var newValue = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n            if (this.autofill && ((!this.allowObjectBinding && previousValue === this.value) || (this.allowObjectBinding && previousValue && this.isObjectInArray(previousValue, [this.value]))) && ((!this.allowObjectBinding && currentValue !== this.value) || (this.allowObjectBinding && currentValue && !this.isObjectInArray(currentValue, [this.value])))) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.inputElement.value.trim() !== '') {\n            var previousValue_1 = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                // eslint-disable-next-line max-len\n                var eventArgs = { text: value_1, item: {} };\n                this.isObjectCustomValue = true;\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n                        _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1, e);\n                    });\n                }\n                else {\n                    this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n                }\n            }\n            else {\n                this.isSelectCustom = false;\n                value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                this.setProperties({ value: value });\n                if ((!this.allowObjectBinding && previousValue_1 !== this.value) || (this.allowObjectBinding && previousValue_1 && this.value && !this.isObjectInArray(previousValue_1, [this.value]))) {\n                    this.onChangeEvent(e);\n                }\n            }\n        }\n        else if (this.allowCustom) {\n            this.isSelectCustom = true;\n        }\n    };\n    ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue, e) {\n        var _this = this;\n        var fields = this.fields;\n        var item = eventArgs.item;\n        var dataItem = {};\n        if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n            dataItem = item;\n        }\n        else {\n            setValue(fields.text, value, dataItem);\n            setValue(fields.value, value, dataItem);\n        }\n        this.itemData = dataItem;\n        var emptyObject = {};\n        if (this.allowObjectBinding) {\n            var keys = this.listData && this.listData.length > 0 ? Object.keys(this.listData[0]) : Object.keys(this.itemData);\n            if ((!(this.listData && this.listData.length > 0)) && (this.getModuleName() === 'autocomplete' || (this.getModuleName() === 'combobox' && this.allowFiltering))) {\n                keys = this.firstItem ? Object.keys(this.firstItem) : Object.keys(this.itemData);\n            }\n            // Create an empty object with predefined keys\n            keys.forEach(function (key) {\n                emptyObject[key] = ((key === fields.value) || (key === fields.text)) ? getValue(fields.value, _this.itemData) : null;\n            });\n        }\n        var changeData = {\n            text: getValue(fields.text, this.itemData),\n            value: this.allowObjectBinding ? emptyObject : getValue(fields.value, this.itemData),\n            index: null\n        };\n        this.setProperties(changeData, true);\n        this.setSelection(null, null);\n        this.isSelectCustom = true;\n        this.isObjectCustomValue = false;\n        if ((!this.allowObjectBinding && (previousValue !== this.value)) || (this.allowObjectBinding && ((previousValue == null && this.value !== null) || (previousValue && !this.isObjectInArray(previousValue, [this.value]))))) {\n            this.onChangeEvent(e, true);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {ComboBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {ComboBoxModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'combobox') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp, oldProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'input', this.onInput);\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'input', this.onInput, this);\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    this.setReadOnly();\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    if (this.isFiltering() && prop === 'dataSource' && isNullOrUndefined(this.list) && this.itemTemplate &&\n                        this.getModuleName() === 'combobox') {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this);\n        }\n        this.renderComplete();\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.filter = function (dataSource, query, fields) {\n        _super.prototype.filter.call(this, dataSource, query, fields);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.showPopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.showPopup.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        var inputValue = this.inputElement && this.inputElement.value === '' ? null\n            : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var selected = !isNullOrUndefined(this.list) ? this.list.querySelector('.' + dropDownListClasses.selected) : null;\n            if (this.inputElement && dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(e);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this, e);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var dataSource = this.sortedData;\n                var type = this.typeOfData(dataSource).typeof;\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true, dataSource, this.fields, type);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true, dataSource, this.fields, type).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue(e);\n            }\n        }\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this, e);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     *\n     * @returns {void}\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.clear = function () {\n        this.value = null;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    ComboBox.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.focusOut.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n     * @deprecated\n     */\n    ComboBox.prototype.getItems = function () {\n        return _super.prototype.getItems.call(this);\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n     * @deprecated\n     */\n    ComboBox.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    ComboBox.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], ComboBox.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowObjectBinding\", void 0);\n    ComboBox = __decorate([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\nexport { ComboBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\nimport { Property, EventHandler, isNullOrUndefined, detach, getValue } from '@syncfusion/ej2-base';\nimport { Event, Complex } from '@syncfusion/ej2-base';\nimport { removeClass, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { ComboBox } from '../combo-box/combo-box';\nimport { highlightSearch, revertHighlightSearch } from '../common/highlight-search';\nimport { Search } from '../common/incremental-search';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Predicate, Query } from '@syncfusion/ej2-data';\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {AutoCompleteModel} options - Specifies the AutoComplete model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function AutoComplete(options, element) {\n        var _this_1 = _super.call(this, options, element) || this;\n        _this_1.isFiltered = false;\n        _this_1.searchList = false;\n        return _this_1;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    AutoComplete.prototype.getLocaleName = function () {\n        return 'auto-complete';\n    };\n    AutoComplete.prototype.getNgDirective = function () {\n        return 'EJS-AUTOCOMPLETE';\n    };\n    AutoComplete.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var value = this.allowObjectBinding && !isNullOrUndefined(this.value) ? getValue((this.fields.value) ? this.fields.value : '', this.value) : this.value;\n        var filterType = (this.queryString === '' && !isNullOrUndefined(value)) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(value)) ? value : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else if ((!this.enableVirtualization) || (this.enableVirtualization && (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && this.virtualGroupDataSource)))) {\n                var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount) && !this.enableVirtualization) {\n            // Since defualt value of suggestioncount is 20, checked the condition\n            if (this.suggestionCount !== 20) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        if (this.enableVirtualization && (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && this.virtualGroupDataSource))) {\n            var queryTakeValue = 0;\n            var querySkipValue = 0;\n            if (this.query && this.query.queries.length > 0) {\n                for (var queryElements = 0; queryElements < this.query.queries.length; queryElements++) {\n                    if (this.query.queries[queryElements].fn === 'onSkip') {\n                        querySkipValue = this.query.queries[queryElements].e.nos;\n                    }\n                    if (this.query.queries[queryElements].fn === 'onTake') {\n                        queryTakeValue = takeValue <= this.query.queries[queryElements].e.nos ? this.query.queries[queryElements].e.nos : takeValue;\n                    }\n                }\n            }\n            var skipExists = false;\n            var takeExists = false;\n            if (filterQuery && filterQuery.queries.length > 0) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                        skipExists = true;\n                    }\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        takeExists = true;\n                        filterQuery.queries[queryElements].e.nos = filterQuery.queries[queryElements].e.nos <= queryTakeValue ? queryTakeValue : filterQuery.queries[queryElements].e.nos;\n                    }\n                }\n            }\n            var takeValue = this.getTakeValue();\n            if (!skipExists) {\n                if (querySkipValue > 0 && this.virtualItemStartIndex <= querySkipValue) {\n                    filterQuery.skip(querySkipValue);\n                }\n                else {\n                    filterQuery.skip(this.virtualItemStartIndex);\n                }\n            }\n            if (!takeExists) {\n                if (queryTakeValue > 0 && takeValue <= queryTakeValue) {\n                    filterQuery.take(queryTakeValue);\n                }\n                else {\n                    filterQuery.take(takeValue);\n                }\n            }\n            filterQuery.requiresCount();\n        }\n        return filterQuery;\n    };\n    AutoComplete.prototype.searchLists = function (e) {\n        var _this_1 = this;\n        this.isTyped = true;\n        this.isDataFetched = this.isSelectCustom = false;\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        this.checkAndResetCache();\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this, e, true);\n        }\n        this.queryString = this.filterInput.value;\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields, null, e);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this_1.isFiltered = true;\n                _this_1.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this_1.isFiltered && !eventArgs.preventDefaultAction) {\n                _this_1.searchList = true;\n                _this_1.filterAction(_this_1.dataSource, null, _this_1.fields, e);\n            }\n        });\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     * @deprecated\n     */\n    AutoComplete.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.filterAction(dataSource, query, fields);\n    };\n    AutoComplete.prototype.filterAction = function (dataSource, query, fields, e) {\n        this.beforePopupOpen = true;\n        var isNoDataElement = this.list.classList.contains('e-nodata');\n        if (this.queryString !== '' && (this.queryString.length >= this.minLength)) {\n            if (this.enableVirtualization && this.isFiltering() && this.isTyped) {\n                this.isPreventScrollAction = true;\n                this.list.scrollTop = 0;\n                this.previousStartIndex = 0;\n                this.virtualListInfo = null;\n            }\n            this.resetList(dataSource, fields, query, e);\n            if (this.enableVirtualization && isNoDataElement && !this.list.classList.contains('e-nodata')) {\n                if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                    this.list.appendChild(this.createElement('div', {\n                        className: 'e-virtual-ddl-content',\n                        styles: this.getTransformValues()\n                    })).appendChild(this.list.querySelector('.e-list-parent'));\n                }\n                if (!this.list.querySelector('.e-virtual-ddl')) {\n                    var virualElement = this.createElement('div', {\n                        id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                    });\n                    document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                }\n            }\n            if ((this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount != 0)) {\n                this.getFilteringSkeletonCount();\n            }\n        }\n        else {\n            this.hidePopup(e);\n            this.beforePopupOpen = false;\n        }\n        this.renderReactTemplates();\n    };\n    AutoComplete.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n            this.checkAndResetCache();\n        }\n        if (this.beforePopupOpen) {\n            this.hidePopup();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        if (!this.enableVirtualization) {\n            this.fixedHeaderElement = null;\n        }\n        if ((this.getModuleName() === 'autocomplete' && !(this.dataSource instanceof DataManager)) || (this.getModuleName() === 'autocomplete' && (this.dataSource instanceof DataManager) && this.totalItemCount != 0)) {\n            this.getFilteringSkeletonCount();\n        }\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var item = this.list.querySelector('.' + dropDownListClasses.li);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], dropDownListClasses.focus);\n        }\n        this.postBackAction();\n    };\n    AutoComplete.prototype.postBackAction = function () {\n        if (this.autofill && !isNullOrUndefined(this.liCollections[0]) && this.searchList) {\n            var items = [this.liCollections[0]];\n            var dataSource = this.listData;\n            var type = this.typeOfData(dataSource).typeof;\n            var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase, dataSource, this.fields, type);\n            this.searchList = false;\n            if (!isNullOrUndefined(searchItem.item)) {\n                _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n            }\n        }\n    };\n    AutoComplete.prototype.setSelection = function (li, e) {\n        if (!this.isValidLI(li)) {\n            this.selectedLI = li;\n            return;\n        }\n        if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter'\n            && e.action !== 'tab' && this.isValidLI(li)) {\n            var value = this.getFormattedValue(li.getAttribute('data-value'));\n            this.activeIndex = this.getIndexByValue(value);\n            this.setHoverList(li);\n            this.selectedLI = li;\n            this.setScrollPosition(e);\n            if (this.autofill && this.isPopupOpen) {\n                this.preventAutoFill = false;\n                var isKeyNavigate = (e && e.action === 'down' || e.action === 'up' ||\n                    e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown');\n                _super.prototype.setAutoFill.call(this, li, isKeyNavigate);\n            }\n        }\n        else {\n            _super.prototype.setSelection.call(this, li, e);\n        }\n    };\n    AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this_1 = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this_1.highlight) {\n                    if (_this_1.element.tagName === _this_1.getNgDirective() && _this_1.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                        }, 0);\n                    }\n                    else {\n                        var isHtmlElement = /<[^>]*>/g.test(e.item.innerText);\n                        if (isHtmlElement) {\n                            e.item.innerText = e.item.innerText.replace(/[\\u00A0-\\u9999<>&]/g, function (match) { return \"&#\" + match.charCodeAt(0) + \";\"; });\n                        }\n                        highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this_1.highlight) {\n                    highlightSearch(e.item, _this_1.queryString, _this_1.ignoreCase, _this_1.filterType);\n                }\n                itemCreated_1.apply(_this_1, [e]);\n            };\n        }\n        return fields;\n    };\n    AutoComplete.prototype.isFiltering = function () {\n        return true;\n    };\n    AutoComplete.prototype.renderPopup = function (e) {\n        if (!this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        _super.prototype.renderPopup.call(this, e);\n    };\n    AutoComplete.prototype.isEditTextBox = function () {\n        return false;\n    };\n    AutoComplete.prototype.isPopupButton = function () {\n        return this.showPopupButton;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.isSelectFocusItem = function (element) {\n        return false;\n    };\n    AutoComplete.prototype.setInputValue = function (newProp, oldProp) {\n        var oldValue = oldProp && oldProp.text ? oldProp.text : oldProp ? oldProp.value : oldProp;\n        var value = newProp && newProp.text ? newProp.text : newProp && newProp.value ? newProp.value : this.value;\n        if (this.allowObjectBinding) {\n            oldValue = !isNullOrUndefined(oldValue) ? getValue((this.fields.value) ? this.fields.value : '', oldValue) : oldValue;\n            value = !isNullOrUndefined(value) ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n        }\n        if (value && this.typedString === '' && !this.allowCustom && !(this.dataSource instanceof DataManager)) {\n            var checkFields_1_1 = this.typeOfData(this.dataSource).typeof === 'string' ? '' : this.fields.value;\n            var listLength_1 = this.getItems().length;\n            var query = new Query();\n            var _this_2 = this;\n            new DataManager(this.dataSource).executeQuery(query.where(new Predicate(checkFields_1_1, 'equal', value)))\n                .then(function (e) {\n                if (e.result.length > 0) {\n                    _this_2.value = checkFields_1_1 !== '' ? _this_2.allowObjectBinding ? e.result[0] : e.result[0][_this_2.fields.value].toString() : e.result[0].toString();\n                    _this_2.addItem(e.result, listLength_1);\n                    _this_2.updateValues();\n                }\n                else {\n                    newProp && newProp.text ? _this_2.setOldText(oldValue) : newProp && newProp.value ? _this_2.setOldValue(oldValue) : _this_2.updateValues();\n                }\n            });\n        }\n        else if (newProp) {\n            newProp.text ? this.setOldText(oldValue) : this.setOldValue(oldValue);\n        }\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    AutoComplete.prototype.showPopup = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        this.preventAutoFill = true;\n        if (isNullOrUndefined(this.list)) {\n            this.renderList(e);\n        }\n        else {\n            this.resetList(this.dataSource, this.fields, null, e);\n        }\n    };\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     */\n    AutoComplete.prototype.hidePopup = function (e) {\n        _super.prototype.hidePopup.call(this, e);\n        this.activeIndex = null;\n        this.virtualListInfo = this.viewPortInfo;\n        this.previousStartIndex = this.viewPortInfo.startIndex;\n        this.startIndex = this.viewPortInfo.startIndex;\n        this.previousEndIndex = this.viewPortInfo.endIndex;\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {AutoCompleteModel} newProp - Returns the dynamic property value of the component.\n     * @param {AutoCompleteModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showPopupButton':\n                    if (this.showPopupButton) {\n                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n                        this.inputWrapper.buttons[0] = button;\n                        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                        }\n                        if (this.inputWrapper && this.inputWrapper.buttons && this.inputWrapper.buttons[0]) {\n                            EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n                        }\n                    }\n                    else {\n                        detach(this.inputWrapper.buttons[0]);\n                        this.inputWrapper.buttons[0] = null;\n                    }\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var atcProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n                    break;\n                }\n            }\n        }\n    };\n    AutoComplete.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n            }\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    AutoComplete.prototype.getModuleName = function () {\n        return 'autocomplete';\n    };\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    __decorate([\n        Complex({ value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], AutoComplete.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], AutoComplete.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"showPopupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"highlight\", void 0);\n    __decorate([\n        Property(20)\n    ], AutoComplete.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property({})\n    ], AutoComplete.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"query\", void 0);\n    __decorate([\n        Property(1)\n    ], AutoComplete.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('Contains')\n    ], AutoComplete.prototype, \"filterType\", void 0);\n    __decorate([\n        Event()\n    ], AutoComplete.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], AutoComplete.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"text\", void 0);\n    AutoComplete = __decorate([\n        NotifyPropertyChanges\n    ], AutoComplete);\n    return AutoComplete;\n}(ComboBox));\nexport { AutoComplete };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { isCollide, Popup, createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { attributes, setValue, getValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, extend } from '@syncfusion/ej2-base';\nimport { EventHandler, Property, Event, compile, L10n } from '@syncfusion/ej2-base';\nimport { Animation, Browser, prepend, Complex } from '@syncfusion/ej2-base';\nimport { Search } from '../common/incremental-search';\nimport { append, addClass, removeClass, closest, detach, remove, select, selectAll } from '@syncfusion/ej2-base';\nimport { getUniqueID, formatUnit, isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { DataManager, Query, Predicate, JsonAdaptor } from '@syncfusion/ej2-data';\nimport { createFloatLabel, removeFloating, floatLabelFocus, floatLabelBlur, encodePlaceholder } from './float-label';\nvar FOCUS = 'e-input-focus';\nvar DISABLED = 'e-disabled';\nvar OVER_ALL_WRAPPER = 'e-multiselect e-input-group e-control-wrapper';\nvar ELEMENT_WRAPPER = 'e-multi-select-wrapper';\nvar ELEMENT_MOBILE_WRAPPER = 'e-mob-wrapper';\nvar HIDE_LIST = 'e-hide-listitem';\nvar DELIMITER_VIEW = 'e-delim-view';\nvar CHIP_WRAPPER = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar CHIP_SELECTED = 'e-chip-selected';\nvar SEARCHBOX_WRAPPER = 'e-searcher';\nvar DELIMITER_VIEW_WRAPPER = 'e-delimiter';\nvar ZERO_SIZE = 'e-zero-size';\nvar REMAIN_WRAPPER = 'e-remain';\nvar CLOSEICON_CLASS = 'e-chips-close e-close-hooker';\nvar DELIMITER_WRAPPER = 'e-delim-values';\nvar POPUP_WRAPPER = 'e-ddl e-popup e-multi-select-list-wrapper';\nvar INPUT_ELEMENT = 'e-dropdownbase';\nvar RTL_CLASS = 'e-rtl';\nvar CLOSE_ICON_HIDE = 'e-close-icon-hide';\nvar MOBILE_CHIP = 'e-mob-chip';\nvar FOOTER = 'e-ddl-footer';\nvar HEADER = 'e-ddl-header';\nvar DISABLE_ICON = 'e-ddl-disable-icon';\nvar SPINNER_CLASS = 'e-ms-spinner-icon';\nvar HIDDEN_ELEMENT = 'e-multi-hidden';\nvar destroy = 'destroy';\nvar dropdownIcon = 'e-input-group-icon e-ddl-icon';\nvar iconAnimation = 'e-icon-anim';\nvar TOTAL_COUNT_WRAPPER = 'e-delim-total';\nvar BOX_ELEMENT = 'e-multiselect-box';\nvar FILTERPARENT = 'e-filter-parent';\nvar CUSTOM_WIDTH = 'e-search-custom-width';\nvar FILTERINPUT = 'e-input-filter';\n/**\n * The Multiselect allows the user to pick a more than one value from list of predefined values.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var multiselectObj = new Multiselect();\n *   multiselectObj.appendTo(\"#list\");\n * </script>\n * ```\n */\nvar MultiSelect = /** @class */ (function (_super) {\n    __extends(MultiSelect, _super);\n    /**\n     * Constructor for creating the DropDownList widget.\n     *\n     * @param {MultiSelectModel} option - Specifies the MultiSelect model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function MultiSelect(option, element) {\n        var _this = _super.call(this, option, element) || this;\n        _this.clearIconWidth = 0;\n        _this.previousFilterText = '';\n        _this.isValidKey = false;\n        _this.selectAllEventData = [];\n        _this.selectAllEventEle = [];\n        _this.resetMainList = null;\n        _this.resetFilteredData = false;\n        _this.preventSetCurrentData = false;\n        _this.scrollFocusStatus = false;\n        _this.keyDownStatus = false;\n        _this.IsScrollerAtEnd = function () {\n            return this.list && this.list.scrollTop + this.list.clientHeight >= this.list.scrollHeight;\n        };\n        return _this;\n    }\n    MultiSelect.prototype.enableRTL = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.add(RTL_CLASS);\n        }\n        else {\n            this.overAllWrapper.classList.remove(RTL_CLASS);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n    };\n    MultiSelect.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableVirtualization) {\n            modules.push({ args: [this], member: 'VirtualScroll' });\n        }\n        if (this.mode === 'CheckBox') {\n            this.isGroupChecking = this.enableGroupCheckBox;\n            if (this.enableGroupCheckBox) {\n                var prevOnChange = this.isProtectedOnChange;\n                this.isProtectedOnChange = true;\n                this.enableSelectionOrder = false;\n                this.isProtectedOnChange = prevOnChange;\n            }\n            this.allowCustomValue = false;\n            this.hideSelectedItem = false;\n            this.closePopupOnSelect = false;\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    MultiSelect.prototype.updateHTMLAttribute = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                switch (htmlAttr) {\n                    case 'class': {\n                        var updatedClassValue = (this.htmlAttributes[\"\" + htmlAttr].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValue !== '') {\n                            addClass([this.overAllWrapper], updatedClassValue.split(' '));\n                            addClass([this.popupWrapper], updatedClassValue.split(' '));\n                        }\n                        break;\n                    }\n                    case 'disabled':\n                        this.enable(false);\n                        break;\n                    case 'placeholder':\n                        if (!this.placeholder) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                            this.setProperties({ placeholder: this.inputElement.placeholder }, true);\n                            this.refreshPlaceHolder();\n                        }\n                        break;\n                    default: {\n                        var defaultAttr = ['id'];\n                        var validateAttr = ['name', 'required', 'aria-required', 'form'];\n                        var containerAttr = ['title', 'role', 'style', 'class'];\n                        if (defaultAttr.indexOf(htmlAttr) > -1) {\n                            this.element.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (containerAttr.indexOf(htmlAttr) > -1) {\n                            this.overAllWrapper.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        else if (htmlAttr !== 'size' && !isNullOrUndefined(this.inputElement)) {\n                            this.inputElement.setAttribute(htmlAttr, this.htmlAttributes[\"\" + htmlAttr]);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.updateReadonly = function (state) {\n        if (!isNullOrUndefined(this.inputElement)) {\n            if (state || this.mode === 'CheckBox') {\n                this.inputElement.setAttribute('readonly', 'true');\n            }\n            else {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    MultiSelect.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (this.overAllClear.parentNode) {\n                this.overAllClear.style.display = '';\n            }\n            else {\n                this.componentWrapper.appendChild(this.overAllClear);\n            }\n            this.componentWrapper.classList.remove(CLOSE_ICON_HIDE);\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n    };\n    MultiSelect.prototype.updateCssClass = function () {\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            var updatedCssClassValues = this.cssClass;\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n            if (updatedCssClassValues !== '') {\n                addClass([this.overAllWrapper], updatedCssClassValues.split(' '));\n                addClass([this.popupWrapper], updatedCssClassValues.split(' '));\n            }\n        }\n    };\n    MultiSelect.prototype.updateOldPropCssClass = function (oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n            if (oldClass !== '') {\n                removeClass([this.overAllWrapper], oldClass.split(' '));\n                removeClass([this.popupWrapper], oldClass.split(' '));\n            }\n        }\n    };\n    MultiSelect.prototype.onPopupShown = function (e) {\n        var _this = this;\n        if (Browser.isDevice && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            window.onpopstate = function () {\n                proxy_1.hidePopup();\n                proxy_1.inputElement.focus();\n            };\n            history.pushState({}, '');\n        }\n        var animModel = { name: 'FadeIn', duration: 100 };\n        var eventArgs = { popup: this.popupObj, event: e, cancel: false, animation: animModel };\n        this.trigger('open', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                _this.focusAtFirstListItem();\n                if (_this.popupObj) {\n                    document.body.appendChild(_this.popupObj.element);\n                }\n                if (_this.mode === 'CheckBox' && _this.enableGroupCheckBox && !isNullOrUndefined(_this.fields.groupBy)) {\n                    _this.updateListItems(_this.list.querySelectorAll('li.e-list-item'), _this.mainList.querySelectorAll('li.e-list-item'));\n                }\n                if (_this.mode === 'CheckBox' || _this.showDropDownIcon) {\n                    addClass([_this.overAllWrapper], [iconAnimation]);\n                }\n                _this.refreshPopup();\n                _this.renderReactTemplates();\n                if (_this.popupObj) {\n                    _this.popupObj.show(eventArgs.animation, (_this.zIndex === 1000) ? _this.element : null);\n                }\n                attributes(_this.inputElement, { 'aria-expanded': 'true', 'aria-owns': _this.element.id + '_popup', 'aria-controls': _this.element.id });\n                _this.updateAriaActiveDescendant();\n                if (_this.isFirstClick) {\n                    if (_this.enableVirtualization && _this.mode === 'CheckBox' && _this.value) {\n                        _this.updateVirtualReOrderList();\n                    }\n                    _this.loadTemplate();\n                }\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    EventHandler.add(_this.popupObj.element, 'click', _this.clickHandler, _this);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.updateVirtualReOrderList = function (isCheckBoxUpdate) {\n        var query = this.getForQuery(this.value, true).clone();\n        this.resetList(this.dataSource, this.fields, query);\n        this.UpdateSkeleton();\n        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        this.virtualItemCount = this.itemCount;\n        if (this.mode !== 'CheckBox') {\n            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n        }\n        if (!this.list.querySelector('.e-virtual-ddl')) {\n            var virualElement = this.createElement('div', {\n                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n            });\n            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        if (this.list.querySelector('.e-virtual-ddl-content')) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n        if (isCheckBoxUpdate) {\n            this.loadTemplate();\n        }\n    };\n    MultiSelect.prototype.updateListItems = function (listItems, mainListItems) {\n        for (var i = 0; i < listItems.length; i++) {\n            this.findGroupStart(listItems[i]);\n            this.findGroupStart(mainListItems[i]);\n        }\n        this.deselectHeader();\n    };\n    MultiSelect.prototype.loadTemplate = function () {\n        this.refreshListItems(null);\n        if (this.enableVirtualization && this.list && this.mode === 'CheckBox') {\n            var reOrderList = this.list.querySelectorAll('.e-reorder')[0];\n            if (this.list.querySelector('.e-virtual-ddl-content') && reOrderList) {\n                this.list.querySelector('.e-virtual-ddl-content').removeChild(reOrderList);\n            }\n        }\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n        this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n        this.isPreventScrollAction = true;\n    };\n    MultiSelect.prototype.setScrollPosition = function () {\n        if (((!this.hideSelectedItem && this.mode !== 'CheckBox') || (this.mode === 'CheckBox' && !this.enableSelectionOrder)) &&\n            (!isNullOrUndefined(this.value) && (this.value.length > 0))) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n            var valueEle = this.findListElement((this.hideSelectedItem ? this.ulElement : this.list), 'li', 'data-value', value);\n            if (!isNullOrUndefined(valueEle)) {\n                this.scrollBottom(valueEle);\n            }\n        }\n        if (this.enableVirtualization) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            if (focusedItem) {\n                this.scrollBottom(focusedItem);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtFirstListItem = function () {\n        if (this.ulElement && this.ulElement.querySelector('li.'\n            + dropDownBaseClasses.li)) {\n            var element = void 0;\n            if (this.mode === 'CheckBox') {\n                this.removeFocus();\n                return;\n            }\n            else {\n                if (this.enableVirtualization) {\n                    element = this.ulElement.querySelector('li.'\n                        + dropDownBaseClasses.li + ':not(.e-virtual-list)' + ':not(.e-hide-listitem)');\n                }\n                else {\n                    element = this.ulElement.querySelector('li.'\n                        + dropDownBaseClasses.li + ':not(.'\n                        + HIDE_LIST + ')');\n                }\n            }\n            if (element !== null) {\n                this.removeFocus();\n                this.addListFocus(element);\n            }\n        }\n    };\n    MultiSelect.prototype.focusAtLastListItem = function (data) {\n        var activeElement;\n        if (data) {\n            activeElement = Search(data, this.liCollections, 'StartsWith', this.ignoreCase);\n        }\n        else {\n            if (this.value && this.value.length) {\n                var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                Search(value, this.liCollections, 'StartsWith', this.ignoreCase);\n            }\n            else {\n                activeElement = null;\n            }\n        }\n        if (activeElement && activeElement.item !== null) {\n            this.addListFocus(activeElement.item);\n            if (((this.allowCustomValue || this.allowFiltering) && this.isPopupOpen() && this.closePopupOnSelect && !this.enableVirtualization) || this.closePopupOnSelect && !this.enableVirtualization) {\n                this.scrollBottom(activeElement.item, activeElement.index);\n            }\n        }\n    };\n    MultiSelect.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-disabled': 'false',\n            'role': 'combobox',\n            'aria-expanded': 'false'\n        };\n        return ariaAttributes;\n    };\n    MultiSelect.prototype.updateListARIA = function () {\n        if (!isNullOrUndefined(this.ulElement)) {\n            attributes(this.ulElement, { 'id': this.element.id + '_options', 'role': 'listbox', 'aria-hidden': 'false', 'aria-label': 'list' });\n        }\n        var disableStatus = !isNullOrUndefined(this.inputElement) && (this.inputElement.disabled) ? true : false;\n        if (!this.isPopupOpen() && !isNullOrUndefined(this.inputElement)) {\n            attributes(this.inputElement, this.getAriaAttributes());\n        }\n        if (disableStatus) {\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n        }\n        this.ensureAriaDisabled((disableStatus) ? 'true' : 'false');\n    };\n    MultiSelect.prototype.ensureAriaDisabled = function (status) {\n        if (this.htmlAttributes && this.htmlAttributes['aria-disabled']) {\n            var attr = this.htmlAttributes;\n            extend(attr, { 'aria-disabled': status }, attr);\n            this.setProperties({ htmlAttributes: attr }, true);\n        }\n    };\n    MultiSelect.prototype.removelastSelection = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem !== null) {\n            this.removeSelectedChip(e);\n            return;\n        }\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var value = elements[elements.length - 1].getAttribute('data-value');\n        if (!isNullOrUndefined(this.value)) {\n            this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n        }\n        var customValue = this.allowObjectBinding ? this.getDataByValue(value) : this.getFormattedValue(value);\n        if (this.allowCustomValue && (value !== 'false' && customValue === false || (!isNullOrUndefined(customValue) &&\n            customValue.toString() === 'NaN'))) {\n            customValue = value;\n        }\n        this.removeValue(customValue, e);\n        this.removeChipSelection();\n        this.updateDelimeter(this.delimiterChar, e);\n        this.makeTextBoxEmpty();\n        if (this.mainList && this.listData) {\n            this.refreshSelection();\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.onActionFailure = function (e) {\n        _super.prototype.onActionFailure.call(this, e);\n        this.renderPopup();\n        this.onPopupShown();\n    };\n    MultiSelect.prototype.targetElement = function () {\n        this.targetInputElement = this.inputElement;\n        if (this.mode === 'CheckBox' && this.allowFiltering) {\n            this.notify('targetElement', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        return this.targetInputElement.value;\n    };\n    MultiSelect.prototype.getForQuery = function (valuecheck, isCheckbox) {\n        var predicate;\n        var field = isNullOrUndefined(this.fields.value) ? this.fields.text : this.fields.value;\n        if (this.enableVirtualization) {\n            if (isCheckbox) {\n                for (var i = 0; i < valuecheck.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', valuecheck[i]) : valuecheck[i];\n                    if (i === 0) {\n                        predicate = new Predicate(field, 'equal', value);\n                    }\n                    else {\n                        predicate = predicate.or(field, 'equal', value);\n                    }\n                }\n                return new Query().where(predicate);\n            }\n            else {\n                for (var i = 0; i < valuecheck.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', valuecheck[i]) : valuecheck[i];\n                    if (i === 0) {\n                        predicate = new Predicate(field, 'notequal', value);\n                    }\n                    else {\n                        predicate = predicate.and(field, 'notequal', value);\n                    }\n                }\n                return new Query().where(predicate);\n            }\n        }\n        else {\n            for (var i = 0; i < valuecheck.length; i++) {\n                if (i === 0) {\n                    predicate = new Predicate(field, 'equal', valuecheck[i]);\n                }\n                else {\n                    predicate = predicate.or(field, 'equal', valuecheck[i]);\n                }\n            }\n        }\n        if (this.dataSource instanceof DataManager && this.dataSource.adaptor instanceof JsonAdaptor) {\n            return new Query().where(predicate);\n        }\n        else {\n            return this.getQuery(this.query).clone().where(predicate);\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    MultiSelect.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        if (this.dataSource instanceof DataManager && !isNullOrUndefined(e) && !this.virtualGroupDataSource) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = e.count;\n        }\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        this.skeletonCount = this.totalItemCount != 0 && this.totalItemCount < (this.itemCount * 2) ? 0 : this.skeletonCount;\n        this.updateSelectElementData(this.allowFiltering);\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        if (!isNullOrUndefined(this.value) && !this.allowCustomValue && !this.enableVirtualization) {\n            for (var i = 0; i < this.value.length; i++) {\n                var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', proxy.value[i]) : proxy.value[i];\n                var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', value);\n                if (!checkEle && !(this.dataSource instanceof DataManager)) {\n                    this.value.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        var valuecheck = [];\n        if (!isNullOrUndefined(this.value)) {\n            valuecheck = this.presentItemValue(this.ulElement);\n        }\n        if (valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)\n            && this.listData != null) {\n            this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n        }\n        else {\n            this.updateActionList(ulElement, list, e);\n        }\n        if (this.dataSource instanceof DataManager && this.allowCustomValue && !this.isCustomRendered && this.inputElement.value && this.inputElement.value !== '') {\n            var query = new Query();\n            query = this.allowFiltering ? query.where(this.fields.text, 'startswith', this.inputElement.value, this.ignoreCase, this.ignoreAccent) : query;\n            this.checkForCustomValue(query, this.fields);\n            this.isCustomRendered = true;\n        }\n        if (this.dataSource instanceof DataManager && this.mode === 'CheckBox' && this.allowFiltering) {\n            this.removeFocus();\n        }\n    };\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    MultiSelect.prototype.updateActionList = function (ulElement, list, e, isUpdated) {\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n        }\n        if (!this.mainList && !this.mainData) {\n            this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n            this.mainData = list;\n            this.mainListCollection = this.liCollections;\n        }\n        else if (isNullOrUndefined(this.mainData) || this.mainData.length === 0) {\n            this.mainData = list;\n        }\n        if ((this.remoteCustomValue || list.length <= 0) && this.allowCustomValue && this.inputFocus && this.allowFiltering &&\n            this.inputElement.value && this.inputElement.value !== '') {\n            this.checkForCustomValue(this.tempQuery, this.fields);\n            if (this.isCustomRendered) {\n                return;\n            }\n        }\n        if (this.value && this.value.length && ((this.mode !== 'CheckBox' && !isNullOrUndefined(this.inputElement) && this.inputElement.value.trim() !== '') ||\n            this.mode === 'CheckBox' || ((this.keyCode === 8 || this.keyCode === 46) && this.allowFiltering &&\n            this.allowCustomValue && this.dataSource instanceof DataManager && this.inputElement.value === ''))) {\n            this.refreshSelection();\n        }\n        this.updateListARIA();\n        this.unwireListEvents();\n        this.wireListEvents();\n        if (!isNullOrUndefined(this.setInitialValue)) {\n            this.setInitialValue();\n        }\n        if (!isNullOrUndefined(this.selectAllAction)) {\n            this.selectAllAction();\n        }\n        if (this.setDynValue) {\n            if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.initialTextUpdate();\n            }\n            this.initialValueUpdate();\n            this.initialUpdate();\n            this.refreshPlaceHolder();\n            if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                this.updateValueState(null, this.value, null);\n            }\n        }\n        this.renderPopup();\n        if (this.beforePopupOpen) {\n            this.beforePopupOpen = false;\n            this.onPopupShown(e);\n        }\n    };\n    MultiSelect.prototype.refreshSelection = function () {\n        var value;\n        var element;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (!isNullOrUndefined(this.value)) {\n            for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[index]) : this.value[index];\n                element = this.findListElement(this.list, 'li', 'data-value', value);\n                if (element) {\n                    addClass([element], className);\n                    if (this.hideSelectedItem && element.previousSibling\n                        && element.previousElementSibling.classList.contains(dropDownBaseClasses.group)\n                        && (!element.nextElementSibling ||\n                            element.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                        addClass([element.previousElementSibling], className);\n                    }\n                    if (this.hideSelectedItem && this.fields.groupBy && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n                        this.hideGroupItem(value);\n                    }\n                    if (this.hideSelectedItem && element.classList.contains(dropDownBaseClasses.focus)) {\n                        removeClass([element], dropDownBaseClasses.focus);\n                        var listEle = element.parentElement.querySelectorAll('.' +\n                            dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n                        if (listEle.length > 0) {\n                            addClass([listEle[0]], dropDownBaseClasses.focus);\n                            this.updateAriaActiveDescendant();\n                        }\n                        else {\n                            //EJ2-57588 - for this task, we prevent the ul element cloning ( this.ulElement = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n                            if (!(this.list && this.list.querySelectorAll('.' + dropDownBaseClasses.li).length > 0)) {\n                                this.l10nUpdate();\n                                addClass([this.list], dropDownBaseClasses.noData);\n                            }\n                        }\n                    }\n                    element.setAttribute('aria-selected', 'true');\n                    if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                        var ariaValue = element.getElementsByClassName('e-check').length;\n                        if (ariaValue === 0) {\n                            var args = {\n                                module: 'CheckBoxSelection',\n                                enable: this.mode === 'CheckBox',\n                                li: element,\n                                e: null\n                            };\n                            this.notify('updatelist', args);\n                        }\n                    }\n                }\n            }\n        }\n        this.checkSelectAll();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.hideGroupItem = function (value) {\n        var element;\n        var element1;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        element1 = element = this.findListElement(this.ulElement, 'li', 'data-value', value);\n        var i = 0;\n        var j = 0;\n        var temp = true;\n        var temp1 = true;\n        do {\n            if (element && element.previousElementSibling\n                && (!element.previousElementSibling.classList.contains(HIDE_LIST) &&\n                    element.previousElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp = false;\n            }\n            if (!temp || !element || (element.previousElementSibling\n                && element.previousElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                i = 10;\n            }\n            else {\n                element = element.previousElementSibling;\n            }\n            if (element1 && element1.nextElementSibling\n                && (!element1.nextElementSibling.classList.contains(HIDE_LIST) &&\n                    element1.nextElementSibling.classList.contains(dropDownBaseClasses.li))) {\n                temp1 = false;\n            }\n            if (!temp1 || !element1 || (element1.nextElementSibling\n                && element1.nextElementSibling.classList.contains(dropDownBaseClasses.group))) {\n                j = 10;\n            }\n            else {\n                element1 = element1.nextElementSibling;\n            }\n        } while (i < 10 || j < 10);\n        if (temp && temp1 && !element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            addClass([element.previousElementSibling], className);\n        }\n        else if (temp && temp1 && element.previousElementSibling.classList.contains(HIDE_LIST)) {\n            removeClass([element.previousElementSibling], className);\n        }\n    };\n    MultiSelect.prototype.getValidLi = function () {\n        var liElement = this.ulElement.querySelector('li.' + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')');\n        return (!isNullOrUndefined(liElement) ? liElement : this.liCollections[0]);\n    };\n    MultiSelect.prototype.checkSelectAll = function () {\n        var groupItemLength = this.list.querySelectorAll('li.e-list-group-item.e-active').length;\n        var listItem = this.list.querySelectorAll('li.e-list-item');\n        var searchCount = this.enableVirtualization ? this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-virtual-list)').length : this.list.querySelectorAll('li.' + dropDownBaseClasses.li).length;\n        var searchActiveCount = this.list.querySelectorAll('li.' + dropDownBaseClasses.selected).length;\n        if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            searchActiveCount = searchActiveCount - groupItemLength;\n        }\n        if ((!this.enableVirtualization && ((searchCount === searchActiveCount || searchActiveCount === this.maximumSelectionLength)\n            && (this.mode === 'CheckBox' && this.showSelectAll))) || (this.enableVirtualization && this.mode === 'CheckBox' && this.showSelectAll && this.virtualSelectAll && this.value && this.value.length === this.totalItemCount)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'check' });\n        }\n        else if ((searchCount !== searchActiveCount) && (this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n        }\n        if (this.enableGroupCheckBox && this.fields.groupBy && !this.enableSelectionOrder) {\n            for (var i = 0; i < listItem.length; i++) {\n                this.findGroupStart(listItem[i]);\n            }\n            this.deselectHeader();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.openClick = function (e) {\n        if (!this.openOnClick && this.mode !== 'CheckBox' && !this.isPopupOpen()) {\n            if (this.targetElement() !== '') {\n                this.showPopup();\n            }\n            else {\n                this.hidePopup(e);\n            }\n        }\n        else if (!this.openOnClick && this.mode === 'CheckBox' && !this.isPopupOpen()) {\n            this.showPopup();\n        }\n    };\n    MultiSelect.prototype.keyUp = function (e) {\n        if (this.mode === 'CheckBox' && !this.openOnClick) {\n            var char = String.fromCharCode(e.keyCode);\n            var isWordCharacter = char.match(/\\w/);\n            if (!isNullOrUndefined(isWordCharacter)) {\n                this.isValidKey = true;\n            }\n        }\n        this.isValidKey = (this.isPopupOpen() && e.keyCode === 8) || this.isValidKey;\n        this.isValidKey = e.ctrlKey && e.keyCode === 86 ? false : this.isValidKey;\n        if (this.isValidKey && this.inputElement) {\n            this.isValidKey = false;\n            this.expandTextbox();\n            this.showOverAllClear();\n            switch (e.keyCode) {\n                default:\n                    // For filtering works in mobile firefox\n                    this.search(e);\n            }\n        }\n    };\n    /**\n     * To filter the multiselect data from given data source by using query\n     *\n     * @param {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param {Query} query - Specify the query to filter the data.\n     * @param {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n     */\n    MultiSelect.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.remoteFilterAction = true;\n        this.dataUpdater(dataSource, query, fields);\n    };\n    MultiSelect.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.filterAction) {\n            if ((this.targetElement() !== null && !this.enableVirtualization) || (this.enableVirtualization && this.targetElement() !== null && this.targetElement().trim() !== '')) {\n                var dataType = this.typeOfData(this.dataSource).typeof;\n                if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                    filterQuery.where('', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n                else {\n                    var fields = this.fields;\n                    filterQuery.where(!isNullOrUndefined(fields.text) ? fields.text : '', this.filterType, this.targetElement(), this.ignoreCase, this.ignoreAccent);\n                }\n            }\n            if (this.enableVirtualization && (this.viewPortInfo.endIndex != 0) && !this.virtualSelectAll) {\n                return this.virtualFilterQuery(filterQuery);\n            }\n            return filterQuery;\n        }\n        else {\n            if (this.enableVirtualization && (this.viewPortInfo.endIndex != 0) && !this.virtualSelectAll && (!(this.dataSource instanceof DataManager) || (this.dataSource instanceof DataManager && this.virtualGroupDataSource))) {\n                return this.virtualFilterQuery(filterQuery);\n            }\n            return query ? query : this.query ? this.query : new Query();\n        }\n    };\n    MultiSelect.prototype.virtualFilterQuery = function (filterQuery) {\n        var takeValue = this.getTakeValue();\n        var isReOrder = true;\n        var isSkip = true;\n        var isTake = true;\n        for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n            if (this.getModuleName() === 'multiselect' && ((filterQuery.queries[queryElements].e && filterQuery.queries[queryElements].e.condition == 'or') || (filterQuery.queries[queryElements].e && filterQuery.queries[queryElements].e.operator == 'equal'))) {\n                isReOrder = false;\n            }\n            if (filterQuery.queries[queryElements].fn === 'onSkip') {\n                isSkip = false;\n            }\n            if (filterQuery.queries[queryElements].fn === 'onTake') {\n                isTake = false;\n            }\n        }\n        if ((this.allowFiltering && isSkip) || !isReOrder || (!this.allowFiltering && isSkip)) {\n            if (!isReOrder) {\n                filterQuery.skip(this.viewPortInfo.startIndex);\n            }\n            else {\n                filterQuery.skip(this.virtualItemStartIndex);\n            }\n        }\n        if (isTake) {\n            if (this.isIncrementalRequest) {\n                filterQuery.take(this.incrementalEndIndex);\n            }\n            else {\n                filterQuery.take(takeValue);\n            }\n        }\n        filterQuery.requiresCount();\n        return filterQuery;\n    };\n    MultiSelect.prototype.getTakeValue = function () {\n        return this.allowFiltering && Browser.isDevice ? Math.round(window.outerHeight / this.listItemHeight) : this.itemCount;\n    };\n    MultiSelect.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        var isNoData = this.list.classList.contains(dropDownBaseClasses.noData);\n        if (this.targetElement().trim() === '') {\n            var list = this.enableVirtualization ? this.list.cloneNode(true) : this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.backCommand) {\n                this.remoteCustomValue = false;\n                if (this.allowCustomValue && list.querySelectorAll('li').length == 0 && this.mainData.length > 0) {\n                    this.mainData = [];\n                }\n                if (this.enableVirtualization) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n                    this.resetList(dataSource, fields, query);\n                    if (this.mode !== 'CheckBox') {\n                        this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                    }\n                    this.UpdateSkeleton();\n                    if ((isNoData || this.allowCustomValue) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                        if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                            this.list.appendChild(this.createElement('div', {\n                                className: 'e-virtual-ddl-content',\n                                styles: this.getTransformValues()\n                            })).appendChild(this.list.querySelector('.e-list-parent'));\n                        }\n                        if (!this.list.querySelector('.e-virtual-ddl')) {\n                            var virualElement = this.createElement('div', {\n                                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                            });\n                            document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                        }\n                    }\n                }\n                this.onActionComplete(list, this.mainData);\n                if (this.value && this.value.length) {\n                    this.refreshSelection();\n                }\n                if (this.keyCode !== 8) {\n                    this.focusAtFirstListItem();\n                }\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', e: this });\n            }\n        }\n        else {\n            if (this.enableVirtualization && this.allowFiltering) {\n                this.isPreventScrollAction = true;\n                this.list.scrollTop = 0;\n                this.previousStartIndex = 0;\n                this.virtualListInfo = null;\n            }\n            this.resetList(dataSource, fields, query);\n            if (this.enableVirtualization && (isNoData || this.allowCustomValue) && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                if (!this.list.querySelector('.e-virtual-ddl-content')) {\n                    this.list.appendChild(this.createElement('div', {\n                        className: 'e-virtual-ddl-content',\n                        styles: this.getTransformValues()\n                    })).appendChild(this.list.querySelector('.e-list-parent'));\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                }\n                if (!this.list.querySelector('.e-virtual-ddl')) {\n                    var virualElement = this.createElement('div', {\n                        id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                    });\n                    document.getElementsByClassName('e-popup')[0].querySelector('.e-dropdownbase').appendChild(virualElement);\n                }\n            }\n            if (this.allowCustomValue) {\n                if (!(dataSource instanceof DataManager)) {\n                    this.checkForCustomValue(query, fields);\n                }\n                else {\n                    this.remoteCustomValue = true;\n                    this.tempQuery = query;\n                }\n            }\n        }\n        if (this.enableVirtualization && this.allowFiltering) {\n            this.getFilteringSkeletonCount();\n        }\n        this.refreshPopup();\n        if (this.mode === 'CheckBox') {\n            this.removeFocus();\n        }\n    };\n    MultiSelect.prototype.checkForCustomValue = function (query, fields) {\n        var dataChecks = !this.getValueByText(this.inputElement.value, this.ignoreCase);\n        var field = fields ? fields : this.fields;\n        if (this.allowCustomValue && dataChecks) {\n            var value = this.inputElement.value;\n            var customData = (!isNullOrUndefined(this.mainData) && this.mainData.length > 0) ?\n                this.mainData[0] : this.mainData;\n            if (customData && typeof (customData) !== 'string' && typeof (customData) !== 'number' && typeof (customData) !== 'boolean') {\n                var dataItem_1 = {};\n                setValue(field.text, value, dataItem_1);\n                if (typeof getValue((this.fields.value ? this.fields.value : 'value'), customData)\n                    === 'number') {\n                    setValue(field.value, Math.random(), dataItem_1);\n                }\n                else {\n                    setValue(field.value, value, dataItem_1);\n                }\n                var emptyObject_1 = {};\n                if (this.allowObjectBinding) {\n                    var keys = this.listData && this.listData.length > 0 ? Object.keys(this.listData[0]) : this.firstItem ? Object.keys(this.firstItem) : Object.keys(dataItem_1);\n                    // Create an empty object with predefined keys\n                    keys.forEach(function (key) {\n                        emptyObject_1[key] = ((key === fields.value) || (key === fields.text)) ? getValue(fields.value, dataItem_1) : null;\n                    });\n                }\n                dataItem_1 = this.allowObjectBinding ? emptyObject_1 : dataItem_1;\n                if (this.enableVirtualization) {\n                    this.virtualCustomData = dataItem_1;\n                    var tempData = this.virtualGroupDataSource ? JSON.parse(JSON.stringify(this.virtualGroupDataSource)) : JSON.parse(JSON.stringify(this.dataSource));\n                    var totalData = [];\n                    if (this.virtualCustomSelectData && this.virtualCustomSelectData.length > 0) {\n                        totalData = tempData.concat(this.virtualCustomSelectData);\n                    }\n                    tempData.splice(0, 0, dataItem_1);\n                    this.isCustomDataUpdated = true;\n                    this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n                    this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n                    this.resetList(tempData, field, query);\n                    this.isCustomDataUpdated = false;\n                }\n                else {\n                    var tempData = JSON.parse(JSON.stringify(this.listData));\n                    tempData.splice(0, 0, dataItem_1);\n                    this.resetList(tempData, field, query);\n                }\n            }\n            else if (this.listData) {\n                var tempData = JSON.parse(JSON.stringify(this.listData));\n                tempData.splice(0, 0, this.inputElement.value);\n                tempData[0] = (typeof customData === 'number' && !isNaN(parseFloat(tempData[0]))) ?\n                    parseFloat(tempData[0]) : tempData[0];\n                tempData[0] = (typeof customData === 'boolean') ?\n                    (tempData[0] === 'true' ? true : (tempData[0] === 'false' ? false : tempData[0])) : tempData[0];\n                this.resetList(tempData, field);\n            }\n        }\n        else if (this.listData && this.mainData && !dataChecks && this.allowCustomValue) {\n            if (this.allowFiltering && this.isRemoteSelection && this.remoteCustomValue) {\n                this.isRemoteSelection = false;\n                this.resetList(this.listData, field, query);\n            }\n            else if (!this.allowFiltering && this.list) {\n                var liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                if (activeElement && activeElement.item !== null) {\n                    this.addListFocus(activeElement.item);\n                }\n            }\n        }\n        if (this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.getNgDirective = function () {\n        return 'EJS-MULTISELECT';\n    };\n    MultiSelect.prototype.wrapperClick = function (e) {\n        this.setDynValue = false;\n        this.keyboardEvent = null;\n        this.isKeyBoardAction = false;\n        if (!this.enabled) {\n            return;\n        }\n        if (e.target === this.overAllClear) {\n            e.preventDefault();\n            return;\n        }\n        if (!this.inputFocus) {\n            this.inputElement.focus();\n        }\n        if (!this.readonly) {\n            if (e.target && e.target.classList.toString().indexOf(CHIP_CLOSE) !== -1) {\n                if (this.isPopupOpen()) {\n                    this.refreshPopup();\n                }\n                return;\n            }\n            if (!this.isPopupOpen() &&\n                (this.openOnClick || (this.showDropDownIcon && e.target && e.target.className === dropdownIcon))) {\n                this.showPopup(e);\n            }\n            else {\n                this.hidePopup(e);\n                if (this.mode === 'CheckBox') {\n                    this.showOverAllClear();\n                    this.inputFocus = true;\n                    if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                        this.overAllWrapper.classList.add(FOCUS);\n                    }\n                }\n            }\n        }\n        if (!(this.targetElement() && this.targetElement() !== '')) {\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.enable = function (state) {\n        if (state) {\n            this.overAllWrapper.classList.remove(DISABLED);\n            this.inputElement.removeAttribute('disabled');\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.ensureAriaDisabled('false');\n        }\n        else {\n            this.overAllWrapper.classList.add(DISABLED);\n            this.inputElement.setAttribute('disabled', 'true');\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.ensureAriaDisabled('true');\n        }\n        if (this.enabled !== state) {\n            this.enabled = state;\n        }\n        this.hidePopup();\n    };\n    MultiSelect.prototype.onBlurHandler = function (eve, isDocClickFromCheck) {\n        var target;\n        if (!isNullOrUndefined(eve)) {\n            target = eve.relatedTarget;\n        }\n        if (this.popupObj && document.body.contains(this.popupObj.element) && this.popupObj.element.contains(target)) {\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n            else if ((this.floatLabelType === 'Auto' &&\n                ((this.overAllWrapper.classList.contains('e-outline')) || (this.overAllWrapper.classList.contains('e-filled'))))) {\n                addClass([this.overAllWrapper], 'e-valid-input');\n            }\n            return;\n        }\n        if (this.floatLabelType === 'Auto' && (this.overAllWrapper.classList.contains('e-outline')) && this.mode === 'CheckBox' &&\n            ((isNullOrUndefined(this.value)) || this.value.length === 0)) {\n            removeClass([this.overAllWrapper], 'e-valid-input');\n        }\n        if (this.mode === 'CheckBox' && Browser.isIE && !isNullOrUndefined(eve) && !isDocClickFromCheck) {\n            this.inputFocus = false;\n            this.overAllWrapper.classList.remove(FOCUS);\n            return;\n        }\n        if (this.scrollFocusStatus) {\n            if (!isNullOrUndefined(eve)) {\n                eve.preventDefault();\n            }\n            this.inputElement.focus();\n            this.scrollFocusStatus = false;\n            return;\n        }\n        this.inputFocus = false;\n        this.overAllWrapper.classList.remove(FOCUS);\n        if (this.addTagOnBlur) {\n            var dataChecks = this.getValueByText(this.inputElement.value, this.ignoreCase, this.ignoreAccent);\n            var listLiElement = this.findListElement(this.list, 'li', 'data-value', dataChecks);\n            var className = this.hideSelectedItem ? HIDE_LIST : dropDownBaseClasses.selected;\n            var allowChipAddition = (listLiElement && !listLiElement.classList.contains(className)) ? true : false;\n            if (allowChipAddition) {\n                this.updateListSelection(listLiElement, eve);\n                if (this.mode === 'Delimiter') {\n                    this.updateDelimeter(this.delimiterChar);\n                }\n            }\n        }\n        this.updateDataList();\n        if (this.resetMainList) {\n            this.mainList = this.resetMainList;\n            this.resetMainList = null;\n        }\n        this.refreshListItems(null);\n        if (this.mode !== 'Box' && this.mode !== 'CheckBox') {\n            this.updateDelimView();\n        }\n        if (this.changeOnBlur) {\n            this.updateValueState(eve, this.value, this.tempValues);\n            this.dispatchEvent(this.hiddenElement, 'change');\n        }\n        this.overAllClear.style.display = 'none';\n        if (this.isPopupOpen()) {\n            this.hidePopup(eve);\n        }\n        this.makeTextBoxEmpty();\n        this.trigger('blur');\n        this.focused = true;\n        if (Browser.isDevice && this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.removeChipFocus();\n        }\n        this.removeChipSelection();\n        this.refreshInputHight();\n        floatLabelBlur(this.overAllWrapper, this.componentWrapper, this.value, this.floatLabelType, this.placeholder);\n        this.refreshPlaceHolder();\n        if ((this.allowFiltering || (this.enableSelectionOrder === true && this.mode === 'CheckBox'))\n            && !isNullOrUndefined(this.mainList)) {\n            this.ulElement = this.mainList;\n        }\n        this.checkPlaceholderSize();\n        Input.createSpanElement(this.overAllWrapper, this.createElement);\n        this.calculateWidth();\n        if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n    };\n    MultiSelect.prototype.calculateWidth = function () {\n        var elementWidth;\n        if (this.overAllWrapper) {\n            if (!this.showDropDownIcon || this.overAllWrapper.querySelector('.' + 'e-label-top')) {\n                elementWidth = this.overAllWrapper.clientWidth - 2 * (parseInt(getComputedStyle(this.inputElement).paddingRight));\n            }\n            else {\n                var downIconWidth = this.dropIcon.offsetWidth +\n                    parseInt(getComputedStyle(this.dropIcon).marginRight);\n                elementWidth = this.overAllWrapper.clientWidth - (downIconWidth + 2 * (parseInt(getComputedStyle(this.inputElement).paddingRight)));\n            }\n            if (this.floatLabelType === 'Auto') {\n                Input.calculateWidth(elementWidth, this.overAllWrapper, this.getModuleName());\n            }\n        }\n    };\n    MultiSelect.prototype.checkPlaceholderSize = function () {\n        if (this.showDropDownIcon) {\n            var downIconWidth = this.dropIcon.offsetWidth +\n                parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            this.setPlaceholderSize(downIconWidth);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.setPlaceholderSize(this.showDropDownIcon ? this.dropIcon.offsetWidth : 0);\n            }\n        }\n    };\n    MultiSelect.prototype.setPlaceholderSize = function (downIconWidth) {\n        if (isNullOrUndefined(this.value) || this.value.length === 0) {\n            if (this.dropIcon.offsetWidth !== 0) {\n                this.searchWrapper.style.width = ('calc(100% - ' + (downIconWidth + 10)) + 'px';\n            }\n            else {\n                addClass([this.searchWrapper], CUSTOM_WIDTH);\n            }\n        }\n        else if (!isNullOrUndefined(this.value)) {\n            this.searchWrapper.removeAttribute('style');\n            removeClass([this.searchWrapper], CUSTOM_WIDTH);\n        }\n    };\n    MultiSelect.prototype.refreshInputHight = function () {\n        if (!isNullOrUndefined(this.searchWrapper)) {\n            if ((!this.value || !this.value.length) && (isNullOrUndefined(this.text) || this.text === '')) {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            else {\n                this.searchWrapper.classList.add(ZERO_SIZE);\n            }\n        }\n    };\n    MultiSelect.prototype.validateValues = function (newValue, oldValue) {\n        return JSON.stringify(newValue.slice().sort()) !== JSON.stringify(oldValue.slice().sort());\n    };\n    MultiSelect.prototype.updateValueState = function (event, newVal, oldVal) {\n        var newValue = newVal ? newVal : [];\n        var oldValue = oldVal ? oldVal : [];\n        if (this.initStatus && this.validateValues(newValue, oldValue)) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.allowObjectBinding ? oldVal : oldVal,\n                value: this.allowObjectBinding ? newVal : newVal,\n                isInteracted: event ? true : false,\n                element: this.element,\n                event: event\n            };\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', eventArgs);\n            }\n            this.updateTempValue();\n            if (!this.changeOnBlur) {\n                this.dispatchEvent(this.hiddenElement, 'change');\n            }\n        }\n        this.selectedValueInfo = this.viewPortInfo;\n    };\n    MultiSelect.prototype.updateTempValue = function () {\n        if (!this.value) {\n            this.tempValues = this.value;\n        }\n        else {\n            this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n        }\n    };\n    MultiSelect.prototype.updateAriaActiveDescendant = function () {\n        if (!isNullOrUndefined(this.ulElement) && !isNullOrUndefined(this.ulElement.getElementsByClassName('e-item-focus')[0])) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.ulElement.getElementsByClassName('e-item-focus')[0].id });\n        }\n    };\n    MultiSelect.prototype.pageUpSelection = function (steps, isVirtualKeyAction) {\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem = steps >= 0 ? collection[steps + 1] : collection[0];\n        if (this.enableVirtualization && isVirtualKeyAction) {\n            previousItem = steps >= 0 && this.viewPortInfo.startIndex != 0 ? this.liCollections[steps + this.skeletonCount + 1] : this.liCollections[this.skeletonCount];\n        }\n        if (!isNullOrUndefined(previousItem) && previousItem.classList.contains('e-virtual-list')) {\n            previousItem = this.liCollections[this.skeletonCount];\n        }\n        if (this.enableVirtualization) {\n            if (!isNullOrUndefined(previousItem) && !previousItem.classList.contains('e-item-focus')) {\n                this.addListFocus(previousItem);\n                this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n            }\n            else if (this.viewPortInfo.startIndex == 0) {\n                this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n            }\n        }\n        else {\n            this.addListFocus(previousItem);\n            this.scrollTop(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), this.keyboardEvent.keyCode);\n        }\n    };\n    MultiSelect.prototype.pageDownSelection = function (steps, isVirtualKeyAction) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var list = this.getItems();\n        var collection = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        var previousItem = steps <= collection.length ? collection[steps - 1] : collection[collection.length - 1];\n        if (this.enableVirtualization && this.skeletonCount > 0) {\n            previousItem = steps < list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        if (this.enableVirtualization && isVirtualKeyAction) {\n            previousItem = steps <= list.length ? this.liCollections[steps] : this.liCollections[list.length - 1];\n        }\n        this.addListFocus(previousItem);\n        this.scrollBottom(previousItem, this.getIndexByValue(previousItem.getAttribute('data-value')), false, this.keyboardEvent.keyCode);\n    };\n    MultiSelect.prototype.getItems = function () {\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        return this.ulElement && this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li).length > 0 ?\n            this.ulElement.querySelectorAll('.' + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')') : [];\n    };\n    MultiSelect.prototype.focusInHandler = function (e) {\n        var _this = this;\n        if (this.enabled) {\n            this.showOverAllClear();\n            this.inputFocus = true;\n            if (this.value && this.value.length) {\n                if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                    this.chipCollectionWrapper.style.display = '';\n                }\n                else {\n                    this.showDelimWrapper();\n                }\n                if (this.mode !== 'CheckBox') {\n                    this.viewWrapper.style.display = 'none';\n                }\n            }\n            if (this.mode !== 'CheckBox') {\n                this.searchWrapper.classList.remove(ZERO_SIZE);\n            }\n            this.checkPlaceholderSize();\n            if (this.focused) {\n                var args = { isInteracted: e ? true : false, event: e };\n                this.trigger('focus', args);\n                this.focused = false;\n            }\n            if (!this.overAllWrapper.classList.contains(FOCUS)) {\n                this.overAllWrapper.classList.add(FOCUS);\n            }\n            floatLabelFocus(this.overAllWrapper, this.componentWrapper);\n            if (this.isPopupOpen()) {\n                this.refreshPopup();\n            }\n            setTimeout(function () {\n                _this.calculateWidth();\n            }, 150);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    MultiSelect.prototype.showDelimWrapper = function () {\n        if (this.mode === 'CheckBox') {\n            this.viewWrapper.style.display = '';\n        }\n        else {\n            this.delimiterWrapper.style.display = '';\n        }\n        this.componentWrapper.classList.add(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.hideDelimWrapper = function () {\n        this.delimiterWrapper.style.display = 'none';\n        this.componentWrapper.classList.remove(DELIMITER_VIEW_WRAPPER);\n    };\n    MultiSelect.prototype.expandTextbox = function () {\n        var size = 5;\n        if (this.placeholder) {\n            size = size > this.inputElement.placeholder.length ? size : this.inputElement.placeholder.length;\n        }\n        if (this.inputElement.value.length > size) {\n            this.inputElement.size = this.inputElement.value.length;\n        }\n        else {\n            this.inputElement.size = size;\n        }\n    };\n    MultiSelect.prototype.isPopupOpen = function () {\n        return ((this.popupWrapper !== null) && (this.popupWrapper.parentElement !== null));\n    };\n    MultiSelect.prototype.refreshPopup = function () {\n        if (this.popupObj && this.mobFilter) {\n            this.popupObj.setProperties({ width: this.calcPopupWidth() });\n            this.popupObj.refreshPosition(this.overAllWrapper);\n            this.popupObj.resolveCollision();\n        }\n    };\n    MultiSelect.prototype.checkTextLength = function () {\n        return this.targetElement().length < 1;\n    };\n    MultiSelect.prototype.popupKeyActions = function (e) {\n        switch (e.keyCode) {\n            case 38:\n                this.hidePopup(e);\n                if (this.mode === 'CheckBox') {\n                    this.inputElement.focus();\n                }\n                e.preventDefault();\n                break;\n            case 40:\n                if (!this.isPopupOpen()) {\n                    this.showPopup(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    MultiSelect.prototype.updateAriaAttribute = function () {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(focusedItem)) {\n            this.inputElement.setAttribute('aria-activedescendant', focusedItem.id);\n            if (this.allowFiltering) {\n                var filterInput = this.popupWrapper.querySelector('.' + FILTERINPUT);\n                filterInput && filterInput.setAttribute('aria-activedescendant', focusedItem.id);\n            }\n            else if (this.mode == \"CheckBox\") {\n                this.overAllWrapper.setAttribute('aria-activedescendant', focusedItem.id);\n            }\n        }\n    };\n    MultiSelect.prototype.homeNavigation = function (isHome, isVirtualKeyAction) {\n        this.removeFocus();\n        if (this.enableVirtualization) {\n            if (isHome) {\n                if (this.enableVirtualization && this.viewPortInfo.startIndex !== 0) {\n                    this.viewPortInfo.startIndex = 0;\n                    this.viewPortInfo.endIndex = this.itemCount;\n                    this.updateVirtualItemIndex();\n                    this.resetList(this.dataSource, this.fields, this.query);\n                }\n            }\n            else {\n                if (this.enableVirtualization && ((!this.value && this.viewPortInfo.endIndex !== this.totalItemCount) || (this.value && this.value.length > 0 && this.viewPortInfo.endIndex !== this.totalItemCount + this.value.length))) {\n                    this.viewPortInfo.startIndex = this.totalItemCount - this.itemCount;\n                    this.viewPortInfo.endIndex = this.totalItemCount;\n                    this.updateVirtualItemIndex();\n                    var query = new Query().clone();\n                    if (this.value && this.value.length > 0) {\n                        query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.totalItemCount - this.itemCount);\n                    }\n                    this.resetList(this.dataSource, this.fields, query);\n                }\n            }\n        }\n        this.UpdateSkeleton();\n        var scrollEle = this.ulElement.querySelectorAll('li.' + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (scrollEle.length > 0) {\n            var element = scrollEle[(isHome) ? 0 : (scrollEle.length - 1)];\n            if (this.enableVirtualization && isHome) {\n                element = scrollEle[this.skeletonCount];\n            }\n            this.removeFocus();\n            element.classList.add(dropDownBaseClasses.focus);\n            if (this.enableVirtualization && isHome) {\n                this.scrollTop(element, undefined, this.keyboardEvent.keyCode);\n            }\n            else if (!isVirtualKeyAction) {\n                this.scrollBottom(element, undefined, false, this.keyboardEvent.keyCode);\n            }\n            this.updateAriaActiveDescendant();\n        }\n    };\n    MultiSelect.prototype.updateSelectionList = function () {\n        if (!isNullOrUndefined(this.value) && this.value.length) {\n            for (var index = 0; index < this.value.length; index++) {\n                var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n                var selectedItem = this.getElementByValue(value);\n                if (selectedItem && !selectedItem.classList.contains(dropDownBaseClasses.selected)) {\n                    selectedItem.classList.add('e-active');\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.handleVirtualKeyboardActions = function (e, pageCount) {\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        var activeIndex;\n        this.isKeyBoardAction = true;\n        switch (e.keyCode) {\n            case 40:\n                this.arrowDown(e, true);\n                break;\n            case 38:\n                this.arrowUp(e, true);\n                break;\n            case 33:\n                e.preventDefault();\n                if (focusedItem) {\n                    var count = (this.getPageCount() * 2) - 4;\n                    activeIndex = Math.round(count);\n                    activeIndex = this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                    this.pageUpSelection(activeIndex - this.getPageCount(), true);\n                    this.updateAriaAttribute();\n                }\n                break;\n            case 34:\n                e.preventDefault();\n                if (focusedItem) {\n                    activeIndex = this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                    this.pageDownSelection(activeIndex + this.getPageCount() + 1, true);\n                    this.updateAriaAttribute();\n                }\n                break;\n            case 35:\n            case 36:\n                this.isMouseScrollAction = true;\n                this.homeNavigation((e.keyCode === 36) ? true : false, true);\n                this.isPreventScrollAction = true;\n                break;\n        }\n        this.keyboardEvent = null;\n        this.isScrollChanged = true;\n        this.isKeyBoardAction = false;\n    };\n    MultiSelect.prototype.onKeyDown = function (e) {\n        if (this.readonly || !this.enabled && this.mode !== 'CheckBox') {\n            return;\n        }\n        this.preventSetCurrentData = false;\n        this.keyboardEvent = e;\n        if (this.isPreventKeyAction && this.enableVirtualization) {\n            e.preventDefault();\n        }\n        this.keyCode = e.keyCode;\n        this.keyDownStatus = true;\n        if (e.keyCode > 111 && e.keyCode < 124) {\n            return;\n        }\n        if (e.altKey) {\n            this.popupKeyActions(e);\n            return;\n        }\n        else if (this.isPopupOpen()) {\n            var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n            var activeIndex = void 0;\n            this.isKeyBoardAction = true;\n            switch (e.keyCode) {\n                case 36:\n                case 35:\n                    this.isMouseScrollAction = true;\n                    this.homeNavigation((e.keyCode === 36) ? true : false);\n                    break;\n                case 33:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        activeIndex = this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageUpSelection(activeIndex - this.getPageCount() - 1);\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 34:\n                    e.preventDefault();\n                    if (focusedItem) {\n                        this.getIndexByValue(focusedItem.getAttribute('data-value'));\n                        this.pageDownSelection(activeIndex + this.getPageCount());\n                        this.updateAriaAttribute();\n                    }\n                    return;\n                case 38:\n                    this.arrowUp(e);\n                    break;\n                case 40:\n                    this.arrowDown(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.hidePopup(e);\n                    if (this.mode === 'CheckBox') {\n                        this.inputElement.focus();\n                    }\n                    return;\n                case 13:\n                    e.preventDefault();\n                    if (this.mode !== 'CheckBox') {\n                        this.selectByKey(e);\n                    }\n                    this.checkPlaceholderSize();\n                    return;\n                case 32:\n                    this.spaceKeySelection(e);\n                    return;\n                case 9:\n                    e.preventDefault();\n                    this.hidePopup(e);\n                    this.inputElement.focus();\n                    this.overAllWrapper.classList.add(FOCUS);\n            }\n        }\n        else {\n            switch (e.keyCode) {\n                case 13:\n                case 9:\n                case 16:\n                case 17:\n                case 20:\n                    return;\n                case 40:\n                    if (this.openOnClick) {\n                        this.showPopup();\n                    }\n                    break;\n                case 27:\n                    e.preventDefault();\n                    this.escapeAction();\n                    return;\n            }\n        }\n        if (this.checkTextLength()) {\n            this.keyNavigation(e);\n        }\n        if (this.mode === 'CheckBox' && this.enableSelectionOrder) {\n            if (this.allowFiltering) {\n                this.previousFilterText = this.targetElement();\n            }\n            this.checkBackCommand(e);\n        }\n        this.expandTextbox();\n        if (!(this.mode === 'CheckBox' && this.showSelectAll)) {\n            this.refreshPopup();\n        }\n        this.isKeyBoardAction = false;\n    };\n    MultiSelect.prototype.arrowDown = function (e, isVirtualKeyAction) {\n        e.preventDefault();\n        this.moveByList(1, isVirtualKeyAction);\n        this.keyAction = true;\n        if (document.activeElement.classList.contains(FILTERINPUT)\n            || (this.mode === 'CheckBox' && !this.allowFiltering && document.activeElement !== this.list)) {\n            EventHandler.add(this.list, 'keydown', this.onKeyDown, this);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.arrowUp = function (e, isVirtualKeyAction) {\n        e.preventDefault();\n        this.keyAction = true;\n        var list = this.list.querySelectorAll('li.'\n            + dropDownBaseClasses.li\n            + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            list = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n        }\n        var focuseElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        this.focusFirstListItem = !isNullOrUndefined(this.liCollections[0]) ? this.liCollections[0].classList.contains('e-item-focus') : false;\n        var index = Array.prototype.slice.call(list).indexOf(focuseElem);\n        if (index <= 0 && (this.mode === 'CheckBox' && this.allowFiltering)) {\n            this.keyAction = false;\n            this.notify('inputFocus', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'focus' });\n        }\n        this.moveByList(-1, isVirtualKeyAction);\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.spaceKeySelection = function (e) {\n        if (this.mode === 'CheckBox') {\n            var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n            if (!isNullOrUndefined(li) || (selectAllParent && selectAllParent.classList.contains('e-item-focus'))) {\n                e.preventDefault();\n                this.keyAction = true;\n            }\n            this.selectByKey(e);\n            if (this.keyAction) {\n                var li_1 = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n                if (!isNullOrUndefined(li_1) && selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                    li_1.classList.remove('e-item-focus');\n                }\n            }\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.checkBackCommand = function (e) {\n        if (e.keyCode === 8 && this.allowFiltering ? this.targetElement() !== this.previousFilterText : this.targetElement() === '') {\n            this.backCommand = false;\n        }\n        else {\n            this.backCommand = true;\n        }\n    };\n    MultiSelect.prototype.keyNavigation = function (e) {\n        if ((this.mode !== 'Delimiter' && this.mode !== 'CheckBox') && this.value && this.value.length) {\n            switch (e.keyCode) {\n                case 37: //left arrow\n                    e.preventDefault();\n                    this.moveBy(-1, e);\n                    break;\n                case 39: //right arrow\n                    e.preventDefault();\n                    this.moveBy(1, e);\n                    break;\n                case 8:\n                    this.removelastSelection(e);\n                    break;\n                case 46: //del\n                    this.removeSelectedChip(e);\n                    break;\n            }\n        }\n        else if (e.keyCode === 8 && this.mode === 'Delimiter') {\n            if (this.value && this.value.length) {\n                e.preventDefault();\n                var temp = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                this.removeValue(this.value[this.value.length - 1], e);\n                this.updateDelimeter(this.delimiterChar, e);\n                this.focusAtLastListItem(temp);\n            }\n        }\n    };\n    MultiSelect.prototype.selectByKey = function (e) {\n        this.removeChipSelection();\n        this.selectListByKey(e);\n        if (this.hideSelectedItem) {\n            this.focusAtFirstListItem();\n        }\n    };\n    MultiSelect.prototype.escapeAction = function () {\n        var temp = this.tempValues ? this.tempValues.slice() : [];\n        if (this.allowObjectBinding) {\n            temp = this.tempValues ? this.tempValues.slice() : [];\n        }\n        if (this.value && this.validateValues(this.value, temp)) {\n            if (this.mode !== 'CheckBox') {\n                this.value = temp;\n                this.initialValueUpdate();\n            }\n            if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else {\n                this.showDelimWrapper();\n            }\n            this.refreshPlaceHolder();\n            if (this.value.length) {\n                this.showOverAllClear();\n            }\n            else {\n                this.hideOverAllClear();\n            }\n        }\n        this.makeTextBoxEmpty();\n    };\n    MultiSelect.prototype.scrollBottom = function (selectedLI, activeIndex, isInitialSelection, keyCode) {\n        if (isInitialSelection === void 0) { isInitialSelection = false; }\n        if (keyCode === void 0) { keyCode = null; }\n        if ((!isNullOrUndefined(selectedLI) && selectedLI.classList.contains('e-virtual-list')) || (this.enableVirtualization && isNullOrUndefined(selectedLI))) {\n            selectedLI = this.liCollections[this.skeletonCount];\n        }\n        this.isUpwardScrolling = false;\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var lastElementValue = this.list.querySelector('li:last-of-type') ? this.list.querySelector('li:last-of-type').getAttribute('data-value') : null;\n        var selectedLiOffsetTop = this.virtualListInfo && this.virtualListInfo.startIndex ? selectedLI.offsetTop + (this.virtualListInfo.startIndex * selectedLI.offsetHeight) : selectedLI.offsetTop;\n        var currentOffset = this.list.offsetHeight;\n        var nextBottom = selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) + selectedLI.offsetHeight - this.list.scrollTop;\n        var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n        var isScrollerCHanged = false;\n        var isScrollTopChanged = false;\n        var boxRange = selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) + selectedLI.offsetHeight - this.list.scrollTop;\n        boxRange = this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n            boxRange - this.fixedHeaderElement.offsetHeight : boxRange;\n        if (activeIndex === 0 && !this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            var currentElementValue = selectedLI ? selectedLI.getAttribute('data-value') : null;\n            var liCount = keyCode == 34 ? this.getPageCount() - 1 : 1;\n            if (!this.enableVirtualization || this.isKeyBoardAction || isInitialSelection) {\n                if (this.isKeyBoardAction && this.enableVirtualization && lastElementValue && currentElementValue === lastElementValue && keyCode != 35 && !this.isVirtualScrolling) {\n                    this.isPreventKeyAction = true;\n                    this.list.scrollTop += selectedLI.offsetHeight * liCount;\n                    this.isPreventKeyAction = this.IsScrollerAtEnd() ? false : this.isPreventKeyAction;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                }\n                else if (this.enableVirtualization && keyCode == 35) {\n                    this.isPreventKeyAction = false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                    this.list.scrollTop = this.list.scrollHeight;\n                }\n                else {\n                    if (keyCode == 34 && this.enableVirtualization && !this.isVirtualScrolling) {\n                        this.isPreventKeyAction = false;\n                        this.isKeyBoardAction = false;\n                        this.isPreventScrollAction = false;\n                        nextOffset = nextOffset + (selectedLI.offsetHeight * liCount);\n                    }\n                    this.list.scrollTop = nextOffset;\n                }\n            }\n            else {\n                this.list.scrollTop = this.virtualListInfo && this.virtualListInfo.startIndex ? this.virtualListInfo.startIndex * this.listItemHeight : 0;\n            }\n            isScrollerCHanged = this.isKeyBoardAction;\n            isScrollTopChanged = true;\n        }\n        this.isKeyBoardAction = isScrollerCHanged;\n    };\n    MultiSelect.prototype.scrollTop = function (selectedLI, activeIndex, keyCode) {\n        if (keyCode === void 0) { keyCode = null; }\n        var virtualListCount = this.list.querySelectorAll('.e-virtual-list').length;\n        var selectedLiOffsetTop = (this.virtualListInfo && this.virtualListInfo.startIndex) ? selectedLI.offsetTop + (this.virtualListInfo.startIndex * selectedLI.offsetHeight) : selectedLI.offsetTop;\n        var nextOffset = selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) - this.list.scrollTop;\n        var firstElementValue = this.list.querySelector('li.e-list-item:not(.e-virtual-list)') ? this.list.querySelector('li.e-list-item:not(.e-virtual-list)').getAttribute('data-value') : null;\n        nextOffset = this.fields.groupBy && !isUndefined(this.fixedHeaderElement) ?\n            nextOffset - this.fixedHeaderElement.offsetHeight : nextOffset;\n        var boxRange = (selectedLiOffsetTop - (virtualListCount * selectedLI.offsetHeight) + selectedLI.offsetHeight - this.list.scrollTop);\n        var isPageUpKeyAction = this.enableVirtualization && this.getModuleName() === 'autocomplete' && nextOffset <= 0;\n        if (activeIndex === 0 && !this.enableVirtualization) {\n            this.list.scrollTop = 0;\n        }\n        else if (nextOffset < 0 || isPageUpKeyAction) {\n            var currentElementValue = selectedLI ? selectedLI.getAttribute('data-value') : null;\n            var liCount = keyCode == 33 ? this.getPageCount() - 2 : 1;\n            if (this.enableVirtualization && this.isKeyBoardAction && firstElementValue && currentElementValue === firstElementValue && keyCode != 36 && !this.isVirtualScrolling) {\n                this.isUpwardScrolling = true;\n                this.isPreventKeyAction = true;\n                this.list.scrollTop -= selectedLI.offsetHeight * liCount;\n                this.isPreventKeyAction = this.list.scrollTop != 0 ? this.isPreventKeyAction : false;\n                this.isKeyBoardAction = false;\n                this.isPreventScrollAction = false;\n            }\n            else if (this.enableVirtualization && keyCode == 36) {\n                this.isPreventScrollAction = false;\n                this.isPreventKeyAction = true;\n                this.isKeyBoardAction = false;\n                this.list.scrollTo(0, 0);\n            }\n            else {\n                if (keyCode == 33 && this.enableVirtualization && !this.isVirtualScrolling) {\n                    this.isPreventKeyAction = false;\n                    this.isKeyBoardAction = false;\n                    this.isPreventScrollAction = false;\n                    nextOffset = nextOffset - (selectedLI.offsetHeight * liCount);\n                }\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n        }\n        else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n            this.list.scrollTop = selectedLI.offsetTop - (this.fields.groupBy && !isNullOrUndefined(this.fixedHeaderElement) ?\n                this.fixedHeaderElement.offsetHeight : 0);\n        }\n    };\n    MultiSelect.prototype.selectListByKey = function (e) {\n        var li = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var target;\n        if (li !== null) {\n            e.preventDefault();\n            if (li.classList.contains('e-active')) {\n                limit = limit - 1;\n            }\n            if (this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                this.updateListSelection(li, e);\n                this.addListFocus(li);\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    this.updateDelimeter(this.delimiterChar, e);\n                    this.refreshInputHight();\n                    this.checkPlaceholderSize();\n                    if (this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                        target = li.firstElementChild.lastElementChild;\n                        this.findGroupStart(target);\n                        this.deselectHeader();\n                    }\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.makeTextBoxEmpty();\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(li.textContent);\n                }\n                if (!this.changeOnBlur) {\n                    this.updateValueState(e, this.value, this.tempValues);\n                }\n                this.refreshPopup();\n            }\n            else {\n                if (!this.isValidLI(li) && limit < this.maximumSelectionLength) {\n                    target = li.firstElementChild.lastElementChild;\n                    if (target.classList.contains('e-check')) {\n                        this.selectAllItem(false, e, li);\n                    }\n                    else {\n                        this.selectAllItem(true, e, li);\n                    }\n                }\n            }\n            this.refreshSelection();\n            if (this.closePopupOnSelect) {\n                this.hidePopup(e);\n            }\n        }\n        var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n        if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n            var selectAllCheckBox = selectAllParent.childNodes[0];\n            if (!selectAllCheckBox.classList.contains('e-check')) {\n                selectAllCheckBox.classList.add('e-check');\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: 'check',\n                    name: 'checkSelectAll'\n                };\n                this.notify('checkSelectAll', args);\n                this.selectAllItem(true, e, li);\n            }\n            else {\n                selectAllCheckBox.classList.remove('e-check');\n                var args = {\n                    module: 'CheckBoxSelection',\n                    enable: this.mode === 'CheckBox',\n                    value: 'check',\n                    name: 'checkSelectAll'\n                };\n                this.notify('checkSelectAll', args);\n                this.selectAllItem(false, e, li);\n            }\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshListItems = function (data) {\n        if ((this.allowFiltering || (this.mode === 'CheckBox' && this.enableSelectionOrder === true)\n            || this.allowCustomValue) && this.mainList && this.listData) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (this.enableVirtualization) {\n                if (this.allowCustomValue && this.virtualCustomData && data == null && this.virtualCustomData && this.viewPortInfo && this.viewPortInfo.startIndex === 0 && this.viewPortInfo.endIndex === this.itemCount) {\n                    this.virtualCustomData = null;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.renderItems(this.mainData, this.fields);\n                }\n                else {\n                    this.onActionComplete(this.list, this.listData);\n                }\n            }\n            else {\n                this.onActionComplete(list, this.mainData);\n            }\n            this.focusAtLastListItem(data);\n            if (this.value && this.value.length) {\n                this.refreshSelection();\n            }\n        }\n        else if (!isNullOrUndefined(this.fields.groupBy) && this.value && this.value.length) {\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.removeSelectedChip = function (e) {\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        var temp;\n        if (selectedElem !== null) {\n            if (!isNullOrUndefined(this.value)) {\n                this.tempValues = this.allowObjectBinding ? this.value.slice() : this.value.slice();\n            }\n            temp = selectedElem.nextElementSibling;\n            if (temp !== null) {\n                this.removeChipSelection();\n                this.addChipSelection(temp, e);\n            }\n            var currentChip = this.allowObjectBinding ? this.getDataByValue(selectedElem.getAttribute('data-value')) : selectedElem.getAttribute('data-value');\n            this.removeValue(currentChip, e);\n            this.makeTextBoxEmpty();\n        }\n        if (this.closePopupOnSelect) {\n            this.hidePopup(e);\n        }\n        this.checkPlaceholderSize();\n    };\n    MultiSelect.prototype.moveByTop = function (state) {\n        var elements = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        var index;\n        if (elements.length > 1) {\n            this.removeFocus();\n            index = state ? 0 : (elements.length - 1);\n            this.addListFocus(elements[index]);\n            this.scrollBottom(elements[index], index);\n        }\n        this.updateAriaAttribute();\n    };\n    MultiSelect.prototype.clickHandler = function (e) {\n        var targetElement = e.target;\n        var filterInputClassName = targetElement.className;\n        var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n        if ((filterInputClassName === 'e-input-filter e-input' || filterInputClassName === 'e-input-group e-control-wrapper e-input-focus') && selectAllParent.classList.contains('e-item-focus')) {\n            selectAllParent.classList.remove('e-item-focus');\n        }\n    };\n    MultiSelect.prototype.moveByList = function (position, isVirtualKeyAction) {\n        if (this.list) {\n            var elements = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li\n                + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n                elements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + ',li.' + dropDownBaseClasses.group\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)');\n            }\n            var selectedElem = this.list.querySelector('li.' + dropDownBaseClasses.focus);\n            if (this.enableVirtualization && isVirtualKeyAction && !isNullOrUndefined(this.currentFocuedListElement)) {\n                selectedElem = this.getElementByValue(this.getFormattedValue(this.currentFocuedListElement.getAttribute('data-value')));\n            }\n            var temp = -1;\n            var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n            if (this.mode === 'CheckBox' && this.showSelectAll && position == 1 && !isNullOrUndefined(selectAllParent) && !selectAllParent.classList.contains('e-item-focus') && this.list.getElementsByClassName('e-item-focus').length == 0 && this.liCollections.length > 1) {\n                if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n                    selectAllParent.classList.remove('e-item-focus');\n                }\n                else if (!selectAllParent.classList.contains('e-item-focus')) {\n                    selectAllParent.classList.add('e-item-focus');\n                }\n            }\n            else if (elements.length) {\n                if (this.mode === 'CheckBox' && this.showSelectAll && !isNullOrUndefined(selectAllParent && position == -1)) {\n                    if (!this.focusFirstListItem && selectAllParent.classList.contains('e-item-focus')) {\n                        selectAllParent.classList.remove('e-item-focus');\n                    }\n                    else if (this.focusFirstListItem && !selectAllParent.classList.contains('e-item-focus')) {\n                        selectAllParent.classList.add('e-item-focus');\n                    }\n                }\n                for (var index = 0; index < elements.length; index++) {\n                    if (elements[index] === selectedElem) {\n                        temp = index;\n                        break;\n                    }\n                }\n                if (position > 0) {\n                    if (temp < (elements.length - 1)) {\n                        this.removeFocus();\n                        if (this.enableVirtualization && isVirtualKeyAction) {\n                            this.addListFocus(elements[temp]);\n                        }\n                        else {\n                            this.addListFocus(elements[++temp]);\n                        }\n                        if (temp > -1) {\n                            this.updateCheck(elements[temp]);\n                            this.scrollBottom(elements[temp], temp);\n                            this.currentFocuedListElement = elements[temp];\n                        }\n                    }\n                }\n                else {\n                    if (temp > 0) {\n                        if (this.enableVirtualization) {\n                            var isVirtualElement = elements[temp - 1].classList.contains('e-virtual-list');\n                            var elementIndex = isVirtualKeyAction ? temp : temp - 1;\n                            if (isVirtualKeyAction || !isVirtualElement) {\n                                this.removeFocus();\n                            }\n                            if (isVirtualKeyAction || !isVirtualElement) {\n                                this.addListFocus(elements[elementIndex]);\n                                this.updateCheck(elements[elementIndex]);\n                                this.scrollTop(elements[elementIndex], temp);\n                                this.currentFocuedListElement = elements[elementIndex];\n                            }\n                        }\n                        else {\n                            this.removeFocus();\n                            this.addListFocus(elements[--temp]);\n                            this.updateCheck(elements[temp]);\n                            this.scrollTop(elements[temp], temp);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.getElementByValue = function (value) {\n        var item;\n        var listItems = this.getItems();\n        for (var _i = 0, listItems_1 = listItems; _i < listItems_1.length; _i++) {\n            var liItem = listItems_1[_i];\n            if (this.getFormattedValue(liItem.getAttribute('data-value')) === value) {\n                item = liItem;\n                break;\n            }\n        }\n        return item;\n    };\n    MultiSelect.prototype.updateCheck = function (element) {\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox &&\n            !isNullOrUndefined(this.fields.groupBy)) {\n            var checkElement = element.firstElementChild.lastElementChild;\n            if (checkElement.classList.contains('e-check')) {\n                element.classList.add('e-active');\n            }\n            else {\n                element.classList.remove('e-active');\n            }\n        }\n    };\n    MultiSelect.prototype.moveBy = function (position, e) {\n        var temp;\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP);\n        var selectedElem = this.chipCollectionWrapper.querySelector('span.' + CHIP_SELECTED);\n        if (selectedElem === null) {\n            if (position < 0) {\n                this.addChipSelection(elements[elements.length - 1], e);\n            }\n        }\n        else {\n            if (position < 0) {\n                temp = selectedElem.previousElementSibling;\n                if (temp !== null) {\n                    this.removeChipSelection();\n                    this.addChipSelection(temp, e);\n                }\n            }\n            else {\n                temp = selectedElem.nextElementSibling;\n                this.removeChipSelection();\n                if (temp !== null) {\n                    this.addChipSelection(temp, e);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.chipClick = function (e) {\n        if (this.enabled) {\n            var elem = closest(e.target, '.' + CHIP);\n            this.removeChipSelection();\n            this.addChipSelection(elem, e);\n        }\n    };\n    MultiSelect.prototype.removeChipSelection = function () {\n        if (this.chipCollectionWrapper) {\n            this.removeChipFocus();\n        }\n    };\n    MultiSelect.prototype.addChipSelection = function (element, e) {\n        addClass([element], CHIP_SELECTED);\n        this.trigger('chipSelection', e);\n    };\n    MultiSelect.prototype.onChipRemove = function (e) {\n        if (e.which === 3 || e.button === 2) {\n            return;\n        }\n        if (this.enabled && !this.readonly) {\n            var element = e.target.parentElement;\n            var customVal = element.getAttribute('data-value');\n            var value = this.allowObjectBinding ? this.getDataByValue(customVal) : this.getFormattedValue(customVal);\n            if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n                (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n                value = customVal;\n            }\n            if (this.isPopupOpen() && this.mode !== 'CheckBox') {\n                this.hidePopup(e);\n            }\n            if (!this.inputFocus) {\n                this.inputElement.focus();\n            }\n            this.removeValue(value, e);\n            value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n            if (isNullOrUndefined(this.findListElement(this.list, 'li', 'data-value', value)) && this.mainList && this.listData) {\n                var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                this.onActionComplete(list, this.mainData);\n            }\n            this.updateDelimeter(this.delimiterChar, e);\n            if (this.placeholder && this.floatLabelType === 'Never') {\n                this.makeTextBoxEmpty();\n                this.checkPlaceholderSize();\n            }\n            else {\n                this.inputElement.value = '';\n            }\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.makeTextBoxEmpty = function () {\n        this.inputElement.value = '';\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.refreshPlaceHolder = function () {\n        if (this.placeholder && this.floatLabelType === 'Never') {\n            if ((this.value && this.value.length) || (!isNullOrUndefined(this.text) && this.text !== '')) {\n                this.inputElement.placeholder = '';\n            }\n            else {\n                this.inputElement.placeholder = encodePlaceholder(this.placeholder);\n            }\n        }\n        else {\n            this.setFloatLabelType();\n        }\n        this.expandTextbox();\n    };\n    MultiSelect.prototype.removeAllItems = function (value, eve, isClearAll, element, mainElement) {\n        var index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) : this.value.indexOf(value);\n        var removeVal = this.value.slice(0);\n        removeVal.splice(index, 1);\n        this.setProperties({ value: [].concat([], removeVal) }, true);\n        element.setAttribute('aria-selected', 'false');\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        removeClass([element], className);\n        this.notify('activeList', {\n            module: 'CheckBoxSelection',\n            enable: this.mode === 'CheckBox', li: element,\n            e: this, index: index\n        });\n        this.invokeCheckboxSelection(element, eve, isClearAll);\n        var currentValue = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n        this.updateMainList(true, currentValue, mainElement);\n        this.updateChipStatus();\n    };\n    MultiSelect.prototype.invokeCheckboxSelection = function (element, eve, isClearAll) {\n        this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: eve });\n        this.updateAriaActiveDescendant();\n        if ((this.value && this.value.length !== this.mainData.length)\n            && (this.mode === 'CheckBox' && this.showSelectAll && !(this.isSelectAll || isClearAll))) {\n            this.notify('checkSelectAll', {\n                module: 'CheckBoxSelection',\n                enable: this.mode === 'CheckBox',\n                value: 'uncheck'\n            });\n        }\n    };\n    MultiSelect.prototype.removeValue = function (value, eve, length, isClearAll) {\n        var _this = this;\n        var index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) : this.value.indexOf(this.getFormattedValue(value));\n        if (index === -1 && this.allowCustomValue && !isNullOrUndefined(value)) {\n            index = this.allowObjectBinding ? this.indexOfObjectInArray(value, this.value) : this.value.indexOf(value.toString());\n        }\n        var targetEle = eve && eve.target;\n        isClearAll = (isClearAll || targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (index !== -1) {\n            var currentValue = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n            var element_1 = this.findListElement(this.list, 'li', 'data-value', currentValue);\n            var val_1 = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element_1,\n                itemData: val_1,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('removing', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    _this.removeIndex++;\n                }\n                else {\n                    _this.virtualSelectAll = false;\n                    var removeVal = _this.value.slice(0);\n                    if (_this.enableVirtualization && isClearAll) {\n                        removeVal = [];\n                    }\n                    removeVal.splice(index, 1);\n                    _this.setProperties({ value: [].concat([], removeVal) }, true);\n                    if (_this.enableVirtualization) {\n                        var currentText = index == 0 ? _this.text.replace(_this.text.split(_this.delimiterChar)[index] + _this.delimiterChar, '') : _this.text.replace(_this.delimiterChar + _this.text.split(_this.delimiterChar)[index], '');\n                        _this.setProperties({ text: currentText.toString() }, true);\n                    }\n                    if (element_1 !== null) {\n                        var currentValue_1 = _this.allowObjectBinding ? getValue(((_this.fields.value) ? _this.fields.value : ''), value) : value;\n                        var hideElement = _this.findListElement(_this.mainList, 'li', 'data-value', currentValue_1);\n                        element_1.setAttribute('aria-selected', 'false');\n                        removeClass([element_1], className);\n                        if (hideElement) {\n                            hideElement.setAttribute('aria-selected', 'false');\n                            removeClass([element_1, hideElement], className);\n                        }\n                        _this.notify('activeList', {\n                            module: 'CheckBoxSelection',\n                            enable: _this.mode === 'CheckBox', li: element_1,\n                            e: _this, index: index\n                        });\n                        _this.invokeCheckboxSelection(element_1, eve, isClearAll);\n                    }\n                    var currentValue_2 = _this.allowObjectBinding ? getValue(((_this.fields.value) ? _this.fields.value : ''), value) : value;\n                    if (_this.hideSelectedItem && _this.fields.groupBy && element_1) {\n                        _this.hideGroupItem(currentValue_2);\n                    }\n                    if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox' &&\n                        _this.isPopupOpen()) {\n                        _super.prototype.scrollStop.call(_this);\n                    }\n                    _this.updateMainList(true, currentValue_2);\n                    _this.removeChip(currentValue_2, isClearAll);\n                    _this.updateChipStatus();\n                    var limit = _this.value && _this.value.length ? _this.value.length : 0;\n                    if (limit < _this.maximumSelectionLength) {\n                        var collection = _this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                    _this.trigger('removed', eventArgs);\n                    var targetEle_1 = eve && eve.currentTarget;\n                    var isSelectAll = (targetEle_1 && targetEle_1.classList.contains('e-selectall-parent')) ? true : null;\n                    if (!_this.changeOnBlur && !isClearAll && (eve && length && !isSelectAll && _this.isSelectAllTarget)) {\n                        _this.updateValueState(eve, _this.value, _this.tempValues);\n                    }\n                    if (length) {\n                        _this.selectAllEventData.push(val_1);\n                        _this.selectAllEventEle.push(element_1);\n                    }\n                    if (length === 1) {\n                        if (!_this.changeOnBlur) {\n                            _this.updateValueState(eve, _this.value, _this.tempValues);\n                        }\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: false\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                        _this.selectAllEventEle = [];\n                    }\n                    if (isClearAll && (length === 1 || length === null)) {\n                        _this.clearAllCallback(eve, isClearAll);\n                    }\n                    if (_this.isPopupOpen() && element_1 && element_1.parentElement.classList.contains('e-reorder')) {\n                        if (_this.hideSelectedItem && _this.value && Array.isArray(_this.value) && _this.value.length > 0) {\n                            _this.totalItemsCount();\n                        }\n                        _this.notify(\"setCurrentViewDataAsync\", {\n                            module: \"VirtualScroll\",\n                        });\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.updateMainList = function (state, value, mainElement) {\n        if (this.allowFiltering || this.mode === 'CheckBox') {\n            var element2 = mainElement ? mainElement :\n                this.findListElement(this.mainList, 'li', 'data-value', value);\n            if (element2) {\n                if (state) {\n                    element2.setAttribute('aria-selected', 'false');\n                    removeClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        removeClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n                else {\n                    element2.setAttribute('aria-selected', 'true');\n                    addClass([element2], this.hideSelectedItem ?\n                        HIDE_LIST :\n                        dropDownBaseClasses.selected);\n                    if (this.mode === 'CheckBox') {\n                        addClass([element2.firstElementChild.lastElementChild], 'e-check');\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeChip = function (value, isClearAll) {\n        if (this.chipCollectionWrapper) {\n            if (this.enableVirtualization && isClearAll) {\n                var childElements = this.chipCollectionWrapper.querySelectorAll('.e-chips');\n            }\n            else {\n                var element = this.findListElement(this.chipCollectionWrapper, 'span', 'data-value', value);\n                if (element) {\n                    remove(element);\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.setWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.overAllWrapper.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.overAllWrapper.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    MultiSelect.prototype.updateChipStatus = function () {\n        if (this.value && this.value.length) {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                (this.chipCollectionWrapper.style.display = '');\n            }\n            if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n            this.showOverAllClear();\n        }\n        else {\n            if (!isNullOrUndefined(this.chipCollectionWrapper)) {\n                this.chipCollectionWrapper.style.display = 'none';\n            }\n            if (!isNullOrUndefined(this.delimiterWrapper)) {\n                (this.delimiterWrapper.style.display = 'none');\n            }\n            this.hideOverAllClear();\n        }\n    };\n    MultiSelect.prototype.indexOfObjectInArray = function (objectToFind, array) {\n        var _loop_1 = function (i) {\n            var item = array[i];\n            if (Object.keys(objectToFind).every(function (key) { return item.hasOwnProperty(key) && item[key] === objectToFind[key]; })) {\n                return { value: i };\n            }\n        };\n        for (var i = 0; i < array.length; i++) {\n            var state_1 = _loop_1(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return -1; // Return -1 if the object is not found\n    };\n    MultiSelect.prototype.addValue = function (value, text, eve) {\n        if (!this.value) {\n            this.value = [];\n        }\n        var currentValue = this.allowObjectBinding ? this.getDataByValue(value) : value;\n        if ((this.allowObjectBinding && !this.isObjectInArray(value, this.value)) || (!this.allowObjectBinding && this.value.indexOf(currentValue) < 0)) {\n            this.setProperties({ value: [].concat([], this.value, [currentValue]) }, true);\n            if (this.enableVirtualization) {\n                var data = this.viewWrapper.innerHTML;\n                var temp = void 0;\n                data += (this.value.length === 1) ? '' : this.delimiterChar + ' ';\n                temp = this.getOverflowVal(this.value.length - 1);\n                data += temp;\n                temp = this.viewWrapper.innerHTML;\n                this.updateWrapperText(this.viewWrapper, data);\n            }\n            if (this.enableVirtualization && this.mode === 'CheckBox') {\n                var temp = void 0;\n                var currentText = [];\n                var value_1 = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                temp = this.getTextByValue(value_1);\n                var textValues = this.text != null ? this.text + ',' + temp : temp;\n                currentText.push(textValues);\n                this.setProperties({ text: currentText.toString() }, true);\n            }\n        }\n        var element = this.findListElement(this.list, 'li', 'data-value', value);\n        this.removeFocus();\n        if (element) {\n            this.addListFocus(element);\n            this.addListSelection(element);\n        }\n        if (this.mode !== 'Delimiter' && this.mode !== 'CheckBox') {\n            this.addChip(text, value, eve);\n        }\n        if (this.hideSelectedItem && this.fields.groupBy) {\n            this.hideGroupItem(value);\n        }\n        this.updateChipStatus();\n        this.checkMaxSelection();\n    };\n    MultiSelect.prototype.checkMaxSelection = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        if (limit === this.maximumSelectionLength) {\n            var collection = this.list.querySelectorAll('li.'\n                + dropDownBaseClasses.li + ':not(.e-active)');\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.dispatchSelect = function (value, eve, element, isNotTrigger, length) {\n        var _this = this;\n        var list = this.listData;\n        if (this.initStatus && !isNotTrigger) {\n            value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n            var val_2 = this.getDataByValue(value);\n            var eventArgs = {\n                e: eve,\n                item: element,\n                itemData: val_2,\n                isInteracted: eve ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (length) {\n                        _this.selectAllEventData.push(val_2);\n                        _this.selectAllEventEle.push(element);\n                    }\n                    if (length === 1) {\n                        var args = {\n                            event: eve,\n                            items: _this.selectAllEventEle,\n                            itemData: _this.selectAllEventData,\n                            isInteracted: eve ? true : false,\n                            isChecked: true\n                        };\n                        _this.trigger('selectedAll', args);\n                        _this.selectAllEventData = [];\n                    }\n                    if (_this.allowCustomValue && _this.isServerRendered && _this.listData !== list) {\n                        _this.listData = list;\n                    }\n                    value = _this.allowObjectBinding ? _this.getDataByValue(value) : value;\n                    if ((_this.enableVirtualization && value) || !_this.enableVirtualization) {\n                        _this.updateListSelectEventCallback(value, element, eve);\n                    }\n                    if (_this.hideSelectedItem && _this.fixedHeaderElement && _this.fields.groupBy && _this.mode !== 'CheckBox') {\n                        _super.prototype.scrollStop.call(_this);\n                    }\n                }\n            });\n        }\n    };\n    MultiSelect.prototype.addChip = function (text, value, e) {\n        if (this.chipCollectionWrapper) {\n            this.getChip(text, value, e);\n        }\n    };\n    MultiSelect.prototype.removeChipFocus = function () {\n        var elements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP + '.' + CHIP_SELECTED);\n        removeClass(elements, CHIP_SELECTED);\n        if (Browser.isDevice) {\n            var closeElements = this.chipCollectionWrapper.querySelectorAll('span.' + CHIP_CLOSE.split(' ')[0]);\n            for (var index = 0; index < closeElements.length; index++) {\n                closeElements[index].style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.onMobileChipInteraction = function (e) {\n        var chipElem = closest(e.target, '.' + CHIP);\n        var chipClose = chipElem.querySelector('span.' + CHIP_CLOSE.split(' ')[0]);\n        if (this.enabled && !this.readonly) {\n            if (!chipElem.classList.contains(CHIP_SELECTED)) {\n                this.removeChipFocus();\n                chipClose.style.display = '';\n                chipElem.classList.add(CHIP_SELECTED);\n            }\n            this.refreshPopup();\n            e.preventDefault();\n        }\n    };\n    MultiSelect.prototype.multiCompiler = function (multiselectTemplate) {\n        var checkTemplate = false;\n        if (typeof multiselectTemplate !== 'function' && multiselectTemplate) {\n            try {\n                checkTemplate = (selectAll(multiselectTemplate, document).length) ? true : false;\n            }\n            catch (exception) {\n                checkTemplate = false;\n            }\n        }\n        return checkTemplate;\n    };\n    MultiSelect.prototype.encodeHtmlEntities = function (input) {\n        return input.replace(/[\\u00A0-\\u9999<>&]/g, function (match) {\n            return \"&#\" + match.charCodeAt(0) + \";\";\n        });\n    };\n    MultiSelect.prototype.getChip = function (data, value, e) {\n        var _this = this;\n        var itemData = { text: value, value: value };\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value, 'title': data }\n        });\n        var compiledString;\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE });\n        if (this.mainData) {\n            itemData = this.getDataByValue(value);\n        }\n        if (this.valueTemplate && !isNullOrUndefined(itemData)) {\n            var valuecheck = this.multiCompiler(this.valueTemplate);\n            if (typeof this.valueTemplate !== 'function' && valuecheck) {\n                compiledString = compile(select(this.valueTemplate, document).innerHTML.trim());\n            }\n            else {\n                compiledString = compile(this.valueTemplate);\n            }\n            // eslint-disable-next-line\n            var valueCompTemp = compiledString(itemData, this, 'valueTemplate', this.valueTemplateId, this.isStringTemplate, null, chipContent);\n            if (valueCompTemp && valueCompTemp.length > 0) {\n                append(valueCompTemp, chipContent);\n            }\n            this.renderReactTemplates();\n        }\n        else if (this.enableHtmlSanitizer) {\n            chipContent.innerText = data;\n        }\n        else {\n            chipContent.innerHTML = this.encodeHtmlEntities(data.toString());\n        }\n        chip.appendChild(chipContent);\n        var eventArgs = {\n            isInteracted: e ? true : false,\n            itemData: itemData,\n            e: e,\n            setClass: function (classes) {\n                addClass([chip], classes);\n            },\n            cancel: false\n        };\n        this.isPreventChange = this.isAngular && this.preventChange;\n        this.trigger('tagging', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                if (Browser.isDevice) {\n                    chip.classList.add(MOBILE_CHIP);\n                    append([chipClose], chip);\n                    chipClose.style.display = 'none';\n                    EventHandler.add(chip, 'click', _this.onMobileChipInteraction, _this);\n                }\n                else {\n                    EventHandler.add(chip, 'mousedown', _this.chipClick, _this);\n                    if (_this.showClearButton) {\n                        chip.appendChild(chipClose);\n                    }\n                }\n                EventHandler.add(chipClose, 'mousedown', _this.onChipRemove, _this);\n                _this.chipCollectionWrapper.appendChild(chip);\n                if (!_this.changeOnBlur && e) {\n                    _this.updateValueState(e, _this.value, _this.tempValues);\n                }\n            }\n        });\n    };\n    MultiSelect.prototype.calcPopupWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = (this.componentWrapper.offsetWidth) * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    MultiSelect.prototype.mouseIn = function () {\n        if (this.enabled && !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    MultiSelect.prototype.mouseOut = function () {\n        if (!this.inputFocus) {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.listOption = function (dataSource, fields) {\n        var iconCss = isNullOrUndefined(fields.iconCss) ? false : true;\n        var fieldProperty = isNullOrUndefined(fields.properties) ? fields :\n            fields.properties;\n        this.listCurrentOptions = (fields.text !== null || fields.value !== null) ? {\n            fields: fieldProperty, showIcon: iconCss, ariaAttributes: { groupItemRole: 'presentation' }\n        } : { fields: { value: 'text' } };\n        extend(this.listCurrentOptions, this.listCurrentOptions, fields, true);\n        if (this.mode === 'CheckBox') {\n            this.notify('listoption', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', dataSource: dataSource, fieldProperty: fieldProperty });\n        }\n        return this.listCurrentOptions;\n    };\n    MultiSelect.prototype.renderPopup = function () {\n        var _this = this;\n        if (!this.list) {\n            _super.prototype.render.call(this);\n        }\n        if (!this.popupObj) {\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                document.body.appendChild(this.popupWrapper);\n                var checkboxFilter = this.popupWrapper.querySelector('.' + FILTERPARENT);\n                if (this.mode === 'CheckBox' && !this.allowFiltering && checkboxFilter && this.filterParent) {\n                    checkboxFilter.remove();\n                    this.filterParent = null;\n                }\n                var overAllHeight = parseInt(this.popupHeight, 10);\n                this.popupWrapper.style.visibility = 'hidden';\n                if (this.headerTemplate) {\n                    this.setHeaderTemplate();\n                    overAllHeight -= this.header.offsetHeight;\n                }\n                append([this.list], this.popupWrapper);\n                if (!this.list.classList.contains(dropDownBaseClasses.noData) && this.getItems()[1]) {\n                    this.listItemHeight = this.getItems()[1].offsetHeight;\n                }\n                if (this.enableVirtualization && !this.list.classList.contains(dropDownBaseClasses.noData)) {\n                    if (!this.list.querySelector('.e-virtual-ddl-content') && this.list.querySelector('.e-list-parent')) {\n                        this.list.appendChild(this.createElement('div', {\n                            className: 'e-virtual-ddl-content',\n                            styles: this.getTransformValues()\n                        })).appendChild(this.list.querySelector('.e-list-parent'));\n                    }\n                    else if (this.list.querySelector('.e-virtual-ddl-content')) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                    }\n                    this.UpdateSkeleton();\n                    this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                    this.virtualItemCount = this.itemCount;\n                    if (this.mode !== 'CheckBox') {\n                        this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                    }\n                    if (!this.list.querySelector('.e-virtual-ddl')) {\n                        var virualElement = this.createElement('div', {\n                            id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                        });\n                        this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n                    }\n                }\n                if (this.footerTemplate) {\n                    this.setFooterTemplate();\n                    overAllHeight -= this.footer.offsetHeight;\n                }\n                if (this.mode === 'CheckBox' && this.showSelectAll) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight -= this.selectAllHeight;\n                }\n                else if (this.mode === 'CheckBox' && !this.showSelectAll && (!this.headerTemplate && !this.footerTemplate)) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight = parseInt(this.popupHeight, 10);\n                }\n                else if (this.mode === 'CheckBox' && !this.showSelectAll) {\n                    this.notify('selectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                    overAllHeight = parseInt(this.popupHeight, 10);\n                    if (this.headerTemplate && this.header) {\n                        overAllHeight -= this.header.offsetHeight;\n                    }\n                    if (this.footerTemplate && this.footer) {\n                        overAllHeight -= this.footer.offsetHeight;\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: this.mode === 'CheckBox',\n                        popupElement: this.popupWrapper\n                    };\n                    if (this.allowFiltering) {\n                        this.notify('searchBox', args);\n                        overAllHeight -= this.searchBoxHeight;\n                    }\n                    addClass([this.popupWrapper], 'e-checkbox');\n                }\n                if (this.popupHeight !== 'auto') {\n                    this.list.style.maxHeight = formatUnit(overAllHeight);\n                    this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n                }\n                else {\n                    this.list.style.maxHeight = formatUnit(this.popupHeight);\n                }\n                this.popupObj = new Popup(this.popupWrapper, {\n                    width: this.calcPopupWidth(), targetType: 'relative',\n                    position: this.enableRtl ? { X: 'right', Y: 'bottom' } : { X: 'left', Y: 'bottom' },\n                    relateTo: this.overAllWrapper,\n                    collision: this.enableRtl ? { X: 'fit', Y: 'flip' } : { X: 'flip', Y: 'flip' }, offsetY: 1,\n                    enableRtl: this.enableRtl, zIndex: this.zIndex,\n                    close: function () {\n                        if (_this.popupObj.element.parentElement) {\n                            _this.popupObj.unwireScrollEvents();\n                            // For restrict the page scrolling in safari browser\n                            var checkboxFilterInput = _this.popupWrapper.querySelector('.' + FILTERINPUT);\n                            if (_this.mode === 'CheckBox' && checkboxFilterInput && document.activeElement === checkboxFilterInput) {\n                                checkboxFilterInput.blur();\n                            }\n                            detach(_this.popupObj.element);\n                        }\n                    },\n                    open: function () {\n                        _this.popupObj.resolveCollision();\n                        if (!_this.isFirstClick) {\n                            var ulElement = _this.list.querySelector('ul');\n                            if (ulElement) {\n                                if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) &&\n                                    _this.targetElement().trim() !== '')) {\n                                    _this.mainList = ulElement.cloneNode ? ulElement.cloneNode(true) : ulElement;\n                                }\n                            }\n                            _this.isFirstClick = true;\n                        }\n                        _this.popupObj.wireScrollEvents();\n                        if (!(_this.mode !== 'CheckBox' && (_this.allowFiltering || _this.allowCustomValue) &&\n                            _this.targetElement().trim() !== '') && !_this.enableVirtualization) {\n                            _this.loadTemplate();\n                            if (_this.enableVirtualization && _this.mode === 'CheckBox') {\n                                _this.UpdateSkeleton();\n                            }\n                        }\n                        _this.isPreventScrollAction = true;\n                        _this.setScrollPosition();\n                        if (_this.allowFiltering) {\n                            _this.notify('inputFocus', {\n                                module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'focus'\n                            });\n                        }\n                        if (_this.enableVirtualization) {\n                            _this.notify(\"bindScrollEvent\", {\n                                module: \"VirtualScroll\",\n                                component: _this.getModuleName(),\n                                enable: _this.enableVirtualization,\n                            });\n                            setTimeout(function () {\n                                if (_this.value) {\n                                    _this.updateSelectionList();\n                                }\n                                else if (_this.viewPortInfo && _this.viewPortInfo.offsets.top) {\n                                    _this.list.scrollTop = _this.viewPortInfo.offsets.top;\n                                }\n                            }, 5);\n                        }\n                    }, targetExitViewport: function () {\n                        if (!Browser.isDevice) {\n                            _this.hidePopup();\n                        }\n                    }\n                });\n                this.checkCollision(this.popupWrapper);\n                this.popupContentElement = this.popupObj.element.querySelector('.e-content');\n                if (this.mode === 'CheckBox' && Browser.isDevice && this.allowFiltering) {\n                    this.notify('deviceSearchBox', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox' });\n                }\n                this.popupObj.close();\n                this.popupWrapper.style.visibility = '';\n            }\n        }\n    };\n    MultiSelect.prototype.checkCollision = function (popupEle) {\n        if (!(this.mode === 'CheckBox' && Browser.isDevice && this.allowFiltering)) {\n            var collision = isCollide(popupEle);\n            if (collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    MultiSelect.prototype.setHeaderTemplate = function () {\n        var compiledString;\n        if (this.header) {\n            this.header.remove();\n        }\n        this.header = this.createElement('div');\n        addClass([this.header], HEADER);\n        var headercheck = this.multiCompiler(this.headerTemplate);\n        if (typeof this.headerTemplate !== 'function' && headercheck) {\n            compiledString = compile(select(this.headerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.headerTemplate);\n        }\n        // eslint-disable-next-line\n        var elements = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, null, this.header);\n        if (elements && elements.length > 0) {\n            append(elements, this.header);\n        }\n        if (this.mode === 'CheckBox' && this.showSelectAll) {\n            prepend([this.header], this.popupWrapper);\n        }\n        else {\n            append([this.header], this.popupWrapper);\n        }\n        EventHandler.add(this.header, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.setFooterTemplate = function () {\n        var compiledString;\n        if (this.footer) {\n            this.footer.remove();\n        }\n        this.footer = this.createElement('div');\n        addClass([this.footer], FOOTER);\n        var footercheck = this.multiCompiler(this.footerTemplate);\n        if (typeof this.footerTemplate !== 'function' && footercheck) {\n            compiledString = compile(select(this.footerTemplate, document).innerHTML.trim());\n        }\n        else {\n            compiledString = compile(this.footerTemplate);\n        }\n        // eslint-disable-next-line\n        var elements = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, null, this.footer);\n        if (elements && elements.length > 0) {\n            append(elements, this.footer);\n        }\n        append([this.footer], this.popupWrapper);\n        EventHandler.add(this.footer, 'mousedown', this.onListMouseDown, this);\n    };\n    MultiSelect.prototype.updateInitialData = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var currentData = this.selectData;\n        var ulElement = this.renderItems(currentData, this.fields);\n        this.list.scrollTop = 0;\n        this.virtualListInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: 0,\n        };\n        this.previousStartIndex = 0;\n        this.previousEndIndex = 0;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ? this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.totalItemCount = this.dataCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.mode !== 'CheckBox') {\n            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n        }\n        this.getSkeletonCount();\n        this.UpdateSkeleton();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n        }\n        else if (!this.list.querySelector('.e-virtual-ddl') && this.skeletonCount > 0) {\n            var virualElement = this.createElement('div', {\n                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n            });\n            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n        }\n        this.listData = currentData;\n        this.liCollections = this.list.querySelectorAll('.e-list-item');\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.list.getElementsByClassName('e-virtual-ddl-content')[0]) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n        }\n    };\n    MultiSelect.prototype.clearAll = function (e) {\n        if (this.enabled && !this.readonly) {\n            var temp = void 0;\n            if (this.value && this.value.length > 0) {\n                var liElement = this.list && this.list.querySelectorAll('li.e-list-item');\n                if (liElement && liElement.length > 0) {\n                    this.selectAllItems(false, e);\n                }\n                else {\n                    this.removeIndex = 0;\n                    for (temp = this.value[this.removeIndex]; this.removeIndex < this.value.length; temp = this.value[this.removeIndex]) {\n                        this.removeValue(temp, e, null, true);\n                    }\n                }\n                this.selectedElementID = null;\n                this.inputElement.removeAttribute('aria-activedescendant');\n            }\n            else {\n                this.clearAllCallback(e);\n            }\n            this.checkAndResetCache();\n            if (this.enableVirtualization) {\n                this.updateInitialData();\n                if (this.chipCollectionWrapper) {\n                    this.chipCollectionWrapper.innerHTML = '';\n                }\n                if (!this.isCustomDataUpdated) {\n                    this.notify(\"setGeneratedData\", {\n                        module: \"VirtualScroll\",\n                    });\n                }\n            }\n            if (this.enableVirtualization) {\n                this.list.scrollTop = 0;\n                this.virtualListInfo = null;\n                this.previousStartIndex = 0;\n                this.previousEndIndex = 0;\n            }\n        }\n    };\n    MultiSelect.prototype.clearAllCallback = function (e, isClearAll) {\n        var tempValues = this.value ? this.value.slice() : [];\n        if (this.mainList && this.listData && ((this.allowFiltering && this.mode !== 'CheckBox') || this.allowCustomValue)) {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            this.onActionComplete(list, this.mainData);\n        }\n        this.focusAtFirstListItem();\n        this.updateDelimeter(this.delimiterChar, e);\n        if (this.mode !== 'Box' && (!this.inputFocus || this.mode === 'CheckBox')) {\n            this.updateDelimView();\n        }\n        if (this.inputElement.value !== '') {\n            this.makeTextBoxEmpty();\n            this.search(null);\n        }\n        this.checkPlaceholderSize();\n        if (this.isPopupOpen()) {\n            this.refreshPopup();\n        }\n        if (!this.inputFocus) {\n            if (this.changeOnBlur) {\n                this.updateValueState(e, this.value, tempValues);\n            }\n            if (this.mode !== 'CheckBox') {\n                this.inputElement.focus();\n            }\n        }\n        if (this.mode === 'CheckBox') {\n            this.refreshPlaceHolder();\n            this.refreshInputHight();\n            if (this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n                this.updateValueState(e, this.value, this.tempValues);\n            }\n        }\n        if (!this.changeOnBlur && isClearAll && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        if (this.mode === 'CheckBox' && this.enableGroupCheckBox && !isNullOrUndefined(this.fields.groupBy)) {\n            this.updateListItems(this.list.querySelectorAll('li.e-list-item'), this.mainList.querySelectorAll('li.e-list-item'));\n        }\n        e.preventDefault();\n    };\n    MultiSelect.prototype.windowResize = function () {\n        this.refreshPopup();\n        if ((!this.inputFocus || this.mode === 'CheckBox') && this.viewWrapper && this.viewWrapper.parentElement) {\n            this.updateDelimView();\n        }\n    };\n    MultiSelect.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement && e.target === formElement) {\n            var textVal = (this.element.tagName === this.getNgDirective()) ?\n                null : this.element.getAttribute('data-initial-value');\n            this.text = textVal;\n        }\n    };\n    MultiSelect.prototype.wireEvent = function () {\n        EventHandler.add(this.componentWrapper, 'mousedown', this.wrapperClick, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusInHandler, this);\n        EventHandler.add(this.inputElement, 'keydown', this.onKeyDown, this);\n        EventHandler.add(this.inputElement, 'keyup', this.keyUp, this);\n        if (this.mode !== 'CheckBox') {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n        }\n        EventHandler.add(this.inputElement, 'blur', this.onBlurHandler, this);\n        EventHandler.add(this.componentWrapper, 'mouseover', this.mouseIn, this);\n        var formElement = closest(this.inputElement, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        EventHandler.add(this.componentWrapper, 'mouseout', this.mouseOut, this);\n        EventHandler.add(this.overAllClear, 'mouseup', this.clearAll, this);\n        EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n    };\n    MultiSelect.prototype.onInput = function (e) {\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        // For Filtering works in mobile firefox\n        if (Browser.isDevice && Browser.info.name === 'mozilla') {\n            this.search(e);\n        }\n    };\n    MultiSelect.prototype.pasteHandler = function (event) {\n        var _this = this;\n        setTimeout(function () {\n            _this.expandTextbox();\n            _this.search(event);\n        });\n    };\n    MultiSelect.prototype.search = function (e) {\n        var _this = this;\n        this.resetFilteredData = true;\n        this.preventSetCurrentData = false;\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        if (!isNullOrUndefined(e)) {\n            this.keyCode = e.keyCode;\n        }\n        if (!this.isPopupOpen() && this.openOnClick) {\n            this.showPopup(e);\n        }\n        this.openClick(e);\n        if (this.checkTextLength() && !this.allowFiltering && !isNullOrUndefined(e) && (e.keyCode !== 8)) {\n            this.focusAtFirstListItem();\n        }\n        else {\n            var text = this.targetElement();\n            if (this.allowFiltering) {\n                if (this.allowCustomValue) {\n                    this.isRemoteSelection = true;\n                }\n                if (!this.backCommand) {\n                    this.checkAndResetCache();\n                }\n                var eventArgs_1 = {\n                    preventDefaultAction: false,\n                    text: this.targetElement(),\n                    updateData: function (dataSource, query, fields) {\n                        if (eventArgs_1.cancel) {\n                            return;\n                        }\n                        _this.isFiltered = true;\n                        _this.remoteFilterAction = true;\n                        _this.dataUpdater(dataSource, query, fields);\n                    },\n                    event: e,\n                    cancel: false\n                };\n                this.trigger('filtering', eventArgs_1, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        if (!_this.isFiltered && !eventArgs.preventDefaultAction) {\n                            _this.filterAction = true;\n                            _this.dataUpdater(_this.dataSource, null, _this.fields);\n                        }\n                    }\n                });\n            }\n            else if (this.allowCustomValue) {\n                var query = new Query();\n                query = this.allowFiltering && (text !== '') ? query.where(this.fields.text, 'startswith', text, this.ignoreCase, this.ignoreAccent) : query;\n                if (this.enableVirtualization) {\n                    if (this.dataSource instanceof DataManager) {\n                        this.dataUpdater(this.virtualGroupDataSource, query, this.fields);\n                    }\n                    else {\n                        this.dataUpdater(this.dataSource, query, this.fields);\n                    }\n                }\n                else {\n                    this.dataUpdater(this.mainData, query, this.fields);\n                }\n                this.UpdateSkeleton();\n            }\n            else {\n                var liCollections = this.list.querySelectorAll('li.' + dropDownBaseClasses.li + ':not(.e-hide-listitem)');\n                var type = this.typeOfData(this.listData).typeof;\n                var activeElement = Search(this.targetElement(), liCollections, 'StartsWith', this.ignoreCase);\n                if (this.enableVirtualization && this.targetElement().trim() !== '' && !this.allowFiltering) {\n                    var updatingincrementalindex = false;\n                    if ((this.viewPortInfo.endIndex >= this.incrementalEndIndex && this.incrementalEndIndex <= this.totalItemCount) || this.incrementalEndIndex == 0) {\n                        updatingincrementalindex = true;\n                        this.incrementalStartIndex = 0;\n                        this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                        this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                        updatingincrementalindex = false;\n                    }\n                    if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                        this.updateIncrementalView(0, this.itemCount);\n                    }\n                    activeElement = Search(this.targetElement(), this.incrementalLiCollections, this.filterType, true, this.listData, this.fields, type);\n                    while (isNullOrUndefined(activeElement) && this.incrementalEndIndex < this.totalItemCount) {\n                        this.incrementalStartIndex = this.incrementalEndIndex;\n                        this.incrementalEndIndex = this.incrementalEndIndex + 100 > this.totalItemCount ? this.totalItemCount : this.incrementalEndIndex + 100;\n                        this.updateIncrementalInfo(this.incrementalStartIndex, this.incrementalEndIndex);\n                        updatingincrementalindex = true;\n                        if (this.viewPortInfo.startIndex !== 0 || updatingincrementalindex) {\n                            this.updateIncrementalView(0, this.itemCount);\n                        }\n                        activeElement = Search(this.targetElement(), this.incrementalLiCollections, this.filterType, true, this.listData, this.fields, type);\n                        if (!isNullOrUndefined(activeElement)) {\n                            break;\n                        }\n                        if (isNullOrUndefined(activeElement) && this.incrementalEndIndex >= this.totalItemCount) {\n                            this.incrementalStartIndex = 0;\n                            this.incrementalEndIndex = 100 > this.totalItemCount ? this.totalItemCount : 100;\n                            break;\n                        }\n                    }\n                    if (activeElement.index) {\n                        if ((!(this.viewPortInfo.startIndex >= activeElement.index)) || (!(activeElement.index >= this.viewPortInfo.endIndex))) {\n                            var startIndex = activeElement.index - ((this.itemCount / 2) - 2) > 0 ? activeElement.index - ((this.itemCount / 2) - 2) : 0;\n                            var endIndex = startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : startIndex + this.itemCount;\n                            if (startIndex != this.viewPortInfo.startIndex) {\n                                this.updateIncrementalView(startIndex, endIndex);\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(activeElement.item)) {\n                        var index_1 = this.getIndexByValue(activeElement.item.getAttribute('data-value')) - this.skeletonCount;\n                        if (index_1 > this.itemCount / 2) {\n                            var startIndex = this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) < this.totalItemCount ? this.viewPortInfo.startIndex + ((this.itemCount / 2) - 2) : this.totalItemCount;\n                            var endIndex = this.viewPortInfo.startIndex + this.itemCount > this.totalItemCount ? this.totalItemCount : this.viewPortInfo.startIndex + this.itemCount;\n                            this.updateIncrementalView(startIndex, endIndex);\n                        }\n                        activeElement.item = this.getElementByValue(activeElement.item.getAttribute('data-value'));\n                    }\n                    else {\n                        this.updateIncrementalView(0, this.itemCount);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        this.list.scrollTop = 0;\n                    }\n                    if (activeElement && activeElement.item) {\n                        activeElement.item = this.getElementByValue(activeElement.item.getAttribute('data-value'));\n                    }\n                }\n                if (activeElement && activeElement.item) {\n                    this.addListFocus(activeElement.item);\n                    this.list.scrollTop =\n                        activeElement.item.offsetHeight * activeElement.index;\n                }\n                else if (this.targetElement() !== '') {\n                    this.removeFocus();\n                }\n                else {\n                    this.focusAtFirstListItem();\n                }\n            }\n        }\n        if (this.enableVirtualization && this.allowFiltering) {\n            this.getFilteringSkeletonCount();\n        }\n    };\n    MultiSelect.prototype.preRender = function () {\n        if (this.allowFiltering === null) {\n            this.allowFiltering = (this.mode === 'CheckBox') ? true : false;\n        }\n        this.preventSetCurrentData = false;\n        this.initializeData();\n        this.updateDataAttribute(this.htmlAttributes);\n        _super.prototype.preRender.call(this);\n    };\n    MultiSelect.prototype.getLocaleName = function () {\n        return 'multi-select';\n    };\n    MultiSelect.prototype.initializeData = function () {\n        this.mainListCollection = [];\n        this.beforePopupOpen = false;\n        this.filterAction = false;\n        this.remoteFilterAction = false;\n        this.isFirstClick = false;\n        this.mobFilter = true;\n        this.isFiltered = false;\n        this.focused = true;\n        this.initial = true;\n        this.backCommand = true;\n        this.isCustomRendered = false;\n        this.isRemoteSelection = false;\n        this.isSelectAllTarget = true;\n        this.viewPortInfo = {\n            currentPageNumber: null,\n            direction: null,\n            sentinelInfo: {},\n            offsets: {},\n            startIndex: 0,\n            endIndex: this.itemCount,\n        };\n    };\n    MultiSelect.prototype.updateData = function (delimiterChar, e) {\n        var data = '';\n        var delim = this.mode === 'Delimiter' || this.mode === 'CheckBox';\n        var text = [];\n        var temp;\n        var tempData = this.listData;\n        if (!this.enableVirtualization) {\n            this.listData = this.mainData;\n        }\n        if (!isNullOrUndefined(this.hiddenElement)) {\n            this.hiddenElement.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var valueLength = this.value.length;\n            var hiddenElementContent = '';\n            for (var index = 0; index < valueLength; index++) {\n                var valueItem = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[index]) : this.value[index];\n                var listValue = this.findListElement((!isNullOrUndefined(this.mainList) ? this.mainList : this.ulElement), 'li', 'data-value', valueItem);\n                if (this.enableVirtualization) {\n                    listValue = this.findListElement((!isNullOrUndefined(this.list) ? this.list : this.ulElement), 'li', 'data-value', valueItem);\n                }\n                if (isNullOrUndefined(listValue) && !this.allowCustomValue && !this.enableVirtualization) {\n                    this.value.splice(index, 1);\n                    index -= 1;\n                    valueLength -= 1;\n                }\n                else {\n                    if (this.listData) {\n                        if (this.enableVirtualization) {\n                            if (delim) {\n                                data = this.delimiterWrapper && this.delimiterWrapper.innerHTML == \"\" ? data : this.delimiterWrapper.innerHTML;\n                            }\n                            var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[this.value.length - 1]) : this.value[this.value.length - 1];\n                            temp = this.getTextByValue(value);\n                            var textValues = this.text != null && this.text != \"\" ? this.text + ',' + temp : temp;\n                            data += temp + delimiterChar + ' ';\n                            text.push(textValues);\n                            break;\n                        }\n                        else {\n                            temp = this.getTextByValue(valueItem);\n                        }\n                    }\n                    else {\n                        temp = valueItem;\n                    }\n                    data += temp + delimiterChar + ' ';\n                    text.push(temp);\n                }\n                hiddenElementContent += \"<option selected value=\\\"\" + valueItem + \"\\\">\" + index + \"</option>\";\n            }\n            if (!isNullOrUndefined(this.hiddenElement)) {\n                this.hiddenElement.innerHTML = hiddenElementContent;\n            }\n        }\n        var isChipRemove = e && e.target && e.target.classList.contains('e-chips-close');\n        if (!this.enableVirtualization || (this.enableVirtualization && this.mode !== 'CheckBox' && !isChipRemove)) {\n            this.setProperties({ text: text.toString() }, true);\n        }\n        if (delim) {\n            this.updateWrapperText(this.delimiterWrapper, data);\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-describedby', this.delimiterWrapper.id);\n        }\n        var targetEle = e && e.target;\n        var isClearAll = (targetEle && targetEle.classList.contains('e-close-hooker')) ? true : null;\n        if (!this.changeOnBlur && ((e && !isClearAll)) || this.isSelectAll) {\n            this.isSelectAll = false;\n            this.updateValueState(e, this.value, this.tempValues);\n        }\n        this.listData = tempData;\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.initialTextUpdate = function () {\n        if (!isNullOrUndefined(this.text)) {\n            var textArr = this.text.split(this.delimiterChar);\n            var textVal = [];\n            for (var index = 0; textArr.length > index; index++) {\n                var val = this.getValueByText(textArr[index]);\n                if (!isNullOrUndefined(val)) {\n                    textVal.push(val);\n                }\n                else if (this.allowCustomValue) {\n                    textVal.push(textArr[index]);\n                }\n            }\n            if (textVal && textVal.length) {\n                var value = this.allowObjectBinding ? this.getDataByValue(textVal) : textVal;\n                this.setProperties({ value: value }, true);\n            }\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    MultiSelect.prototype.renderList = function (isEmptyData) {\n        if (!isEmptyData && this.allowCustomValue && this.list && (this.list.textContent === this.noRecordsTemplate\n            || this.list.querySelector('.e-ul') && this.list.querySelector('.e-ul').childElementCount === 0)) {\n            isEmptyData = true;\n        }\n        _super.prototype.render.call(this, null, isEmptyData);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.totalItemCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        this.unwireListEvents();\n        this.wireListEvents();\n    };\n    MultiSelect.prototype.initialValueUpdate = function (listItems) {\n        if (this.list) {\n            var text = void 0;\n            var element = void 0;\n            var value = void 0;\n            if (this.chipCollectionWrapper) {\n                this.chipCollectionWrapper.innerHTML = '';\n            }\n            this.removeListSelection();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n                    element = this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n                    var isCustomData = false;\n                    if (this.enableVirtualization) {\n                        text = null;\n                        if (listItems != null && listItems.length > 0) {\n                            for (var i = 0; i < listItems.length; i++) {\n                                if (getValue((this.fields.value ? this.fields.value : 'value'), listItems[i]) === value) {\n                                    text = getValue(this.fields.text, listItems[i]);\n                                    break;\n                                }\n                            }\n                        }\n                        if (isNullOrUndefined(text) && this.allowCustomValue) {\n                            text = this.getTextByValue(value);\n                            isCustomData = true;\n                        }\n                    }\n                    else {\n                        text = this.getTextByValue(value);\n                    }\n                    if (((element && (element.getAttribute('aria-selected') !== 'true')) ||\n                        (element && (element.getAttribute('aria-selected') === 'true' && this.hideSelectedItem) &&\n                            (this.mode === 'Box' || this.mode === 'Default'))) || (this.enableVirtualization && value != null && text != null && !isCustomData)) {\n                        var currentText = [];\n                        var textValues = this.text != null ? this.text + ',' + text : text;\n                        currentText.push(textValues);\n                        this.setProperties({ text: currentText.toString() }, true);\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                    else if (value && this.allowCustomValue) {\n                        var indexItem = this.listData.length;\n                        var newValue = {};\n                        setValue(this.fields.text, value, newValue);\n                        setValue(this.fields.value, value, newValue);\n                        var noDataEle = this.popupWrapper.querySelector('.' + dropDownBaseClasses.noData);\n                        this.addItem(newValue, indexItem);\n                        if (this.enableVirtualization) {\n                            if (this.virtualCustomSelectData && this.virtualCustomSelectData.length >= 0) {\n                                this.virtualCustomSelectData.push(newValue);\n                            }\n                            else {\n                                this.virtualCustomSelectData = [newValue];\n                            }\n                        }\n                        element = element ? element : this.findListElement(this.hideSelectedItem ? this.ulElement : this.list, 'li', 'data-value', value);\n                        if (this.popupWrapper.contains(noDataEle)) {\n                            this.list.setAttribute('style', noDataEle.getAttribute('style'));\n                            this.popupWrapper.replaceChild(this.list, noDataEle);\n                            this.wireListEvents();\n                        }\n                        var currentText = [];\n                        var textValues = this.text != null ? this.text + ',' + text : text;\n                        currentText.push(textValues);\n                        this.setProperties({ text: currentText.toString() }, true);\n                        this.addChip(text, value);\n                        this.addListSelection(element);\n                    }\n                }\n            }\n            if (this.mode === 'CheckBox') {\n                this.updateDelimView();\n                if (this.changeOnBlur) {\n                    this.updateValueState(null, this.value, this.tempValues);\n                }\n                this.updateDelimeter(this.delimiterChar);\n                this.refreshInputHight();\n            }\n            else {\n                this.updateDelimeter(this.delimiterChar);\n            }\n            if (this.mode === 'CheckBox' && this.showSelectAll && (isNullOrUndefined(this.value) || !this.value.length)) {\n                this.notify('checkSelectAll', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', value: 'uncheck' });\n            }\n            if (this.mode === 'Box' || (this.mode === 'Default' && this.inputFocus)) {\n                this.chipCollectionWrapper.style.display = '';\n            }\n            else if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n                this.showDelimWrapper();\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateActionCompleteData = function (li, item) {\n        if (this.value && ((!this.allowObjectBinding && this.value.indexOf(li.getAttribute('data-value')) > -1) || (this.allowObjectBinding && this.isObjectInArray(this.getDataByValue(li.getAttribute('data-value')), this.value)))) {\n            this.mainList = this.ulElement;\n            if (this.hideSelectedItem) {\n                addClass([li], HIDE_LIST);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateAddItemList = function (list, itemCount) {\n        if (this.popupObj && this.popupObj.element && this.popupObj.element.querySelector('.' + dropDownBaseClasses.noData) && list) {\n            this.list = list;\n            this.mainList = this.ulElement = list.querySelector('ul');\n            remove(this.popupWrapper.querySelector('.e-content'));\n            this.popupObj = null;\n            this.renderPopup();\n        }\n        else if (this.allowCustomValue) {\n            this.list = list;\n            this.mainList = this.ulElement = list.querySelector('ul');\n        }\n    };\n    MultiSelect.prototype.updateDataList = function () {\n        if (this.mainList && this.ulElement && !(this.isFiltered || this.filterAction || this.targetElement().trim())) {\n            var isDynamicGroupItemUpdate = this.mainList.childElementCount < this.ulElement.childElementCount;\n            var isReactTemplateUpdate = ((this.ulElement.childElementCount > 0 && this.ulElement.children[0].childElementCount > 0) && (this.mainList.children[0] && (this.mainList.children[0].childElementCount < this.ulElement.children[0].childElementCount)));\n            var isAngularTemplateUpdate = this.itemTemplate && this.ulElement.childElementCount > 0 && !(this.ulElement.childElementCount < this.mainList.childElementCount) && (this.ulElement.children[0].childElementCount > 0 || (this.fields.groupBy && this.ulElement.children[1] && this.ulElement.children[1].childElementCount > 0));\n            if (isDynamicGroupItemUpdate || isReactTemplateUpdate || isAngularTemplateUpdate) {\n                //EJ2-57748 - for this task, we prevent the ul element cloning ( this.mainList = this.ulElement.cloneNode ? <HTMLElement>this.ulElement.cloneNode(true) : this.ulElement;)\n                this.mainList = this.ulElement;\n            }\n        }\n    };\n    MultiSelect.prototype.isValidLI = function (li) {\n        return (li && !li.classList.contains(dropDownBaseClasses.disabled) && !li.classList.contains(dropDownBaseClasses.group) &&\n            li.classList.contains(dropDownBaseClasses.li));\n    };\n    MultiSelect.prototype.updateListSelection = function (li, e, length) {\n        var customVal = li.getAttribute('data-value');\n        var value = this.allowObjectBinding ? this.getDataByValue(customVal) : this.getFormattedValue(customVal);\n        if (this.allowCustomValue && ((customVal !== 'false' && value === false) ||\n            (!isNullOrUndefined(value) && value.toString() === 'NaN'))) {\n            value = customVal;\n        }\n        this.removeHover();\n        if (!this.value || ((!this.allowObjectBinding && this.value.indexOf(value) === -1) || (this.allowObjectBinding && this.indexOfObjectInArray(value, this.value) === -1))) {\n            this.dispatchSelect(value, e, li, (li.getAttribute('aria-selected') === 'true'), length);\n        }\n        else {\n            this.removeValue(value, e, length);\n        }\n    };\n    MultiSelect.prototype.updateListSelectEventCallback = function (value, li, e) {\n        var _this = this;\n        value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), value) : value;\n        var text = this.getTextByValue(value);\n        if ((this.allowCustomValue || this.allowFiltering) && !this.findListElement(this.mainList, 'li', 'data-value', value) && (!this.enableVirtualization || (this.enableVirtualization && this.virtualCustomData))) {\n            var temp_1 = li ? li.cloneNode(true) : li;\n            var fieldValue = this.fields.value ? this.fields.value : 'value';\n            if (this.allowCustomValue && this.mainData.length && typeof getValue(fieldValue, this.mainData[0]) === 'number') {\n                value = !isNaN(parseFloat(value.toString())) ? parseFloat(value.toString()) : value;\n            }\n            var data_1 = this.getDataByValue(value);\n            var eventArgs = {\n                newData: data_1,\n                cancel: false\n            };\n            this.trigger('customValueSelection', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (_this.enableVirtualization && _this.virtualCustomData) {\n                        if (_this.virtualCustomSelectData && _this.virtualCustomSelectData.length >= 0) {\n                            _this.virtualCustomSelectData.push(data_1);\n                        }\n                        else {\n                            _this.virtualCustomSelectData = [data_1];\n                        }\n                        _this.remoteCustomValue = false;\n                        _this.addValue(value, text, e);\n                    }\n                    else {\n                        append([temp_1], _this.mainList);\n                        _this.mainData.push(data_1);\n                        _this.remoteCustomValue = false;\n                        _this.addValue(value, text, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.remoteCustomValue = false;\n            this.addValue(value, text, e);\n        }\n    };\n    MultiSelect.prototype.removeListSelection = function () {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        var selectedItems = this.list.querySelectorAll('.' + className);\n        var temp = selectedItems.length;\n        if (selectedItems && selectedItems.length) {\n            removeClass(selectedItems, className);\n            while (temp > 0) {\n                selectedItems[temp - 1].setAttribute('aria-selected', 'false');\n                temp--;\n            }\n        }\n        if (!isNullOrUndefined(this.mainList)) {\n            var selectItems = this.mainList.querySelectorAll('.' + className);\n            var temp1 = selectItems.length;\n            if (selectItems && selectItems.length) {\n                removeClass(selectItems, className);\n                while (temp1 > 0) {\n                    selectItems[temp1 - 1].setAttribute('aria-selected', 'false');\n                    if (this.mode === 'CheckBox') {\n                        if (selectedItems && (selectedItems.length > (temp1 - 1))) {\n                            removeClass([selectedItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                        }\n                        removeClass([selectItems[temp1 - 1].firstElementChild.lastElementChild], 'e-check');\n                    }\n                    temp1--;\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.removeHover = function () {\n        var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, dropDownBaseClasses.hover);\n        }\n    };\n    MultiSelect.prototype.removeFocus = function () {\n        if (this.list && this.mainList) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.focus);\n            var mainlist = this.mainList.querySelectorAll('.' + dropDownBaseClasses.focus);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.focus);\n                removeClass(mainlist, dropDownBaseClasses.focus);\n            }\n        }\n    };\n    MultiSelect.prototype.addListHover = function (li) {\n        if (this.enabled && this.isValidLI(li)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n        else {\n            if ((li !== null && li.classList.contains('e-list-group-item')) && this.enableGroupCheckBox && this.mode === 'CheckBox'\n                && !isNullOrUndefined(this.fields.groupBy)) {\n                this.removeHover();\n                addClass([li], dropDownBaseClasses.hover);\n            }\n        }\n    };\n    MultiSelect.prototype.addListFocus = function (element) {\n        if (this.enabled && this.isValidLI(element)) {\n            this.removeFocus();\n            addClass([element], dropDownBaseClasses.focus);\n            this.updateAriaActiveDescendant();\n        }\n        else {\n            if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n                addClass([element], dropDownBaseClasses.focus);\n                this.updateAriaActiveDescendant();\n            }\n        }\n    };\n    MultiSelect.prototype.addListSelection = function (element, mainElement) {\n        var className = this.hideSelectedItem ?\n            HIDE_LIST :\n            dropDownBaseClasses.selected;\n        if (this.isValidLI(element) && !element.classList.contains(dropDownBaseClasses.hover)) {\n            addClass([element], className);\n            this.updateMainList(false, element.getAttribute('data-value'), mainElement);\n            element.setAttribute('aria-selected', 'true');\n            if (this.mode === 'CheckBox' && element.classList.contains('e-active')) {\n                var ariaCheck = element.getElementsByClassName('e-check').length;\n                if (ariaCheck === 0) {\n                    this.notify('updatelist', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n                }\n            }\n            this.notify('activeList', { module: 'CheckBoxSelection', enable: this.mode === 'CheckBox', li: element, e: this });\n            if (this.chipCollectionWrapper) {\n                this.removeChipSelection();\n            }\n            this.selectedElementID = element.id;\n        }\n    };\n    MultiSelect.prototype.updateDelimeter = function (delimChar, e) {\n        this.updateData(delimChar, e);\n    };\n    MultiSelect.prototype.onMouseClick = function (e) {\n        var _this = this;\n        this.keyCode = null;\n        this.scrollFocusStatus = false;\n        this.keyboardEvent = null;\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (this.enableVirtualization && li && li.classList.contains('e-virtual-list')) {\n            return;\n        }\n        var headerLi = closest(target, '.' + dropDownBaseClasses.group);\n        if (headerLi && this.enableGroupCheckBox && this.mode === 'CheckBox' && this.fields.groupBy) {\n            target = target.classList.contains('e-list-group-item') ? target.firstElementChild.lastElementChild\n                : e.target;\n            if (target.classList.contains('e-check')) {\n                this.selectAllItem(false, e);\n                target.classList.remove('e-check');\n                target.classList.remove('e-stop');\n                closest(target, '.' + 'e-list-group-item').classList.remove('e-active');\n                target.setAttribute('aria-selected', 'false');\n            }\n            else {\n                this.selectAllItem(true, e);\n                target.classList.remove('e-stop');\n                target.classList.add('e-check');\n                closest(target, '.' + 'e-list-group-item').classList.add('e-active');\n                target.setAttribute('aria-selected', 'true');\n            }\n            this.refreshSelection();\n            this.checkSelectAll();\n        }\n        else {\n            if (this.isValidLI(li)) {\n                var limit = this.value && this.value.length ? this.value.length : 0;\n                if (li.classList.contains('e-active')) {\n                    limit = limit - 1;\n                }\n                if (limit < this.maximumSelectionLength) {\n                    this.updateListSelection(li, e);\n                    this.checkPlaceholderSize();\n                    this.addListFocus(li);\n                    if ((this.allowCustomValue || this.allowFiltering) && this.mainList && this.listData) {\n                        if (this.mode !== 'CheckBox') {\n                            this.focusAtLastListItem(li.getAttribute('data-value'));\n                            this.refreshSelection();\n                        }\n                    }\n                    else {\n                        this.makeTextBoxEmpty();\n                    }\n                }\n                if (this.mode === 'CheckBox') {\n                    this.updateDelimView();\n                    if (this.value && this.value.length > 50) {\n                        setTimeout(function () {\n                            _this.updateDelimeter(_this.delimiterChar, e);\n                        }, 0);\n                    }\n                    else {\n                        this.updateDelimeter(this.delimiterChar, e);\n                    }\n                    this.refreshInputHight();\n                }\n                else {\n                    this.updateDelimeter(this.delimiterChar, e);\n                }\n                this.checkSelectAll();\n                this.refreshPopup();\n                if (this.hideSelectedItem) {\n                    this.focusAtFirstListItem();\n                }\n                if (this.closePopupOnSelect) {\n                    this.hidePopup(e);\n                }\n                else {\n                    e.preventDefault();\n                }\n                this.makeTextBoxEmpty();\n                this.findGroupStart(target);\n                if (this.mode !== 'CheckBox') {\n                    this.refreshListItems(isNullOrUndefined(li) ? null : li.textContent);\n                }\n            }\n            else {\n                e.preventDefault();\n            }\n            if (this.enableVirtualization && this.hideSelectedItem) {\n                var visibleListElements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)' + ':not(.e-virtual-list)');\n                if (visibleListElements.length) {\n                    var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n                    if (visibleListElements.length < (actualCount + 2)) {\n                        var query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.virtualItemStartIndex);\n                        this.resetList(this.dataSource, this.fields, query);\n                        this.UpdateSkeleton();\n                        this.liCollections = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n                        this.virtualItemCount = this.itemCount;\n                        if (this.mode !== 'CheckBox') {\n                            this.totalItemCount = this.value && this.value.length ? this.totalItemCount - this.value.length : this.totalItemCount;\n                        }\n                        if (!this.list.querySelector('.e-virtual-ddl')) {\n                            var virualElement = this.createElement('div', {\n                                id: this.element.id + '_popup', className: 'e-virtual-ddl', styles: this.GetVirtualTrackHeight()\n                            });\n                            this.popupWrapper.querySelector('.e-dropdownbase').appendChild(virualElement);\n                        }\n                        else {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.list.getElementsByClassName('e-virtual-ddl')[0].style = this.GetVirtualTrackHeight();\n                        }\n                        if (this.list.querySelector('.e-virtual-ddl-content')) {\n                            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                            this.list.getElementsByClassName('e-virtual-ddl-content')[0].style = this.getTransformValues();\n                        }\n                    }\n                }\n            }\n            this.refreshPlaceHolder();\n            this.deselectHeader();\n        }\n    };\n    MultiSelect.prototype.findGroupStart = function (target) {\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var count = 0;\n            var liChecked = 0;\n            var liUnchecked = 0;\n            var groupValues = void 0;\n            if (this.itemTemplate && !target.getElementsByClassName('e-frame').length) {\n                while (!target.getElementsByClassName('e-frame').length) {\n                    target = target.parentElement;\n                }\n            }\n            if (target.classList.contains('e-frame')) {\n                target = target.parentElement.parentElement;\n            }\n            groupValues = this.findGroupAttrtibutes(target, liChecked, liUnchecked, count, 0);\n            groupValues = this.findGroupAttrtibutes(target, groupValues[0], groupValues[1], groupValues[2], 1);\n            while (!target.classList.contains('e-list-group-item')) {\n                if (target.classList.contains('e-list-icon')) {\n                    target = target.parentElement;\n                }\n                target = target.previousElementSibling;\n                if (target == null) {\n                    break;\n                }\n            }\n            this.updateCheckBox(target, groupValues[0], groupValues[1], groupValues[2]);\n        }\n    };\n    MultiSelect.prototype.findGroupAttrtibutes = function (listElement, checked, unChecked, count, position) {\n        while (!listElement.classList.contains('e-list-group-item')) {\n            if (listElement.classList.contains('e-list-icon')) {\n                listElement = listElement.parentElement;\n            }\n            if (listElement.getElementsByClassName('e-frame')[0].classList.contains('e-check') &&\n                listElement.classList.contains('e-list-item')) {\n                checked++;\n            }\n            else if (listElement.classList.contains('e-list-item')) {\n                unChecked++;\n            }\n            count++;\n            listElement = position ? listElement.nextElementSibling : listElement.previousElementSibling;\n            if (listElement == null) {\n                break;\n            }\n        }\n        return [checked, unChecked, count];\n    };\n    MultiSelect.prototype.updateCheckBox = function (groupHeader, checked, unChecked, count) {\n        if (groupHeader === null) {\n            return;\n        }\n        var checkBoxElement = groupHeader.getElementsByClassName('e-frame')[0];\n        if (count === checked) {\n            checkBoxElement.classList.remove('e-stop');\n            checkBoxElement.classList.add('e-check');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'true');\n        }\n        else if (count === unChecked) {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.remove('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.remove('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n        else if (this.maximumSelectionLength === checked - 1) {\n            checkBoxElement.classList.remove('e-stop');\n            groupHeader.setAttribute('aria-selected', 'true');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            checkBoxElement.classList.add('e-check');\n        }\n        else {\n            checkBoxElement.classList.remove('e-check');\n            checkBoxElement.classList.add('e-stop');\n            closest(checkBoxElement, '.' + 'e-list-group-item').classList.add('e-active');\n            groupHeader.setAttribute('aria-selected', 'false');\n        }\n    };\n    MultiSelect.prototype.deselectHeader = function () {\n        var limit = this.value && this.value.length ? this.value.length : 0;\n        var collection = this.list.querySelectorAll('li.e-list-group-item:not(.e-active)');\n        if (limit < this.maximumSelectionLength) {\n            removeClass(collection, 'e-disable');\n        }\n        if (limit === this.maximumSelectionLength) {\n            addClass(collection, 'e-disable');\n        }\n    };\n    MultiSelect.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        if (currentLi === null && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)\n            && this.enableGroupCheckBox) {\n            currentLi = closest(e.target, '.' + dropDownBaseClasses.group);\n        }\n        this.addListHover(currentLi);\n    };\n    MultiSelect.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    MultiSelect.prototype.onListMouseDown = function (e) {\n        e.preventDefault();\n        this.scrollFocusStatus = true;\n    };\n    MultiSelect.prototype.onDocumentClick = function (e) {\n        if (this.mode !== 'CheckBox') {\n            var target = e.target;\n            if (!(!isNullOrUndefined(this.popupObj) && closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) &&\n                !this.overAllWrapper.contains(e.target)) {\n                this.scrollFocusStatus = false;\n            }\n            else {\n                this.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement);\n            }\n        }\n    };\n    MultiSelect.prototype.wireListEvents = function () {\n        if (!isNullOrUndefined(this.list)) {\n            EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n            EventHandler.add(this.list, 'mousedown', this.onListMouseDown, this);\n            EventHandler.add(this.list, 'mouseup', this.onMouseClick, this);\n            EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    MultiSelect.prototype.unwireListEvents = function () {\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        if (this.list) {\n            EventHandler.remove(this.list, 'mousedown', this.onListMouseDown);\n            EventHandler.remove(this.list, 'mouseup', this.onMouseClick);\n            EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n            EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n        }\n    };\n    MultiSelect.prototype.hideOverAllClear = function () {\n        if (!this.value || !this.value.length || this.inputElement.value === '') {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    MultiSelect.prototype.showOverAllClear = function () {\n        if (((this.value && this.value.length) || this.inputElement.value !== '') && this.showClearButton && this.readonly !== true) {\n            this.overAllClear.style.display = '';\n        }\n        else {\n            this.overAllClear.style.display = 'none';\n        }\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement && this.enabled) {\n            this.inputElement.blur();\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            var filterClear = this.filterParent && this.filterParent.querySelector('.e-clear-icon.e-icons');\n            if (this.overAllClear.style.display !== 'none' || filterClear) {\n                this.spinnerElement = filterClear ? filterClear : this.overAllClear;\n            }\n            else {\n                this.spinnerElement = this.createElement('span', { className: CLOSEICON_CLASS + ' ' + SPINNER_CLASS });\n                this.componentWrapper.appendChild(this.spinnerElement);\n            }\n            createSpinner({ target: this.spinnerElement, width: Browser.isDevice ? '16px' : '14px' }, this.createElement);\n            addClass([this.spinnerElement], DISABLE_ICON);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], DISABLE_ICON);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    MultiSelect.prototype.updateWrapperText = function (wrapperType, wrapperData) {\n        if (this.valueTemplate || !this.enableHtmlSanitizer) {\n            wrapperType.innerHTML = this.encodeHtmlEntities(wrapperData);\n        }\n        else {\n            wrapperType.innerText = wrapperData;\n        }\n    };\n    MultiSelect.prototype.updateDelimView = function () {\n        if (this.delimiterWrapper) {\n            this.hideDelimWrapper();\n        }\n        if (this.chipCollectionWrapper) {\n            this.chipCollectionWrapper.style.display = 'none';\n        }\n        if (!isNullOrUndefined(this.viewWrapper)) {\n            this.viewWrapper.style.display = '';\n            this.viewWrapper.style.width = '';\n            this.viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        }\n        if (this.value && this.value.length) {\n            var data = '';\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            var overAllContainer = void 0;\n            if (!this.enableVirtualization) {\n                this.updateWrapperText(this.viewWrapper, data);\n            }\n            var l10nLocale = {\n                noRecordsTemplate: 'No records found',\n                actionFailureTemplate: 'Request failed',\n                overflowCountTemplate: '+${count} more..',\n                totalCountTemplate: '${count} selected'\n            };\n            var l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            if (l10n.getConstant('actionFailureTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            if (l10n.getConstant('noRecordsTemplate') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.locale);\n            }\n            var remainContent = l10n.getConstant('overflowCountTemplate');\n            var totalContent = l10n.getConstant('totalCountTemplate');\n            var raminElement = this.createElement('span', {\n                className: REMAIN_WRAPPER\n            });\n            var remainCompildTemp = remainContent.replace('${count}', this.value.length.toString());\n            raminElement.innerText = remainCompildTemp;\n            this.viewWrapper.appendChild(raminElement);\n            this.renderReactTemplates();\n            var remainSize = raminElement.offsetWidth;\n            remove(raminElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = this.dropIcon.offsetWidth + parseInt(window.getComputedStyle(this.dropIcon).marginRight, 10);\n            }\n            this.checkClearIconWidth();\n            if (!isNullOrUndefined(this.value)) {\n                for (var index = 0; !isNullOrUndefined(this.value[index]); index++) {\n                    var items = this.text && this.text.split(this.delimiterChar);\n                    if (!this.enableVirtualization) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.viewWrapper.innerHTML;\n                        this.updateWrapperText(this.viewWrapper, data);\n                    }\n                    else if (items) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = items[index];\n                        data += temp;\n                        temp = this.viewWrapper.innerHTML;\n                        this.updateWrapperText(this.viewWrapper, data);\n                    }\n                    wrapperleng = this.viewWrapper.offsetWidth +\n                        parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                    overAllContainer = this.componentWrapper.offsetWidth -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n                        parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n                    if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                        if (tempData !== undefined && tempData !== '') {\n                            temp = tempData;\n                            index = tempIndex + 1;\n                        }\n                        this.updateWrapperText(this.viewWrapper, temp);\n                        remaining = this.value.length - index;\n                        wrapperleng = this.viewWrapper.offsetWidth +\n                            parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                        while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) > overAllContainer) && wrapperleng !== 0\n                            && this.viewWrapper.innerHTML !== '') {\n                            var textArr = [];\n                            this.viewWrapper.innerHTML = textArr.join(this.delimiterChar);\n                            remaining = this.value.length;\n                            wrapperleng = this.viewWrapper.offsetWidth +\n                                parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n                        }\n                        break;\n                    }\n                    else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                        tempData = data;\n                        tempIndex = index;\n                    }\n                    else if (index === 0) {\n                        tempData = '';\n                        tempIndex = -1;\n                    }\n                }\n            }\n            if (remaining > 0) {\n                var totalWidth = overAllContainer - downIconWidth - this.clearIconWidth;\n                this.viewWrapper.appendChild(this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth));\n                this.updateRemainWidth(this.viewWrapper, totalWidth);\n                this.updateRemainingText(raminElement, downIconWidth, remaining, remainContent, totalContent);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.viewWrapper)) {\n                this.viewWrapper.innerHTML = '';\n                this.viewWrapper.style.display = 'none';\n            }\n        }\n    };\n    MultiSelect.prototype.checkClearIconWidth = function () {\n        if (this.showClearButton) {\n            this.clearIconWidth = this.overAllClear.offsetWidth;\n        }\n    };\n    MultiSelect.prototype.updateRemainWidth = function (viewWrapper, totalWidth) {\n        if (viewWrapper.classList.contains(TOTAL_COUNT_WRAPPER) && totalWidth < (viewWrapper.offsetWidth +\n            parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10)\n            + parseInt(window.getComputedStyle(viewWrapper).paddingLeft, 10))) {\n            viewWrapper.style.width = totalWidth + 'px';\n        }\n    };\n    MultiSelect.prototype.updateRemainTemplate = function (raminElement, viewWrapper, remaining, remainContent, totalContent, totalWidth) {\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3 && viewWrapper.firstChild.nodeValue === '') {\n            viewWrapper.removeChild(viewWrapper.firstChild);\n        }\n        raminElement.innerHTML = '';\n        var remainTemp = remainContent.replace('${count}', remaining.toString());\n        var totalTemp = totalContent.replace('${count}', remaining.toString());\n        raminElement.innerText = (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) ? remainTemp : totalTemp;\n        if (viewWrapper.firstChild && viewWrapper.firstChild.nodeType === 3) {\n            viewWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            viewWrapper.classList.add(TOTAL_COUNT_WRAPPER);\n            this.updateRemainWidth(viewWrapper, totalWidth);\n        }\n        return raminElement;\n    };\n    MultiSelect.prototype.updateRemainingText = function (raminElement, downIconWidth, remaining, remainContent, totalContent) {\n        var overAllContainer = this.componentWrapper.offsetWidth -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingLeft, 10) -\n            parseInt(window.getComputedStyle(this.componentWrapper).paddingRight, 10);\n        var wrapperleng = this.viewWrapper.offsetWidth + parseInt(window.getComputedStyle(this.viewWrapper).paddingRight, 10);\n        if (((wrapperleng + downIconWidth) >= overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n            this.viewWrapper.firstChild.nodeType === 3) {\n            while (((wrapperleng + downIconWidth) > overAllContainer) && wrapperleng !== 0 && this.viewWrapper.firstChild &&\n                this.viewWrapper.firstChild.nodeType === 3) {\n                var textArr = this.viewWrapper.firstChild.nodeValue.split(this.delimiterChar);\n                textArr.pop();\n                this.viewWrapper.firstChild.nodeValue = textArr.join(this.delimiterChar);\n                if (this.viewWrapper.firstChild.nodeValue === '') {\n                    this.viewWrapper.removeChild(this.viewWrapper.firstChild);\n                }\n                remaining++;\n                wrapperleng = this.viewWrapper.offsetWidth;\n            }\n            var totalWidth = overAllContainer - downIconWidth;\n            this.updateRemainTemplate(raminElement, this.viewWrapper, remaining, remainContent, totalContent, totalWidth);\n        }\n    };\n    MultiSelect.prototype.getOverflowVal = function (index) {\n        var temp;\n        if (this.mainData && this.mainData.length) {\n            var value = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n            if (this.mode === 'CheckBox') {\n                var newTemp = this.listData;\n                this.listData = this.mainData;\n                temp = this.getTextByValue(value);\n                this.listData = newTemp;\n            }\n            else {\n                temp = this.getTextByValue(value);\n            }\n        }\n        else {\n            temp = this.allowObjectBinding ? getValue(((this.fields.value) ? this.fields.value : ''), this.value[index]) : this.value[index];\n        }\n        return temp;\n    };\n    MultiSelect.prototype.unWireEvent = function () {\n        if (!isNullOrUndefined(this.componentWrapper)) {\n            EventHandler.remove(this.componentWrapper, 'mousedown', this.wrapperClick);\n        }\n        EventHandler.remove(window, 'resize', this.windowResize);\n        if (!isNullOrUndefined(this.inputElement)) {\n            EventHandler.remove(this.inputElement, 'focus', this.focusInHandler);\n            EventHandler.remove(this.inputElement, 'keydown', this.onKeyDown);\n            if (this.mode !== 'CheckBox') {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n            }\n            EventHandler.remove(this.inputElement, 'keyup', this.keyUp);\n            var formElement = closest(this.inputElement, 'form');\n            if (formElement) {\n                EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n            }\n            EventHandler.remove(this.inputElement, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.componentWrapper)) {\n            EventHandler.remove(this.componentWrapper, 'mouseover', this.mouseIn);\n            EventHandler.remove(this.componentWrapper, 'mouseout', this.mouseOut);\n        }\n        if (!isNullOrUndefined(this.overAllClear)) {\n            EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        }\n        if (!isNullOrUndefined(this.inputElement)) {\n            EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n        }\n    };\n    MultiSelect.prototype.selectAllItem = function (state, event, list) {\n        var li;\n        if (!isNullOrUndefined(this.list)) {\n            li = this.list.querySelectorAll(state ?\n                'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)');\n        }\n        if (this.value && this.value.length && event && event.target\n            && closest(event.target, '.e-close-hooker') && this.allowFiltering) {\n            li = this.mainList.querySelectorAll(state ?\n                'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)');\n        }\n        if (this.enableGroupCheckBox && this.mode === 'CheckBox' && !isNullOrUndefined(this.fields.groupBy)) {\n            var target = (event ? (this.groupTemplate ? closest(event.target, '.e-list-group-item') : event.target) : null);\n            target = (event && event.keyCode === 32) ? list : target;\n            target = (target && target.classList.contains('e-frame')) ? target.parentElement.parentElement : target;\n            if (target && target.classList.contains('e-list-group-item')) {\n                var listElement = target.nextElementSibling;\n                if (isNullOrUndefined(listElement)) {\n                    return;\n                }\n                while (listElement.classList.contains('e-list-item')) {\n                    if (state) {\n                        if (!listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                            var selectionLimit = this.value && this.value.length ? this.value.length : 0;\n                            if (listElement.classList.contains('e-active')) {\n                                selectionLimit -= 1;\n                            }\n                            if (selectionLimit < this.maximumSelectionLength) {\n                                this.updateListSelection(listElement, event);\n                            }\n                        }\n                    }\n                    else {\n                        if (listElement.firstElementChild.lastElementChild.classList.contains('e-check')) {\n                            this.updateListSelection(listElement, event);\n                        }\n                    }\n                    listElement = listElement.nextElementSibling;\n                    if (listElement == null) {\n                        break;\n                    }\n                }\n                if (target.classList.contains('e-list-group-item')) {\n                    var focusedElement = this.list.getElementsByClassName('e-item-focus')[0];\n                    if (focusedElement) {\n                        focusedElement.classList.remove('e-item-focus');\n                    }\n                    if (state) {\n                        target.classList.add('e-active');\n                    }\n                    else {\n                        target.classList.remove('e-active');\n                    }\n                    target.classList.add('e-item-focus');\n                    this.updateAriaActiveDescendant();\n                }\n                this.textboxValueUpdate();\n                this.checkPlaceholderSize();\n                if (!this.changeOnBlur && event) {\n                    this.updateValueState(event, this.value, this.tempValues);\n                }\n            }\n            else {\n                this.updateValue(event, li, state);\n            }\n        }\n        else {\n            this.updateValue(event, li, state);\n        }\n        this.addValidInputClass();\n    };\n    MultiSelect.prototype.updateValue = function (event, li, state) {\n        var _this = this;\n        var length = li.length;\n        var beforeSelectArgs = {\n            event: event,\n            items: state ? li : [],\n            itemData: state ? this.listData : [],\n            isInteracted: event ? true : false,\n            isChecked: state,\n            preventSelectEvent: false\n        };\n        this.trigger('beforeSelectAll', beforeSelectArgs);\n        if ((li && li.length) || (this.enableVirtualization && !state)) {\n            var index_2 = 0;\n            var count_1 = 0;\n            if (this.enableGroupCheckBox) {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : li.length;\n            }\n            else {\n                count_1 = state ? this.maximumSelectionLength - (this.value ? this.value.length : 0) : this.maximumSelectionLength;\n            }\n            if (!beforeSelectArgs.preventSelectEvent) {\n                if (this.enableVirtualization) {\n                    if (state) {\n                        this.virtualSelectAll = true;\n                        this.resetList(this.dataSource, this.fields, new Query().skip(this.viewPortInfo.startIndex));\n                        if (this.virtualSelectAllData instanceof Array) {\n                            for (var i = 0; i < this.virtualSelectAllData.length; i++) {\n                                if (li[this.skeletonCount + i]) {\n                                    var value_2 = this.allowObjectBinding ? this.getDataByValue(li[this.skeletonCount + i].getAttribute('data-value')) : this.getFormattedValue(li[this.skeletonCount + i].getAttribute('data-value'));\n                                    if (((!this.allowObjectBinding && this.value && this.value.indexOf(value_2) === 1) || (this.allowObjectBinding && this.indexOfObjectInArray(value_2, this.value) === 1))) {\n                                        continue;\n                                    }\n                                    this.updateListSelection(li[this.skeletonCount + i], event, length - i);\n                                }\n                                else {\n                                    if (this.fields) {\n                                        var value_3 = getValue(this.fields.value, this.virtualSelectAllData[i]);\n                                        value_3 = this.allowObjectBinding ? this.getDataByValue(value_3) : value_3;\n                                        if (((!this.allowObjectBinding && this.value && this.value.indexOf(value_3) === 1) || (this.allowObjectBinding && this.indexOfObjectInArray(value_3, this.value) === 1))) {\n                                            continue;\n                                        }\n                                        if (this.value && value_3 != null && Array.isArray(this.value) && ((!this.allowObjectBinding && this.value.indexOf(value_3) < 0) || (this.allowObjectBinding && !this.isObjectInArray(value_3, this.value)))) {\n                                            this.dispatchSelect(value_3, event, null, false, length);\n                                        }\n                                    }\n                                }\n                            }\n                            if (this.virtualSelectAllData && this.value.length != this.virtualSelectAllData.length && this.virtualItemStartIndex != 0) {\n                                if (this.virtualItemStartIndex > this.itemCount) {\n                                    for (var i = 0; i < this.itemCount; i++) {\n                                        if (this.fields) {\n                                            var value_4 = getValue(this.fields.value, this.virtualSelectAllData[i]);\n                                            value_4 = this.allowObjectBinding ? this.getDataByValue(value_4) : value_4;\n                                            if (this.value && value_4 != null && Array.isArray(this.value) && ((!this.allowObjectBinding && this.value.indexOf(value_4) < 0) || (this.allowObjectBinding && !this.isObjectInArray(value_4, this.value)))) {\n                                                this.setProperties({ value: [].concat([], this.value, this.allowObjectBinding ? [this.virtualSelectAllData[i]] : [value_4]) }, true);\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                            else {\n                                for (var i = 0; i < this.virtualItemStartIndex; i++) {\n                                    if (this.fields) {\n                                        var value = getValue(this.fields.value, this.virtualSelectAllData[i]);\n                                        value = this.allowObjectBinding ? this.getDataByValue(value) : value;\n                                        if (Array.isArray(this.value) && ((!this.allowObjectBinding && this.value.indexOf(value) < 0) || (this.allowObjectBinding && !this.isObjectInArray(value, this.value)))) {\n                                            this.setProperties({ value: [].concat([], this.value, this.allowObjectBinding ? [this.virtualSelectAllData[i]] : [value]) }, true);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        while (index_2 < this.value.length && index_2 <= 50 && index_2 < count_1 && this.value.length > 0) {\n                            this.removeValue(this.value[index_2], event, this.value.length - index_2);\n                            index_2++;\n                        }\n                        if (length > 50) {\n                            setTimeout(function () {\n                                while (index_2 < _this.value.length && index_2 < count_1 && _this.value.length > 0) {\n                                    _this.removeValue(value[index_2], event, _this.value.length - index_2);\n                                    index_2++;\n                                }\n                                _this.updatedataValueItems(event);\n                                if (!_this.changeOnBlur) {\n                                    _this.updateValueState(event, _this.value, _this.tempValues);\n                                    _this.isSelectAll = _this.isSelectAll ? !_this.isSelectAll : _this.isSelectAll;\n                                }\n                                _this.updateHiddenElement();\n                            }, 0);\n                        }\n                        this.value = [];\n                        this.virtualSelectAll = false;\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var ulElement = this.renderItems(this.listData, this.fields);\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var virtualTrackElement = this.list.getElementsByClassName('e-virtual-ddl')[0];\n                    if (virtualTrackElement) {\n                        (virtualTrackElement).style = this.GetVirtualTrackHeight();\n                    }\n                    this.UpdateSkeleton();\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var virtualContentElement = this.list.getElementsByClassName('e-virtual-ddl-content')[0];\n                    if (virtualContentElement) {\n                        (virtualContentElement).style = this.getTransformValues();\n                    }\n                }\n                else {\n                    while (index_2 < length && index_2 <= 50 && index_2 < count_1) {\n                        this.isSelectAllTarget = (length === index_2 + 1);\n                        this.updateListSelection(li[index_2], event, length - index_2);\n                        if (this.enableGroupCheckBox) {\n                            this.findGroupStart(li[index_2]);\n                        }\n                        index_2++;\n                    }\n                    if (length > 50) {\n                        setTimeout(function () {\n                            while (index_2 < length && index_2 < count_1) {\n                                _this.isSelectAllTarget = (length === index_2 + 1);\n                                _this.updateListSelection(li[index_2], event, length - index_2);\n                                if (_this.enableGroupCheckBox) {\n                                    _this.findGroupStart(li[index_2]);\n                                }\n                                index_2++;\n                            }\n                            _this.updatedataValueItems(event);\n                            if (!_this.changeOnBlur) {\n                                _this.updateValueState(event, _this.value, _this.tempValues);\n                                _this.isSelectAll = _this.isSelectAll ? !_this.isSelectAll : _this.isSelectAll;\n                            }\n                            _this.updateHiddenElement();\n                            if (_this.popupWrapper && li[index_2 - 1].classList.contains('e-item-focus')) {\n                                var selectAllParent = document.getElementsByClassName('e-selectall-parent')[0];\n                                if (selectAllParent && selectAllParent.classList.contains('e-item-focus')) {\n                                    li[index_2 - 1].classList.remove('e-item-focus');\n                                }\n                            }\n                        }, 0);\n                    }\n                }\n            }\n            else {\n                for (var i_1 = 0; i_1 < li.length && i_1 < count_1; i_1++) {\n                    this.removeHover();\n                    var customVal = li[i_1].getAttribute('data-value');\n                    var value_5 = this.getFormattedValue(customVal);\n                    value_5 = this.allowObjectBinding ? this.getDataByValue(value_5) : value_5;\n                    var mainElement = this.mainList ? this.mainList.querySelectorAll(state ?\n                        'li.e-list-item:not([aria-selected=\"true\"]):not(.e-reorder-hide)' :\n                        'li.e-list-item[aria-selected=\"true\"]:not(.e-reorder-hide)')[i_1] : null;\n                    if (state) {\n                        this.value = !this.value ? [] : this.value;\n                        if ((!this.allowObjectBinding && this.value.indexOf(value_5) < 0) || (this.allowObjectBinding && !this.isObjectInArray(value_5, this.value))) {\n                            this.setProperties({ value: [].concat([], this.value, [value_5]) }, true);\n                        }\n                        this.removeFocus();\n                        this.addListSelection(li[i_1], mainElement);\n                        this.updateChipStatus();\n                        this.checkMaxSelection();\n                    }\n                    else {\n                        this.removeAllItems(value_5, event, false, li[i_1], mainElement);\n                    }\n                    if (this.enableGroupCheckBox) {\n                        this.findGroupStart(li[i_1]);\n                    }\n                }\n                if (!state) {\n                    var limit = this.value && this.value.length ? this.value.length : 0;\n                    if (limit < this.maximumSelectionLength) {\n                        var collection = this.list.querySelectorAll('li.'\n                            + dropDownBaseClasses.li + ':not(.e-active)');\n                        removeClass(collection, 'e-disable');\n                    }\n                }\n                var args = {\n                    event: event,\n                    items: state ? li : [],\n                    itemData: state ? this.listData : [],\n                    isInteracted: event ? true : false,\n                    isChecked: state\n                };\n                this.trigger('selectedAll', args);\n            }\n        }\n        this.updatedataValueItems(event);\n        this.checkPlaceholderSize();\n        if (length <= 50 && !beforeSelectArgs.preventSelectEvent) {\n            if (!this.changeOnBlur) {\n                this.updateValueState(event, this.value, this.tempValues);\n                this.isSelectAll = this.isSelectAll ? !this.isSelectAll : this.isSelectAll;\n            }\n            this.updateHiddenElement();\n        }\n    };\n    MultiSelect.prototype.updateHiddenElement = function () {\n        var _this = this;\n        var hiddenValue = '';\n        var wrapperText = '';\n        var data = '';\n        var text = [];\n        if (this.mode === 'CheckBox') {\n            this.value.map(function (value, index) {\n                hiddenValue += '<option selected value =\"' + value + '\">' + index + '</option>';\n                if (_this.listData) {\n                    data = _this.getTextByValue(value);\n                }\n                else {\n                    data = value;\n                }\n                wrapperText += data + _this.delimiterChar + ' ';\n                text.push(data);\n            });\n            this.hiddenElement.innerHTML = hiddenValue;\n            this.updateWrapperText(this.delimiterWrapper, wrapperText);\n            this.delimiterWrapper.setAttribute('id', getUniqueID('delim_val'));\n            this.inputElement.setAttribute('aria-describedby', this.delimiterWrapper.id);\n            this.setProperties({ text: text.toString() }, true);\n            this.refreshInputHight();\n            this.refreshPlaceHolder();\n        }\n    };\n    MultiSelect.prototype.updatedataValueItems = function (event) {\n        this.deselectHeader();\n        this.textboxValueUpdate(event);\n    };\n    MultiSelect.prototype.textboxValueUpdate = function (event) {\n        var isRemoveAll = event && event.target && (closest(event.target, '.e-selectall-parent')\n            || closest(event.target, '.e-close-hooker'));\n        if (this.mode !== 'Box' && !this.isPopupOpen() && !(this.mode === 'CheckBox' && (this.isSelectAll || isRemoveAll))) {\n            this.updateDelimView();\n        }\n        else {\n            this.searchWrapper.classList.remove(ZERO_SIZE);\n        }\n        if (this.mode === 'CheckBox') {\n            this.updateDelimView();\n            if (!(isRemoveAll || this.isSelectAll) && this.isSelectAllTarget) {\n                this.updateDelimeter(this.delimiterChar, event);\n            }\n            this.refreshInputHight();\n        }\n        else {\n            this.updateDelimeter(this.delimiterChar, event);\n        }\n        this.refreshPlaceHolder();\n    };\n    MultiSelect.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ 'zIndex': this.zIndex });\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MultiSelect.prototype.updateDataSource = function (prop) {\n        if (isNullOrUndefined(this.list)) {\n            this.renderPopup();\n        }\n        else {\n            this.resetList(this.dataSource);\n        }\n        if (this.value && this.value.length) {\n            this.setProperties({ 'value': this.value });\n            this.refreshSelection();\n        }\n    };\n    MultiSelect.prototype.onLoadSelect = function () {\n        this.setDynValue = true;\n        this.renderPopup();\n    };\n    MultiSelect.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        if (isNullOrUndefined(this.list)) {\n            this.selectAllAction = function () {\n                if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                    var args = {\n                        module: 'CheckBoxSelection',\n                        enable: _this.mode === 'CheckBox',\n                        value: state ? 'check' : 'uncheck'\n                    };\n                    _this.notify('checkSelectAll', args);\n                }\n                _this.selectAllItem(state, event);\n                _this.selectAllAction = null;\n            };\n            _super.prototype.render.call(this);\n        }\n        else {\n            this.selectAllAction = null;\n            if (this.mode === 'CheckBox' && this.showSelectAll) {\n                var args = {\n                    value: state ? 'check' : 'uncheck',\n                    enable: this.mode === 'CheckBox',\n                    module: 'CheckBoxSelection'\n                };\n                this.notify('checkSelectAll', args);\n            }\n            this.selectAllItem(state, event);\n        }\n        this.virtualSelectAll = false;\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persisted data of the component.\n     */\n    MultiSelect.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {MultiSelectModel} newProp - Returns the dynamic property value of the component.\n     * @param {MultiSelectModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    MultiSelect.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (newProp.dataSource && !isNullOrUndefined(Object.keys(newProp.dataSource))\n            || newProp.query && !isNullOrUndefined(Object.keys(newProp.query))) {\n            if (this.resetFilteredData) {\n                // The filtered data is not being reset in the component after the user focuses out.\n                this.resetMainList = !this.resetMainList ? this.mainList : this.resetMainList;\n                this.resetFilteredData = false;\n            }\n            this.mainList = null;\n            this.mainData = null;\n            this.isFirstClick = false;\n            this.isDynamicDataChange = true;\n        }\n        if (this.getModuleName() === 'multiselect') {\n            this.filterAction = false;\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'query':\n                case 'dataSource':\n                    if (this.mode === 'CheckBox' && this.showSelectAll) {\n                        if (!isNullOrUndefined(this.popupObj)) {\n                            this.popupObj.destroy();\n                            this.popupObj = null;\n                        }\n                        this.renderPopup();\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttribute();\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'text':\n                    this.updateVal(this.value, this.value, 'text');\n                    break;\n                case 'value':\n                    this.updateVal(this.value, oldProp.value, 'value');\n                    this.addValidInputClass();\n                    if (!this.closePopupOnSelect && this.isPopupOpen()) {\n                        this.refreshPopup();\n                    }\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    this.popupObj.setProperties({ width: this.calcPopupWidth() });\n                    break;\n                case 'placeholder':\n                    this.refreshPlaceHolder();\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        this.notify('filterBarPlaceholder', { filterBarPlaceholder: newProp.filterBarPlaceholder });\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode !== 'Box') {\n                        this.updateDelimView();\n                    }\n                    this.updateData(newProp.delimiterChar);\n                    break;\n                case 'cssClass':\n                    this.updateOldPropCssClass(oldProp.cssClass);\n                    this.updateCssClass();\n                    this.calculateWidth();\n                    break;\n                case 'enableRtl':\n                    this.enableRTL(newProp.enableRtl);\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n                case 'readonly':\n                    this.updateReadonly(newProp.readonly);\n                    this.hidePopup();\n                    break;\n                case 'enabled':\n                    this.hidePopup();\n                    this.enable(newProp.enabled);\n                    break;\n                case 'showSelectAll':\n                    if (this.popupObj) {\n                        this.popupObj.destroy();\n                        this.popupObj = null;\n                    }\n                    this.renderPopup();\n                    break;\n                case 'showDropDownIcon':\n                    this.dropDownIcon();\n                    break;\n                case 'floatLabelType':\n                    this.setFloatLabelType();\n                    this.addValidInputClass();\n                    Input.createSpanElement(this.overAllWrapper, this.createElement);\n                    this.calculateWidth();\n                    if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n                        this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'enableSelectionOrder':\n                    break;\n                case 'selectAllText':\n                    this.notify('selectAllText', false);\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        var overAllHeight = parseInt(this.popupHeight, 10);\n                        if (this.popupHeight !== 'auto') {\n                            this.list.style.maxHeight = formatUnit(overAllHeight);\n                            this.popupWrapper.style.maxHeight = formatUnit(this.popupHeight);\n                        }\n                        else {\n                            this.list.style.maxHeight = formatUnit(this.popupHeight);\n                        }\n                    }\n                    break;\n                case 'headerTemplate':\n                case 'footerTemplate':\n                    this.reInitializePoup();\n                    break;\n                case 'allowFiltering':\n                    if (this.mode === 'CheckBox' && this.popupObj) {\n                        this.reInitializePoup();\n                    }\n                    this.updateSelectElementData(this.allowFiltering);\n                    break;\n                case 'fields':\n                    if (isNullOrUndefined(this.fields.groupBy)) {\n                        this.removeScrollEvent();\n                    }\n                    break;\n                default:\n                    {\n                        // eslint-disable-next-line max-len\n                        var msProps = this.getPropObject(prop, newProp, oldProp);\n                        _super.prototype.onPropertyChanged.call(this, msProps.newProperty, msProps.oldProperty);\n                    }\n                    break;\n            }\n        }\n    };\n    MultiSelect.prototype.reInitializePoup = function () {\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            this.popupObj = null;\n        }\n        this.renderPopup();\n    };\n    MultiSelect.prototype.totalItemsCount = function () {\n        var dataSourceCount;\n        if (this.dataSource instanceof DataManager) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.virtualGroupDataSource && this.virtualGroupDataSource.length ? this.virtualGroupDataSource.length : 0;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            dataSourceCount = this.dataSource && this.dataSource.length ? this.dataSource.length : 0;\n        }\n        if (this.mode === 'CheckBox') {\n            this.totalItemCount = dataSourceCount != 0 ? dataSourceCount : this.totalItemCount;\n        }\n        else {\n            this.totalItemCount = dataSourceCount != 0 ? dataSourceCount - this.value.length : this.totalItemCount;\n        }\n    };\n    MultiSelect.prototype.presentItemValue = function (ulElement) {\n        var valuecheck = [];\n        for (var i = 0; i < this.value.length; i++) {\n            var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[i]) : this.value[i];\n            var checkEle = this.findListElement(((this.allowFiltering && !isNullOrUndefined(this.mainList)) ? this.mainList : ulElement), 'li', 'data-value', value);\n            if (!checkEle) {\n                var checkvalue = this.allowObjectBinding ? this.getDataByValue(this.value[i]) : this.value[i];\n                valuecheck.push(checkvalue);\n            }\n        }\n        return valuecheck;\n    };\n    ;\n    MultiSelect.prototype.addNonPresentItems = function (valuecheck, ulElement, list, event) {\n        var _this = this;\n        this.dataSource.executeQuery(this.getForQuery(valuecheck)).then(function (e) {\n            if (e.result.length > 0) {\n                _this.addItem(e.result, list.length);\n            }\n            _this.updateActionList(ulElement, list, event);\n        });\n    };\n    ;\n    MultiSelect.prototype.updateVal = function (newProp, oldProp, prop) {\n        if (!this.list) {\n            this.onLoadSelect();\n        }\n        else if ((this.dataSource instanceof DataManager) && (!this.listData || !(this.mainList && this.mainData))) {\n            this.onLoadSelect();\n        }\n        else {\n            var valuecheck = [];\n            if (!isNullOrUndefined(this.value) && !this.allowCustomValue) {\n                valuecheck = this.presentItemValue(this.ulElement);\n            }\n            if (prop == 'value' && valuecheck.length > 0 && this.dataSource instanceof DataManager && !isNullOrUndefined(this.value)\n                && this.listData != null) {\n                this.mainData = null;\n                this.setDynValue = true;\n                this.addNonPresentItems(valuecheck, this.ulElement, this.listData);\n            }\n            else {\n                if (prop === 'text') {\n                    this.initialTextUpdate();\n                    newProp = this.value;\n                }\n                if (isNullOrUndefined(this.value) || this.value.length === 0) {\n                    this.tempValues = oldProp;\n                }\n                // eslint-disable-next-line\n                if (this.allowCustomValue && (this.mode === 'Default' || this.mode === 'Box') && this.isReact && this.inputFocus\n                    && this.isPopupOpen() && this.mainData !== this.listData) {\n                    var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n                    this.onActionComplete(list, this.mainData);\n                }\n                this.initialValueUpdate();\n                if (this.mode !== 'Box' && !this.inputFocus) {\n                    this.updateDelimView();\n                }\n                if (!this.inputFocus) {\n                    this.refreshInputHight();\n                }\n                this.refreshPlaceHolder();\n                if (this.mode !== 'CheckBox' && this.changeOnBlur) {\n                    this.updateValueState(null, newProp, oldProp);\n                }\n                this.checkPlaceholderSize();\n            }\n        }\n        if (!this.changeOnBlur) {\n            this.updateValueState(null, newProp, oldProp);\n        }\n    };\n    /**\n     * Adds a new item to the multiselect popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n     */\n    MultiSelect.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Hides the popup, if the popup in a open state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.hidePopup = function (e) {\n        var _this = this;\n        var delay = 100;\n        if (this.isPopupOpen()) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: 100,\n                delay: delay ? delay : 0\n            };\n            var eventArgs = { popup: this.popupObj, cancel: false, animation: animModel, event: e || null };\n            this.trigger('close', eventArgs, function (eventArgs) {\n                if (!eventArgs.cancel) {\n                    if (_this.fields.groupBy && _this.mode !== 'CheckBox' && _this.fixedHeaderElement) {\n                        remove(_this.fixedHeaderElement);\n                        _this.fixedHeaderElement = null;\n                    }\n                    _this.beforePopupOpen = false;\n                    _this.overAllWrapper.classList.remove(iconAnimation);\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    _this.inputElement.removeAttribute('aria-owns');\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                    if (_this.allowFiltering) {\n                        _this.notify('inputFocus', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox', value: 'clear' });\n                    }\n                    _this.popupObj.hide();\n                    removeClass([document.body, _this.popupObj.element], 'e-popup-full-page');\n                    EventHandler.remove(_this.list, 'keydown', _this.onKeyDown);\n                    if (_this.mode === 'CheckBox' && _this.showSelectAll) {\n                        EventHandler.remove(_this.popupObj.element, 'click', _this.clickHandler);\n                    }\n                    if (_this.enableVirtualization && _this.mode === 'CheckBox') {\n                        _this.viewPortInfo.startIndex = _this.virtualItemStartIndex = 0;\n                        _this.viewPortInfo.endIndex = _this.virtualItemEndIndex = _this.viewPortInfo.startIndex > 0 ? _this.viewPortInfo.endIndex : _this.itemCount;\n                        _this.previousStartIndex = 0;\n                        _this.previousEndIndex = 0;\n                    }\n                    var dataSourceCount = void 0;\n                    if (_this.dataSource instanceof DataManager) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        dataSourceCount = _this.virtualGroupDataSource && _this.virtualGroupDataSource.length ? _this.virtualGroupDataSource.length : 0;\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        dataSourceCount = _this.dataSource && _this.dataSource.length ? _this.dataSource.length : 0;\n                    }\n                    if (_this.enableVirtualization && (_this.allowFiltering || _this.allowCustomValue) && _this.value != null && _this.targetElement() && _this.totalItemCount !== dataSourceCount) {\n                        _this.updateInitialData();\n                        _this.checkAndResetCache();\n                    }\n                    if (_this.virtualCustomData && _this.viewPortInfo && _this.viewPortInfo.startIndex === 0 && _this.viewPortInfo.endIndex === _this.itemCount) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.renderItems(_this.mainData, _this.fields);\n                    }\n                    _this.virtualCustomData = null;\n                    _this.isVirtualTrackHeight = false;\n                }\n            });\n        }\n    };\n    /**\n     * Shows the popup, if the popup in a closed state.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.showPopup = function (e) {\n        var _this = this;\n        if (!this.enabled) {\n            return;\n        }\n        this.firstItem = this.dataSource && this.dataSource.length > 0 ? this.dataSource[0] : null;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                if (!_this.ulElement) {\n                    _this.beforePopupOpen = true;\n                    if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n                        _this.notify('popupFullScreen', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                    }\n                    _super.prototype.render.call(_this, e);\n                    return;\n                }\n                if (_this.mode === 'CheckBox' && Browser.isDevice && _this.allowFiltering) {\n                    _this.notify('popupFullScreen', { module: 'CheckBoxSelection', enable: _this.mode === 'CheckBox' });\n                }\n                var mainLiLength = _this.ulElement.querySelectorAll('li.' + 'e-list-item').length;\n                var liLength = _this.ulElement.querySelectorAll('li.'\n                    + dropDownBaseClasses.li + '.' + HIDE_LIST).length;\n                if (mainLiLength > 0 && (mainLiLength === liLength) && (liLength === _this.mainData.length) && !(_this.targetElement() !== '' && _this.allowCustomValue)) {\n                    _this.beforePopupOpen = false;\n                    return;\n                }\n                _this.onPopupShown(e);\n                if (_this.enableVirtualization && _this.listData && _this.listData.length) {\n                    if (!isNullOrUndefined(_this.value) && (_this.getModuleName() === 'dropdownlist' || _this.getModuleName() === 'combobox')) {\n                        _this.removeHover();\n                    }\n                    if (!_this.beforePopupOpen) {\n                        if (_this.hideSelectedItem && _this.value && Array.isArray(_this.value) && _this.value.length > 0) {\n                            _this.totalItemsCount();\n                        }\n                        if (!_this.preventSetCurrentData && !isNullOrUndefined(_this.viewPortInfo.startIndex) && !isNullOrUndefined(_this.viewPortInfo.endIndex)) {\n                            _this.notify(\"setCurrentViewDataAsync\", {\n                                component: _this.getModuleName(),\n                                module: \"VirtualScroll\",\n                            });\n                        }\n                    }\n                }\n                if (_this.enableVirtualization && !_this.allowFiltering && _this.selectedValueInfo != null && _this.selectedValueInfo.startIndex > 0 && _this.value != null) {\n                    _this.notify(\"dataProcessAsync\", {\n                        module: \"VirtualScroll\",\n                        isOpen: true,\n                    });\n                }\n                if (_this.enableVirtualization) {\n                    _this.updatevirtualizationList();\n                }\n                else {\n                    if (_this.value && _this.value.length) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var element = void 0;\n                        var listItems = _this.getItems();\n                        for (var _i = 0, _a = _this.value; _i < _a.length; _i++) {\n                            var value = _a[_i];\n                            var checkValue = _this.allowObjectBinding ? getValue((_this.fields.value) ? _this.fields.value : '', value) : value;\n                            element = _this.getElementByValue(checkValue);\n                            if (element) {\n                                _this.addListSelection(element);\n                            }\n                        }\n                    }\n                }\n                _this.preventSetCurrentData = true;\n            }\n        });\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     * parameter\n     * `true`   - Selects entire list items.\n     * `false`  - Un Selects entire list items.\n     *\n     * @param {boolean} state - if it’s true then Selects the entire list items. If it’s false the Unselects entire list items.\n     * @returns {void}\n     */\n    MultiSelect.prototype.selectAll = function (state) {\n        this.isSelectAll = true;\n        this.selectAllItems(state);\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    MultiSelect.prototype.getModuleName = function () {\n        return 'multiselect';\n    };\n    /**\n     * Allows you to clear the selected values from the Multiselect component.\n     *\n     * @returns {void}\n     */\n    MultiSelect.prototype.clear = function () {\n        var _this = this;\n        this.selectAll(false);\n        if (this.value && this.value.length) {\n            setTimeout(function () {\n                _this.setProperties({ value: null }, true);\n            }, 0);\n        }\n        else {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiSelect.prototype.render = function () {\n        if (!isNullOrUndefined(this.value)) {\n            // eslint-disable-next-line\n            this.value = this.value.slice();\n        }\n        this.setDynValue = this.initStatus = false;\n        this.isSelectAll = false;\n        this.selectAllEventEle = [];\n        this.searchWrapper = this.createElement('span', { className: SEARCHBOX_WRAPPER + ' ' + ((this.mode === 'Box') ? BOX_ELEMENT : '') });\n        this.viewWrapper = this.createElement('span', { className: DELIMITER_VIEW + ' ' + DELIMITER_WRAPPER, styles: 'display:none;' });\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS, styles: 'display:none;'\n        });\n        this.componentWrapper = this.createElement('div', { className: ELEMENT_WRAPPER });\n        this.overAllWrapper = this.createElement('div', { className: OVER_ALL_WRAPPER });\n        if (this.mode === 'CheckBox') {\n            addClass([this.overAllWrapper], 'e-checkbox');\n        }\n        if (Browser.isDevice) {\n            this.componentWrapper.classList.add(ELEMENT_MOBILE_WRAPPER);\n        }\n        this.setWidth(this.width);\n        this.overAllWrapper.appendChild(this.componentWrapper);\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: POPUP_WRAPPER });\n        this.popupWrapper.setAttribute('aria-label', this.element.id);\n        this.popupWrapper.setAttribute('role', 'dialog');\n        if (this.mode === 'Delimiter' || this.mode === 'CheckBox') {\n            this.delimiterWrapper = this.createElement('span', { className: DELIMITER_WRAPPER, styles: 'display:none' });\n            this.componentWrapper.appendChild(this.delimiterWrapper);\n        }\n        else {\n            this.chipCollectionWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER,\n                styles: 'display:none'\n            });\n            if (this.mode === 'Default') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_default'));\n            }\n            else if (this.mode === 'Box') {\n                this.chipCollectionWrapper.setAttribute('id', getUniqueID('chip_box'));\n            }\n            this.componentWrapper.appendChild(this.chipCollectionWrapper);\n        }\n        if (this.mode !== 'Box') {\n            this.componentWrapper.appendChild(this.viewWrapper);\n        }\n        this.componentWrapper.appendChild(this.searchWrapper);\n        if (this.showClearButton && !Browser.isDevice) {\n            this.componentWrapper.appendChild(this.overAllClear);\n        }\n        else {\n            this.componentWrapper.classList.add(CLOSE_ICON_HIDE);\n        }\n        this.dropDownIcon();\n        this.inputElement = this.createElement('input', {\n            className: INPUT_ELEMENT,\n            attrs: {\n                spellcheck: 'false',\n                type: 'text',\n                autocomplete: 'off',\n                tabindex: '0',\n                role: 'combobox'\n            }\n        });\n        if (this.mode === 'Default' || this.mode === 'Box') {\n            this.inputElement.setAttribute('aria-describedby', this.chipCollectionWrapper.id);\n        }\n        if (this.element.tagName !== this.getNgDirective()) {\n            this.element.style.display = 'none';\n        }\n        if (this.element.tagName === this.getNgDirective()) {\n            this.element.appendChild(this.overAllWrapper);\n            this.searchWrapper.appendChild(this.inputElement);\n        }\n        else {\n            this.element.parentElement.insertBefore(this.overAllWrapper, this.element);\n            this.searchWrapper.appendChild(this.inputElement);\n            this.searchWrapper.appendChild(this.element);\n            this.element.removeAttribute('tabindex');\n        }\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n        else if (this.floatLabelType === 'Never') {\n            this.refreshPlaceHolder();\n        }\n        this.addValidInputClass();\n        this.element.style.opacity = '';\n        var id = this.element.getAttribute('id') ? this.element.getAttribute('id') : getUniqueID('ej2_dropdownlist');\n        this.element.id = id;\n        this.hiddenElement = this.createElement('select', {\n            attrs: { 'aria-hidden': 'true', 'class': HIDDEN_ELEMENT, 'tabindex': '-1', 'multiple': '' }\n        });\n        this.componentWrapper.appendChild(this.hiddenElement);\n        this.validationAttribute(this.element, this.hiddenElement);\n        if (this.mode !== 'CheckBox') {\n            this.hideOverAllClear();\n        }\n        if (!isNullOrUndefined(closest(this.element, \"fieldset\")) && closest(this.element, \"fieldset\").disabled) {\n            this.enabled = false;\n        }\n        this.wireEvent();\n        this.enable(this.enabled);\n        this.enableRTL(this.enableRtl);\n        if (this.enableVirtualization) {\n            this.updateVirtualizationProperties(this.itemCount, this.allowFiltering, this.mode === 'CheckBox');\n        }\n        this.listItemHeight = this.getListHeight();\n        this.getSkeletonCount();\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.viewPortInfo.startIndex > 0 ? this.viewPortInfo.endIndex : this.itemCount;\n        this.checkInitialValue();\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        Input.createSpanElement(this.overAllWrapper, this.createElement);\n        this.calculateWidth();\n        if (!isNullOrUndefined(this.overAllWrapper) && !isNullOrUndefined(this.overAllWrapper.getElementsByClassName('e-ddl-icon')[0] && this.overAllWrapper.getElementsByClassName('e-float-text-content')[0] && this.floatLabelType !== 'Never')) {\n            this.overAllWrapper.getElementsByClassName('e-float-text-content')[0].classList.add('e-icon');\n        }\n        this.renderComplete();\n    };\n    MultiSelect.prototype.getListHeight = function () {\n        var listParent = this.createElement('div', {\n            className: 'e-dropdownbase'\n        });\n        var item = this.createElement('li', {\n            className: 'e-list-item'\n        });\n        var listParentHeight = formatUnit(this.popupHeight);\n        listParent.style.height = (parseInt(listParentHeight, 10)).toString() + 'px';\n        listParent.appendChild(item);\n        document.body.appendChild(listParent);\n        this.virtualListHeight = listParent.getBoundingClientRect().height;\n        var listItemHeight = Math.ceil(item.getBoundingClientRect().height);\n        listParent.remove();\n        return listItemHeight;\n    };\n    MultiSelect.prototype.checkInitialValue = function () {\n        var _this = this;\n        var isData = this.dataSource instanceof Array ? (this.dataSource.length > 0)\n            : !isNullOrUndefined(this.dataSource);\n        if (!(this.value && this.value.length) &&\n            isNullOrUndefined(this.text) &&\n            !isData &&\n            this.element.tagName === 'SELECT' &&\n            this.element.options.length > 0) {\n            var optionsElement = this.element.options;\n            var valueCol = [];\n            var textCol = '';\n            for (var index = 0, optionsLen = optionsElement.length; index < optionsLen; index++) {\n                var opt = optionsElement[index];\n                if (!isNullOrUndefined(opt.getAttribute('selected'))) {\n                    if (opt.getAttribute('value')) {\n                        var value = this.allowObjectBinding ? this.getDataByValue(opt.getAttribute('value')) : opt.getAttribute('value');\n                        valueCol.push(value);\n                    }\n                    else {\n                        textCol += (opt.text + this.delimiterChar);\n                    }\n                }\n            }\n            if (valueCol.length > 0) {\n                this.setProperties({ value: valueCol }, true);\n            }\n            else if (textCol !== '') {\n                this.setProperties({ text: textCol }, true);\n            }\n            if (valueCol.length > 0 || textCol !== '') {\n                this.refreshInputHight();\n                this.refreshPlaceHolder();\n            }\n        }\n        if ((this.value && this.value.length) || !isNullOrUndefined(this.text)) {\n            if (!this.list) {\n                _super.prototype.render.call(this);\n            }\n        }\n        if (!isNullOrUndefined(this.text) && (isNullOrUndefined(this.value) || this.value.length === 0)) {\n            this.initialTextUpdate();\n        }\n        if (this.value && this.value.length) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var listItems_2;\n            if (this.enableVirtualization) {\n                var fields = (this.fields.value) ? this.fields.value : '';\n                var predicate = void 0;\n                for (var i = 0; i < this.value.length; i++) {\n                    var value = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', this.value[i]) : this.value[i];\n                    if (i === 0) {\n                        predicate = new Predicate(fields, 'equal', value);\n                    }\n                    else {\n                        predicate = predicate.or(fields, 'equal', value);\n                    }\n                }\n                if (this.dataSource instanceof DataManager) {\n                    this.dataSource.executeQuery(new Query().where(predicate))\n                        .then(function (e) {\n                        if (e.result.result.length > 0) {\n                            listItems_2 = e.result.result;\n                        }\n                    });\n                }\n                else {\n                    listItems_2 = new DataManager(this.dataSource).executeLocal(new Query().where(predicate));\n                }\n            }\n            if (!(this.dataSource instanceof DataManager)) {\n                this.initialValueUpdate(listItems_2);\n                this.initialUpdate();\n            }\n            else {\n                this.setInitialValue = function () {\n                    _this.initStatus = false;\n                    _this.initialValueUpdate(listItems_2);\n                    _this.initialUpdate();\n                    _this.setInitialValue = null;\n                    _this.initStatus = true;\n                };\n            }\n            this.updateTempValue();\n        }\n        else {\n            this.initialUpdate();\n        }\n        this.initStatus = true;\n        this.checkAutoFocus();\n        if (!isNullOrUndefined(this.text)) {\n            this.element.setAttribute('data-initial-value', this.text);\n        }\n    };\n    MultiSelect.prototype.checkAutoFocus = function () {\n        if (this.element.hasAttribute('autofocus')) {\n            this.inputElement.focus();\n        }\n    };\n    MultiSelect.prototype.updatevirtualizationList = function () {\n        if (this.value && this.value.length) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var element = void 0;\n            var listItems = this.getItems();\n            for (var _i = 0, _a = this.value; _i < _a.length; _i++) {\n                var value = _a[_i];\n                var checkValue = this.allowObjectBinding ? getValue((this.fields.value) ? this.fields.value : '', value) : value;\n                element = this.getElementByValue(checkValue);\n                if (element) {\n                    this.addListSelection(element);\n                }\n            }\n            if (this.enableVirtualization && this.hideSelectedItem) {\n                var visibleListElements = this.list.querySelectorAll('li.'\n                    + dropDownBaseClasses.li\n                    + ':not(.' + HIDE_LIST + ')' + ':not(.e-reorder-hide)' + ':not(.e-virtual-list)');\n                if (visibleListElements.length) {\n                    var actualCount = this.virtualListHeight > 0 ? Math.floor(this.virtualListHeight / this.listItemHeight) : 0;\n                    if (visibleListElements.length < (actualCount + 2)) {\n                        var query = this.getForQuery(this.value).clone();\n                        query = query.skip(this.viewPortInfo.startIndex);\n                        this.resetList(this.dataSource, this.fields, query);\n                    }\n                }\n            }\n        }\n    };\n    MultiSelect.prototype.setFloatLabelType = function () {\n        removeFloating(this.overAllWrapper, this.componentWrapper, this.searchWrapper, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        if (this.floatLabelType !== 'Never') {\n            createFloatLabel(this.overAllWrapper, this.searchWrapper, this.element, this.inputElement, this.value, this.floatLabelType, this.placeholder);\n        }\n    };\n    MultiSelect.prototype.addValidInputClass = function () {\n        if (!isNullOrUndefined(this.overAllWrapper)) {\n            if ((!isNullOrUndefined(this.value) && this.value.length) || this.floatLabelType === 'Always') {\n                addClass([this.overAllWrapper], 'e-valid-input');\n            }\n            else {\n                removeClass([this.overAllWrapper], 'e-valid-input');\n            }\n        }\n    };\n    MultiSelect.prototype.dropDownIcon = function () {\n        if (this.showDropDownIcon) {\n            this.dropIcon = this.createElement('span', { className: dropdownIcon });\n            this.componentWrapper.appendChild(this.dropIcon);\n            addClass([this.componentWrapper], ['e-down-icon']);\n        }\n        else {\n            if (!isNullOrUndefined(this.dropIcon)) {\n                this.dropIcon.parentElement.removeChild(this.dropIcon);\n                removeClass([this.componentWrapper], ['e-down-icon']);\n            }\n        }\n    };\n    MultiSelect.prototype.initialUpdate = function () {\n        if (this.mode !== 'Box' && !(this.setDynValue && this.mode === 'Default' && this.inputFocus)) {\n            this.updateDelimView();\n        }\n        this.viewPortInfo.startIndex = this.virtualItemStartIndex = 0;\n        this.viewPortInfo.endIndex = this.virtualItemEndIndex = this.itemCount;\n        this.updateCssClass();\n        this.updateHTMLAttribute();\n        this.updateReadonly(this.readonly);\n        this.refreshInputHight();\n        this.checkPlaceholderSize();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    MultiSelect.prototype.destroy = function () {\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (this.popupObj) {\n            this.popupObj.hide();\n        }\n        this.notify(destroy, {});\n        this.unwireListEvents();\n        this.unWireEvent();\n        this.list = null;\n        this.popupObj = null;\n        this.mainList = null;\n        this.mainData = null;\n        this.filterParent = null;\n        this.ulElement = null;\n        this.mainListCollection = null;\n        _super.prototype.destroy.call(this);\n        var temp = ['readonly', 'aria-disabled', 'placeholder'];\n        var length = temp.length;\n        if (!isNullOrUndefined(this.inputElement)) {\n            while (length > 0) {\n                this.inputElement.removeAttribute(temp[length - 1]);\n                length--;\n            }\n        }\n        if (!isNullOrUndefined(this.element)) {\n            this.element.removeAttribute('data-initial-value');\n            this.element.style.display = 'block';\n        }\n        if (this.overAllWrapper && this.overAllWrapper.parentElement) {\n            if (this.overAllWrapper.parentElement.tagName === this.getNgDirective()) {\n                remove(this.overAllWrapper);\n            }\n            else {\n                this.overAllWrapper.parentElement.insertBefore(this.element, this.overAllWrapper);\n                remove(this.overAllWrapper);\n            }\n        }\n        this.componentWrapper = null;\n        this.overAllClear = null;\n        this.overAllWrapper = null;\n        this.hiddenElement = null;\n        this.searchWrapper = null;\n        this.viewWrapper = null;\n        this.chipCollectionWrapper = null;\n        this.targetInputElement = null;\n        this.popupWrapper = null;\n        this.inputElement = null;\n        this.delimiterWrapper = null;\n        this.popupObj = null;\n        this.popupWrapper = null;\n        this.liCollections = null;\n        this.header = null;\n        this.mainList = null;\n        this.mainListCollection = null;\n        this.footer = null;\n        this.selectAllEventEle = null;\n    };\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], MultiSelect.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], MultiSelect.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], MultiSelect.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property('None')\n    ], MultiSelect.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property([])\n    ], MultiSelect.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"query\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], MultiSelect.prototype, \"filterType\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], MultiSelect.prototype, \"locale\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"enableGroupCheckBox\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], MultiSelect.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], MultiSelect.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property({})\n    ], MultiSelect.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowCustomValue\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(1000)\n    ], MultiSelect.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiSelect.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"allowObjectBinding\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"hideSelectedItem\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"closePopupOnSelect\", void 0);\n    __decorate([\n        Property('Default')\n    ], MultiSelect.prototype, \"mode\", void 0);\n    __decorate([\n        Property(',')\n    ], MultiSelect.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('Never')\n    ], MultiSelect.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], MultiSelect.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], MultiSelect.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"enableSelectionOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], MultiSelect.prototype, \"openOnClick\", void 0);\n    __decorate([\n        Property(false)\n    ], MultiSelect.prototype, \"addTagOnBlur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removing\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"removed\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeSelectAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"selectedAll\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"chipSelection\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"tagging\", void 0);\n    __decorate([\n        Event()\n    ], MultiSelect.prototype, \"customValueSelection\", void 0);\n    MultiSelect = __decorate([\n        NotifyPropertyChanges\n    ], MultiSelect);\n    return MultiSelect;\n}(DropDownBase));\nexport { MultiSelect };\n","import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\n * The Multiselect enable CheckBoxSelection call this inject module.\n */\nvar CheckBoxSelection = /** @class */ (function () {\n    function CheckBoxSelection(parent) {\n        this.activeLi = [];\n        this.activeEle = [];\n        this.parent = parent;\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    CheckBoxSelection.prototype.getModuleName = function () {\n        return 'CheckBoxSelection';\n    };\n    CheckBoxSelection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('updatelist', this.listSelection, this);\n        this.parent.on('listoption', this.listOption, this);\n        this.parent.on('selectAll', this.setSelectAll, this);\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\n        this.parent.on('searchBox', this.setSearchBox, this);\n        this.parent.on('blur', this.onBlurHandler, this);\n        this.parent.on('targetElement', this.targetElement, this);\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n        this.parent.on('inputFocus', this.getFocus, this);\n        this.parent.on('reOrder', this.setReorder, this);\n        this.parent.on('activeList', this.getActiveList, this);\n        this.parent.on('selectAllText', this.setLocale, this);\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n        this.parent.on('addItem', this.checboxCreate, this);\n        this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\n    };\n    CheckBoxSelection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updatelist', this.listSelection);\n        this.parent.off('listoption', this.listOption);\n        this.parent.off('selectAll', this.setSelectAll);\n        this.parent.off('checkSelectAll', this.checkSelectAll);\n        this.parent.off('searchBox', this.setSearchBox);\n        this.parent.off('blur', this.onBlurHandler);\n        this.parent.off('targetElement', this.targetElement);\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n        this.parent.off('inputFocus', this.getFocus);\n        this.parent.off('reOrder', this.setReorder);\n        this.parent.off('activeList', this.getActiveList);\n        this.parent.off('selectAllText', this.setLocale);\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n        this.parent.off('addItem', this.checboxCreate);\n        this.parent.off('popupFullScreen', this.setPopupFullScreen);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.listOption = function (args) {\n        var _this = this;\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n            };\n        }\n        else {\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n            this.parent.listCurrentOptions.itemCreated = function (e) {\n                _this.checboxCreate(e);\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n    };\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n    };\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\n        var item;\n        if (!isNullOrUndefined(e.item)) {\n            item = e.item;\n        }\n        else {\n            item = e;\n        }\n        if (this.parent.enableGroupCheckBox || (item.className !== 'e-list-group-item '\n            && item.className !== 'e-list-group-item')) {\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\n            var icon = select('div.' + ICON, item);\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            select('.' + CHECKBOXFRAME, checkboxEle);\n            if (this.parent.enableGroupCheckBox) {\n                this.parent.popupWrapper.classList.add('e-multiselect-group');\n            }\n            return item;\n        }\n        else {\n            return item;\n        }\n    };\n    CheckBoxSelection.prototype.setSelectAll = function () {\n        if (this.parent.showSelectAll) {\n            if (isNullOrUndefined(this.checkAllParent)) {\n                this.checkAllParent = this.parent.createElement('div', {\n                    className: checkAllParent\n                });\n                this.selectAllSpan = this.parent.createElement('span', {\n                    className: 'e-all-text'\n                });\n                this.selectAllSpan.textContent = '';\n                this.checkAllParent.appendChild(this.selectAllSpan);\n                this.setLocale();\n                this.checboxCreate(this.checkAllParent);\n                if (this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        append([this.checkAllParent], this.parent.filterParent);\n                    }\n                    else {\n                        append([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                if (!this.parent.headerTemplate) {\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\n                        this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n                    }\n                    else {\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\n                    }\n                }\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n            }\n            if (this.parent.list.classList.contains('e-nodata') || (this.parent.listData && this.parent.listData.length <= 1 && !this.parent.enableVirtualization &&\n                !(this.parent.isDynamicDataChange)) || (this.parent.isDynamicDataChange &&\n                this.parent.listData && this.parent.listData.length <= 1)) {\n                this.checkAllParent.style.display = 'none';\n            }\n            else {\n                this.checkAllParent.style.display = 'block';\n            }\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        else if (!isNullOrUndefined(this.checkAllParent)) {\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    CheckBoxSelection.prototype.destroy = function () {\n        this.removeEventListener();\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.checkAllParent = null;\n        this.clearIconElement = null;\n        this.filterInput = null;\n        this.filterInputObj = null;\n        this.checkWrapper = null;\n        this.selectAllSpan = null;\n    };\n    CheckBoxSelection.prototype.listSelection = function (args) {\n        var target;\n        if (!isNullOrUndefined(args.e)) {\n            var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\n            target = !isNullOrUndefined(args.e.target) ?\n                (args.e.target.classList.contains('e-frame')\n                    && (!this.parent.showSelectAll\n                        || (this.checkAllParent && !this.checkAllParent.contains(args.e.target)))) ?\n                    args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]\n                : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n        }\n        else {\n            var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\n            target = checkboxWrapper ? checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\n        }\n        if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n            target = args.li.firstElementChild.childNodes[1];\n        }\n        if (!isNullOrUndefined(target)) {\n            this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        }\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            var selectAll = false;\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n        }\n    };\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n    };\n    CheckBoxSelection.prototype.clickHandler = function (e) {\n        var target;\n        if (e.currentTarget.classList.contains(this.checkAllParent.className) || (e.currentTarget.classList.value === this.checkAllParent.className)) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.currentTarget;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        var selectAll = true;\n        if (!isNullOrUndefined(this.checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n        }\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (selectAll) {\n                this.parent.selectAllItems(true, e);\n                this.setLocale(true);\n            }\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n        else if (state === 'indeterminate' && !(frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK]);\n            frameSpan.classList.add(INDETERMINATE);\n            ariaState = 'false';\n            if (selectAll) {\n                this.parent.selectAllItems(false, e);\n                this.setLocale();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\n        if (isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent = this.parent.createElement('span', {\n                className: filterParent\n            });\n            this.filterInput = this.parent.createElement('input', {\n                attrs: { type: 'text' },\n                className: filterInput\n            });\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n            var backIcon = false;\n            if (Browser.isDevice) {\n                backIcon = true;\n                this.parent.mobFilter = false;\n            }\n            this.filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n                properties: { placeholder: this.parent.filterBarPlaceholder }\n            }, this.parent.createElement);\n            if (!isNullOrUndefined(this.parent.cssClass)) {\n                if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-outline');\n                }\n                else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\n                    addClass([this.filterInputObj.container], 'e-filled');\n                }\n            }\n            append([this.filterInputObj.container], this.parent.filterParent);\n            prepend([this.parent.filterParent], args.popupElement);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'role': 'combobox',\n                'autocomplete': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false',\n                'aria-label': 'multiselect',\n                'aria-expanded': 'true',\n                'aria-controls': args.popupElement.id\n            });\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n            if (!Browser.isDevice && this.clearIconElement) {\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n                this.clearIconElement.style.visibility = 'hidden';\n            }\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n            EventHandler.add(this.filterInput, 'keyup', this.parent.keyUp, this.parent);\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n            EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\n            return this.filterInputObj;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n        this.parent.hidePopup();\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n        this.parent.inputElement.focus();\n    };\n    CheckBoxSelection.prototype.clearText = function (e) {\n        this.parent.targetInputElement.value = '';\n        if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\n            this.parent.search(null);\n        }\n        this.parent.refreshListItems(null);\n        this.parent.refreshPopup();\n        this.clearIconElement.style.visibility = 'hidden';\n        this.filterInput.focus();\n        this.setReorder(e);\n        this.boundPreventListSelection = this.preventListSelection.bind(this);\n        this.parent.popupWrapper.addEventListener('mouseup', this.boundPreventListSelection, true);\n        e.preventDefault();\n    };\n    CheckBoxSelection.prototype.preventListSelection = function (e) {\n        e.stopPropagation();\n        this.parent.popupWrapper.removeEventListener('mouseup', this.boundPreventListSelection, true);\n        this.boundPreventListSelection = null;\n    };\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n        this.parent.popupObj.element.classList.add(device);\n        this.parent.popupObj.element.classList.add(mobileFilter);\n        this.parent.popupObj.position = { X: 0, Y: 0 };\n        this.parent.popupObj.dataBind();\n        this.setSearchBoxPosition();\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n        this.clearIconElement.style.visibility = 'hidden';\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n    };\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n        var selectAllHeight = 0;\n        if (this.checkAllParent) {\n            selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n        }\n        this.parent.popupObj.element.style.maxHeight = '100%';\n        this.parent.popupObj.element.style.width = '100%';\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n        detach(this.filterInput);\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n    };\n    CheckBoxSelection.prototype.setPopupFullScreen = function () {\n        if (this.parent && this.parent.popupObj) {\n            attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\n            addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n            this.parent.popupObj.element.style.maxHeight = '100%';\n            this.parent.popupObj.element.style.width = '100%';\n        }\n    };\n    CheckBoxSelection.prototype.targetElement = function () {\n        if (!isNullOrUndefined(this.clearIconElement)) {\n            this.parent.targetInputElement = this.filterInput;\n            this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n        }\n        return this.parent.targetInputElement.value;\n    };\n    CheckBoxSelection.prototype.onBlurHandler = function (e) {\n        if (!this.parent.element.classList.contains('e-listbox')) {\n            var target = void 0;\n            if (this.parent.keyAction) {\n                return;\n            }\n            if (Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.target;\n            }\n            if (!Browser.isIE) {\n                target = !isNullOrUndefined(e) && e.relatedTarget;\n            }\n            // eslint-disable-next-line max-len\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target)\n                && !Browser.isIE && this.filterInput) {\n                this.filterInput.focus();\n                return;\n            }\n            if (this.parent.scrollFocusStatus && this.filterInput) {\n                e.preventDefault();\n                this.filterInput.focus();\n                this.parent.scrollFocusStatus = false;\n                return;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element)\n                && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n                this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n                this.parent.inputFocus = false;\n                this.parent.overAllWrapper.classList.remove(FOCUS);\n                this.parent.trigger('blur');\n                this.parent.focused = true;\n            }\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\n                !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n                this.parent.hidePopup();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\n        if (this.parent.getLocaleName() !== 'listbox') {\n            var target = e.target;\n            if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\n                if (!(this.filterInput && this.filterInput.value !== '')) {\n                    e.preventDefault();\n                }\n            }\n            if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]'))\n                && !isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target)) {\n                if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n                    this.parent.inputFocus = false;\n                    this.parent.scrollFocusStatus = false;\n                    this.parent.hidePopup();\n                    this.parent.onBlurHandler(e, true);\n                    this.parent.focused = true;\n                }\n            }\n            else {\n                this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') &&\n                    (document.activeElement === this.filterInput);\n            }\n            if (!isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\n                !this.parent.isPopupOpen()) {\n                if (Browser.isIE) {\n                    this.parent.onBlurHandler();\n                }\n                else {\n                    this.parent.onBlurHandler(e);\n                }\n            }\n            if (this.filterInput === target) {\n                this.filterInput.focus();\n            }\n        }\n    };\n    CheckBoxSelection.prototype.getFocus = function (e) {\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\n            this.parent.keyAction = false;\n            return;\n        }\n        if (e.value === 'focus') {\n            this.filterInput.focus();\n            this.parent.removeFocus();\n            EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n        }\n        if (e.value === 'clear') {\n            this.filterInput.value = '';\n            this.clearIconElement.style.visibility = 'hidden';\n        }\n    };\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\n        if (e.value === 'check') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale(true);\n        }\n        if (e.value === 'uncheck') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n        if (e.value === 'indeterminate') {\n            this.changeState(this.checkAllParent, e.value, null, null, false);\n            this.setLocale();\n        }\n    };\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n            this.selectAllSpan.textContent = '';\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All' };\n            var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n            if (l10n.getConstant('selectAllText') === '') {\n                l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n            }\n            this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n        }\n    };\n    CheckBoxSelection.prototype.getActiveList = function (args) {\n        if (args.li.classList.contains('e-active')) {\n            this.activeLi.push(args.li.cloneNode(true));\n        }\n        else {\n            this.activeLi.splice(args.index, 1);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxSelection.prototype.setReorder = function (args) {\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n            var remLi = void 0;\n            var ulEle_1 = this.parent.createElement('ul', {\n                className: 'e-list-parent e-ul e-reorder'\n            });\n            if (activeLiCount > 0) {\n                var activeListItems = this.parent.ulElement.querySelectorAll('li.e-active');\n                activeListItems.forEach(function (item) {\n                    ulEle_1.appendChild(item);\n                });\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n                addClass(remLi, 'e-reorder-hide');\n                if (this.parent.enableVirtualization) {\n                    var virtualUlElement = this.parent.list.querySelector('.e-virtual-ddl-content');\n                    prepend([ulEle_1], virtualUlElement);\n                }\n                else {\n                    prepend([ulEle_1], this.parent.list);\n                }\n            }\n            this.parent.focusAtFirstListItem();\n        }\n    };\n    return CheckBoxSelection;\n}());\nexport { CheckBoxSelection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-base/drop-down-base-model.d.ts'/>\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { EventHandler, closest, removeClass, addClass, Complex, Property, ChildProperty, L10n, setValue } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, getComponent, Event, extend, detach, attributes } from '@syncfusion/ej2-base';\nimport { getUniqueID, Browser, formatUnit, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { prepend, append } from '@syncfusion/ej2-base';\nimport { cssClass, Sortable, moveTo } from '@syncfusion/ej2-lists';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { createSpinner, showSpinner, hideSpinner, getZindexPartial } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nvar ITEMTEMPLATE_PROPERTY = 'ItemTemplate';\n/**\n * Defines the Selection settings of List Box.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Multiple')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"showCheckbox\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Left')\n    ], SelectionSettings.prototype, \"checkboxPosition\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n/**\n * Defines the toolbar settings of List Box.\n */\nvar ToolbarSettings = /** @class */ (function (_super) {\n    __extends(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], ToolbarSettings.prototype, \"items\", void 0);\n    __decorate([\n        Property('Right')\n    ], ToolbarSettings.prototype, \"position\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\nexport { ToolbarSettings };\n/**\n * The ListBox is a graphical user interface component used to display a list of items.\n * Users can select one or more items in the list using a checkbox or by keyboard selection.\n * It supports sorting, grouping, reordering and drag and drop of items.\n * ```html\n * <select id=\"listbox\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n * <script>\n *   var listObj = new ListBox();\n *   listObj.appendTo(\"#listbox\");\n * </script>\n * ```\n */\nvar ListBox = /** @class */ (function (_super) {\n    __extends(ListBox, _super);\n    /**\n     * Constructor for creating the ListBox component.\n     *\n     * @param {ListBoxModel} options - Specifies ListBox model\n     * @param {string | HTMLElement} element - Specifies the element.\n     */\n    function ListBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isValidKey = false;\n        _this.isDataSourceUpdate = false;\n        _this.keyDownStatus = false;\n        return _this;\n    }\n    ListBox_1 = ListBox;\n    /**\n     * Adds a new item to the popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}.\n     * @private\n     */\n    ListBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Build and render the component.\n     *\n     * @private\n     * @returns {void}\n     */\n    ListBox.prototype.render = function () {\n        if (this.isAngular && this.allowFiltering) {\n            var originalElement = this.element;\n            var clonedElement = originalElement.cloneNode(true);\n            originalElement.parentNode.replaceChild(clonedElement, originalElement);\n            this.element = clonedElement;\n            setValue('ej2_instances', [this], this.element);\n        }\n        this.inputString = '';\n        this.initLoad = true;\n        this.isCustomFiltering = false;\n        this.initialSelectedOptions = this.value;\n        this.inputFormName = this.element.getAttribute('name');\n        _super.prototype.render.call(this);\n        this.setEnabled();\n        this.renderComplete();\n    };\n    ListBox.prototype.initWrapper = function () {\n        var hiddenSelect = this.createElement('select', { className: 'e-hidden-select', attrs: { 'multiple': '' } });\n        hiddenSelect.style.visibility = 'hidden';\n        this.list.classList.add('e-listbox-wrapper');\n        this.list.querySelector('.e-list-parent').setAttribute('role', 'presentation');\n        var groupHdrs = this.list.querySelectorAll('.e-list-group-item');\n        for (var i = 0; i < groupHdrs.length; i++) {\n            groupHdrs[i].removeAttribute('tabindex');\n            groupHdrs[i].setAttribute('role', 'option');\n        }\n        if (this.itemTemplate) {\n            this.list.classList.add('e-list-template');\n        }\n        this.list.classList.add('e-wrapper');\n        this.list.classList.add('e-lib');\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.setAttribute('tabindex', '0');\n            if (this.initLoad) {\n                this.element.appendChild(this.list);\n            }\n        }\n        else {\n            if (this.initLoad) {\n                this.element.parentElement.insertBefore(this.list, this.element);\n            }\n            this.list.insertBefore(this.element, this.list.firstChild);\n            this.element.style.display = 'none';\n        }\n        this.list.insertBefore(hiddenSelect, this.list.firstChild);\n        if (this.list.getElementsByClassName('e-list-item')[0]) {\n            this.list.getElementsByClassName('e-list-item')[0].classList.remove(dropDownBaseClasses.focus);\n        }\n        if (this.itemTemplate) {\n            this.renderReactTemplates();\n        }\n        removeClass([this.list], [dropDownBaseClasses.content, dropDownBaseClasses.root]);\n        this.validationAttribute(this.element, hiddenSelect);\n        this.list.setAttribute('role', 'listbox');\n        attributes(this.list, { 'role': 'listbox', 'aria-label': 'listbox', 'aria-multiselectable': this.selectionSettings.mode === 'Multiple' ? 'true' : 'false' });\n        this.updateSelectionSettings();\n    };\n    ListBox.prototype.updateSelectionSettings = function () {\n        if (this.selectionSettings.showCheckbox && this.selectionSettings.showSelectAll && this.liCollections.length) {\n            var l10nSelect = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n            this.showSelectAll = true;\n            this.selectAllText = l10nSelect.getConstant('selectAllText');\n            this.unSelectAllText = l10nSelect.getConstant('unSelectAllText');\n            this.popupWrapper = this.list;\n            this.checkBoxSelectionModule.checkAllParent = null;\n            this.notify('selectAll', {});\n        }\n    };\n    ListBox.prototype.initDraggable = function () {\n        var _this = this;\n        if (this.ulElement) {\n            this.ulElement.id = this.element.id + '_parent';\n        }\n        if (this.allowDragAndDrop) {\n            new Sortable(this.ulElement, {\n                scope: this.scope,\n                itemClass: 'e-list-item',\n                dragStart: this.triggerDragStart.bind(this),\n                drag: this.triggerDrag.bind(this),\n                beforeDrop: this.beforeDragEnd.bind(this),\n                drop: this.dragEnd.bind(this),\n                placeHolder: function () { return _this.createElement('span', { className: 'e-placeholder' }); },\n                helper: function (e) {\n                    var wrapper = _this.list.cloneNode();\n                    var ele = e.sender.cloneNode(true);\n                    wrapper.appendChild(ele);\n                    var refEle = _this.getItems()[0];\n                    wrapper.style.width = refEle.offsetWidth + 'px';\n                    wrapper.style.height = refEle.offsetHeight + 'px';\n                    if ((_this.value && _this.value.length) > 1 && _this.isSelected(ele)) {\n                        ele.appendChild(_this.createElement('span', {\n                            className: 'e-list-badge', innerHTML: _this.value.length + ''\n                        }));\n                    }\n                    wrapper.style.zIndex = getZindexPartial(_this.element) + '';\n                    return wrapper;\n                }\n            });\n        }\n    };\n    ListBox.prototype.updateActionCompleteData = function (li, item, index) {\n        this.jsonData.splice(index, 0, item);\n    };\n    ListBox.prototype.initToolbar = function () {\n        var pos = this.toolbarSettings.position;\n        var prevScope = this.element.getAttribute('data-value');\n        if (this.toolbarSettings.items.length) {\n            var toolElem = this.createElement('div', { className: 'e-listbox-tool', attrs: { 'role': 'toolbar' } });\n            var wrapper = this.createElement('div', {\n                className: 'e-listboxtool-wrapper e-lib e-' + pos.toLowerCase()\n            });\n            this.list.parentElement.insertBefore(wrapper, this.list);\n            wrapper.appendChild(pos === 'Right' ? this.list : toolElem);\n            wrapper.appendChild(pos === 'Right' ? toolElem : this.list);\n            this.createButtons(toolElem);\n            if (!this.element.id) {\n                this.element.id = getUniqueID('e-' + this.getModuleName());\n            }\n            if (this.scope) {\n                document.querySelector(this.scope).setAttribute('data-value', this.element.id);\n            }\n            else {\n                this.updateToolBarState();\n            }\n        }\n        var scope = this.element.getAttribute('data-value');\n        if (prevScope && scope && (prevScope !== scope)) {\n            this.tBListBox = getComponent(document.getElementById(prevScope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n        else if (scope) {\n            this.tBListBox = getComponent(document.getElementById(scope), this.getModuleName());\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.createButtons = function (toolElem) {\n        var _this = this;\n        var btn;\n        var ele;\n        var title;\n        var l10n = new L10n(this.getModuleName(), {\n            moveUp: 'Move Up', moveDown: 'Move Down', moveTo: 'Move To',\n            moveFrom: 'Move From', moveAllTo: 'Move All To', moveAllFrom: 'Move All From'\n        }, this.locale);\n        this.toolbarSettings.items.forEach(function (value) {\n            title = l10n.getConstant(value);\n            ele = _this.createElement('button', {\n                attrs: {\n                    'type': 'button',\n                    'data-value': value,\n                    'title': title,\n                    'aria-label': title\n                }\n            });\n            toolElem.appendChild(ele);\n            btn = new Button({ iconCss: 'e-icons e-' + value.toLowerCase() }, ele);\n            btn.createElement = _this.createElement;\n        });\n    };\n    ListBox.prototype.validationAttribute = function (input, hiddenSelect) {\n        if (this.inputFormName) {\n            input.setAttribute('name', this.inputFormName);\n        }\n        _super.prototype.validationAttribute.call(this, input, hiddenSelect);\n        hiddenSelect.required = input.required;\n        input.required = false;\n    };\n    ListBox.prototype.setHeight = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        ele.style.height = formatUnit(this.height);\n        if (this.allowFiltering && this.height.toString().indexOf('%') < 0) {\n            addClass([this.list], 'e-filter-list');\n        }\n        else {\n            removeClass([this.list], 'e-filter-list');\n        }\n    };\n    ListBox.prototype.setCssClass = function () {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.cssClass) {\n            addClass([wrap], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        if (this.enableRtl) {\n            addClass([this.list], 'e-rtl');\n        }\n    };\n    ListBox.prototype.setEnable = function () {\n        var ele = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        if (this.enabled) {\n            removeClass([ele], cssClass.disabled);\n        }\n        else {\n            addClass([ele], cssClass.disabled);\n        }\n    };\n    ListBox.prototype.showSpinner = function () {\n        if (!this.spinner) {\n            this.spinner = this.createElement('div', { className: 'e-listbox-wrapper' });\n        }\n        this.spinner.style.height = formatUnit(this.height);\n        this.element.parentElement.insertBefore(this.spinner, this.element.nextSibling);\n        createSpinner({ target: this.spinner }, this.createElement);\n        showSpinner(this.spinner);\n    };\n    ListBox.prototype.hideSpinner = function () {\n        if (this.spinner.querySelector('.e-spinner-pane')) {\n            hideSpinner(this.spinner);\n        }\n        if (this.spinner.parentElement) {\n            detach(this.spinner);\n        }\n    };\n    ListBox.prototype.onInput = function () {\n        this.isDataSourceUpdate = false;\n        if (this.keyDownStatus) {\n            this.isValidKey = true;\n        }\n        else {\n            this.isValidKey = false;\n        }\n        this.keyDownStatus = false;\n        this.refreshClearIcon();\n    };\n    ListBox.prototype.clearText = function () {\n        this.filterInput.value = '';\n        this.refreshClearIcon();\n        var event = document.createEvent('KeyboardEvent');\n        this.isValidKey = true;\n        this.KeyUp(event);\n    };\n    ListBox.prototype.refreshClearIcon = function () {\n        if (this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon)) {\n            var clearElement = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n            clearElement.style.visibility = this.filterInput.value === '' ? 'hidden' : 'visible';\n        }\n    };\n    ListBox.prototype.onActionComplete = function (ulElement, list, e) {\n        var searchEle;\n        var filterElem;\n        var txtLength;\n        if (this.allowFiltering && this.list.getElementsByClassName('e-filter-parent')[0]) {\n            searchEle = this.list.getElementsByClassName('e-filter-parent')[0].cloneNode(true);\n        }\n        if (list.length === 0) {\n            var noRecElem = ulElement.childNodes[0];\n            if (noRecElem) {\n                ulElement.removeChild(noRecElem);\n            }\n        }\n        if (this.allowFiltering) {\n            filterElem = this.list.getElementsByClassName('e-input-filter')[0];\n            if (filterElem) {\n                txtLength = filterElem.selectionStart;\n            }\n        }\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.allowFiltering && !isNullOrUndefined(searchEle)) {\n            this.list.insertBefore(searchEle, this.list.firstElementChild);\n            this.filterParent = this.list.getElementsByClassName('e-filter-parent')[0];\n            this.filterWireEvents(searchEle);\n            var inputSearch = searchEle.querySelector('.e-input-filter');\n            if (inputSearch) {\n                inputSearch.addEventListener('focus', function () {\n                    if (!searchEle.childNodes[0].classList.contains('e-input-focus')) {\n                        searchEle.childNodes[0].classList.add('e-input-focus');\n                    }\n                });\n                inputSearch.addEventListener('blur', function () {\n                    if (searchEle.childNodes[0].classList.contains('e-input-focus')) {\n                        searchEle.childNodes[0].classList.remove('e-input-focus');\n                    }\n                });\n            }\n        }\n        this.initWrapper();\n        this.setSelection(this.value, true, false, !this.isRendered);\n        this.initDraggable();\n        this.mainList = this.ulElement;\n        if (this.initLoad) {\n            this.jsonData = [];\n            extend(this.jsonData, list, []);\n            this.initToolbarAndStyles();\n            this.wireEvents();\n            if (this.showCheckbox) {\n                this.setCheckboxPosition();\n            }\n            if (this.allowFiltering) {\n                this.setFiltering();\n            }\n        }\n        else {\n            if (this.isDataSourceUpdate) {\n                this.jsonData = [];\n                extend(this.jsonData, list, []);\n                this.isDataSourceUpdate = false;\n            }\n            if (this.allowFiltering) {\n                filterElem = this.list.getElementsByClassName('e-input-filter')[0];\n                filterElem.selectionStart = txtLength;\n                filterElem.selectionEnd = txtLength;\n                filterElem.focus();\n            }\n        }\n        if (this.toolbarSettings.items.length && this.scope && this.scope.indexOf('#') > -1 && !isNullOrUndefined(e)) {\n            var scope = this.scope.replace('#', '');\n            var scopedLB = getComponent(document.getElementById(scope), this.getModuleName());\n            scopedLB.initToolbar();\n        }\n        this.initLoad = false;\n    };\n    ListBox.prototype.initToolbarAndStyles = function () {\n        this.initToolbar();\n        this.setCssClass();\n        this.setEnable();\n        this.setHeight();\n    };\n    ListBox.prototype.triggerDragStart = function (args) {\n        var _this = this;\n        var badge;\n        args = extend(this.getDragArgs(args), { dragSelected: true });\n        if (Browser.isIos) {\n            this.list.style.overflow = 'hidden';\n        }\n        this.trigger('dragStart', args, function (dragEventArgs) {\n            _this.allowDragAll = dragEventArgs.dragSelected;\n            if (!_this.allowDragAll) {\n                badge = _this.ulElement.getElementsByClassName('e-list-badge')[0];\n                if (badge) {\n                    detach(badge);\n                }\n            }\n        });\n    };\n    ListBox.prototype.triggerDrag = function (args) {\n        var _this = this;\n        var scrollParent;\n        var boundRect;\n        var scrollMoved = 36;\n        var scrollHeight = 10;\n        if (this.itemTemplate && args.target) {\n            if (args.target && args.target.closest('.e-list-item')) {\n                scrollHeight = args.target.closest('.e-list-item').scrollHeight;\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var listItem = args.element.querySelector('.e-list-item');\n                if (listItem) {\n                    scrollHeight = listItem.scrollHeight;\n                }\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var event = args.event;\n        var wrapper;\n        this.stopTimer();\n        if (args.target && (args.target.classList.contains('e-listbox-wrapper') || args.target.classList.contains('e-list-item')\n            || args.target.classList.contains('e-filter-parent') || args.target.classList.contains('e-input-group')\n            || args.target.closest('.e-list-item'))) {\n            if (args.target.classList.contains('e-list-item') || args.target.classList.contains('e-filter-parent')\n                || args.target.classList.contains('e-input-group')\n                || args.target.closest('.e-list-item')) {\n                wrapper = args.target.closest('.e-listbox-wrapper');\n            }\n            else {\n                wrapper = args.target;\n            }\n            if (this.allowFiltering) {\n                scrollParent = wrapper.querySelector('.e-list-parent');\n            }\n            else {\n                scrollParent = wrapper;\n            }\n            boundRect = scrollParent.getBoundingClientRect();\n            if ((boundRect.y + scrollParent.offsetHeight) - (event.clientY + scrollMoved) < 1) {\n                this.timer = window.setInterval(function () { _this.setScrollDown(scrollParent, scrollHeight, true); }, 70);\n            }\n            else if ((event.clientY - scrollMoved) - boundRect.y < 1) {\n                this.timer = window.setInterval(function () { _this.setScrollDown(scrollParent, scrollHeight, false); }, 70);\n            }\n        }\n        if (args.target === null) {\n            return;\n        }\n        this.trigger('drag', this.getDragArgs(args));\n    };\n    ListBox.prototype.setScrollDown = function (scrollElem, scrollPixel, isScrollDown) {\n        if (isScrollDown) {\n            scrollElem.scrollTop = scrollElem.scrollTop + scrollPixel;\n        }\n        else {\n            scrollElem.scrollTop = scrollElem.scrollTop - scrollPixel;\n        }\n    };\n    ListBox.prototype.stopTimer = function () {\n        window.clearInterval(this.timer);\n    };\n    ListBox.prototype.beforeDragEnd = function (args) {\n        this.stopTimer();\n        var items = [];\n        this.dragValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        if (this.value.indexOf(this.dragValue) > -1) {\n            args.items = this.getDataByValues(this.value);\n        }\n        else {\n            args.items = this.getDataByValues([this.dragValue]);\n        }\n        extend(items, args.items);\n        this.trigger('beforeDrop', args);\n        if (args.items !== items) {\n            this.customDraggedItem = args.items;\n        }\n    };\n    ListBox.prototype.dragEnd = function (args) {\n        var _this = this;\n        var listData;\n        var liColl;\n        var jsonData;\n        var droppedData;\n        var selectedOptions;\n        var sortedData;\n        var dropValue = this.getFormattedValue(args.droppedElement.getAttribute('data-value'));\n        var listObj = this.getComponent(args.droppedElement);\n        var getArgs = this.getDragArgs({ target: args.droppedElement }, true);\n        var sourceArgs = { previousData: this.dataSource };\n        var destArgs = { previousData: listObj.dataSource };\n        var dragArgs = extend({}, getArgs, { target: args.target, source: { previousData: this.dataSource },\n            previousIndex: args.previousIndex, currentIndex: args.currentIndex });\n        if (listObj !== this) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: this.listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1, destination: destArgs });\n        }\n        if (Browser.isIos) {\n            this.list.style.overflow = '';\n        }\n        var targetListObj = this.getComponent(args.target);\n        if (targetListObj && targetListObj.listData.length === 0) {\n            var noRecElem = targetListObj.ulElement.childNodes[0];\n            if (noRecElem) {\n                targetListObj.ulElement.removeChild(noRecElem);\n            }\n        }\n        if (listObj === this) {\n            var ul_1 = this.ulElement;\n            listData = [].slice.call(this.listData);\n            liColl = [].slice.call(this.liCollections);\n            jsonData = [].slice.call(this.jsonData);\n            sortedData = [].slice.call(this.sortedData);\n            var toSortIdx_1 = args.currentIndex;\n            var toIdx_1 = args.currentIndex = this.getCurIdx(this, args.currentIndex);\n            var rIdx = listData.indexOf(this.getDataByValue(dropValue));\n            var jsonIdx = jsonData.indexOf(this.getDataByValue(dropValue));\n            var sIdx = sortedData.indexOf(this.getDataByValue(dropValue));\n            listData.splice(toIdx_1, 0, listData.splice(rIdx, 1)[0]);\n            sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx, 1)[0]);\n            jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx, 1)[0]);\n            liColl.splice(toIdx_1, 0, liColl.splice(rIdx, 1)[0]);\n            if (this.allowDragAll) {\n                selectedOptions = this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 ? this.value : [dropValue];\n                if (!isNullOrUndefined(this.customDraggedItem)) {\n                    selectedOptions = [];\n                    this.customDraggedItem.forEach(function (item) {\n                        selectedOptions.push(getValue(_this.fields.value, item));\n                    });\n                }\n                selectedOptions.forEach(function (value) {\n                    if (value !== dropValue) {\n                        var idx = listData.indexOf(_this.getDataByValue(value));\n                        var jsonIdx_1 = jsonData.indexOf(_this.getDataByValue(value));\n                        var sIdx_1 = sortedData.indexOf(_this.getDataByValue(value));\n                        if (idx > toIdx_1) {\n                            toIdx_1++;\n                        }\n                        jsonData.splice(toIdx_1, 0, jsonData.splice(jsonIdx_1, 1)[0]);\n                        listData.splice(toIdx_1, 0, listData.splice(idx, 1)[0]);\n                        sortedData.splice(toSortIdx_1, 0, sortedData.splice(sIdx_1, 1)[0]);\n                        liColl.splice(toIdx_1, 0, liColl.splice(idx, 1)[0]);\n                        ul_1.insertBefore(_this.getItems()[_this.getIndexByValue(value)], ul_1.getElementsByClassName('e-placeholder')[0]);\n                    }\n                });\n            }\n            this.listData = listData;\n            this.jsonData = jsonData;\n            this.sortedData = sortedData;\n            this.liCollections = liColl;\n        }\n        else {\n            var li_1;\n            var fLiColl_1 = [].slice.call(this.liCollections);\n            var currIdx_1 = args.currentIndex = this.getCurIdx(listObj, args.currentIndex);\n            var ul_2 = listObj.ulElement;\n            listData = [].slice.call(listObj.listData);\n            liColl = [].slice.call(listObj.liCollections);\n            jsonData = [].slice.call(listObj.jsonData);\n            sortedData = [].slice.call(listObj.sortedData);\n            selectedOptions = (this.value && Array.prototype.indexOf.call(this.value, dropValue) > -1 && this.allowDragAll)\n                ? this.value : [dropValue];\n            if (!isNullOrUndefined(this.customDraggedItem)) {\n                selectedOptions = [];\n                this.customDraggedItem.forEach(function (item) {\n                    selectedOptions.push(getValue(_this.fields.value, item));\n                });\n            }\n            var fListData_1 = [].slice.call(this.listData);\n            var fSortData_1 = [].slice.call(this.sortedData);\n            selectedOptions.forEach(function (value, index) {\n                droppedData = _this.getDataByValue(value);\n                var srcIdx = _this.listData.indexOf(droppedData);\n                var jsonSrcIdx = _this.jsonData.indexOf(droppedData);\n                var sortIdx = _this.sortedData.indexOf(droppedData);\n                fListData_1.splice(srcIdx, 1);\n                _this.jsonData.splice(jsonSrcIdx, 1);\n                fSortData_1.splice(sortIdx, 1);\n                _this.listData = fListData_1;\n                _this.sortedData = fSortData_1;\n                var destIdx = value === dropValue ? args.currentIndex : currIdx_1;\n                listData.splice(destIdx, 0, droppedData);\n                jsonData.splice(destIdx, 0, droppedData);\n                sortedData.splice(destIdx, 0, droppedData);\n                liColl.splice(destIdx, 0, fLiColl_1.splice(srcIdx, 1)[0]);\n                if (!value) {\n                    var liCollElem_1 = _this.getItems();\n                    for (var i = 0; i < liCollElem_1.length; i++) {\n                        if (liCollElem_1[i].getAttribute('data-value') === null && liCollElem_1[i].classList.contains('e-list-item')) {\n                            li_1 = liCollElem_1[i];\n                            break;\n                        }\n                    }\n                }\n                else {\n                    li_1 = _this.getItems()[_this.getIndexByValue(value)];\n                }\n                if (!li_1) {\n                    li_1 = args.helper;\n                }\n                _this.removeSelected(_this, value === dropValue ? [args.droppedElement] : [li_1]);\n                ul_2.insertBefore(li_1, ul_2.getElementsByClassName('e-placeholder')[0]);\n                currIdx_1++;\n            });\n            if (this.fields.groupBy) {\n                var sourceElem = this.renderItems(this.listData, this.fields);\n                this.updateListItems(sourceElem, this.ulElement);\n                this.setSelection();\n            }\n            if (listObj.sortOrder !== 'None' || this.selectionSettings.showCheckbox\n                !== listObj.selectionSettings.showCheckbox || listObj.fields.groupBy || listObj.itemTemplate || this.itemTemplate) {\n                var sortable = getComponent(ul_2, 'sortable');\n                var sourceElem = listObj.renderItems(listData, listObj.fields);\n                listObj.updateListItems(sourceElem, ul_2);\n                this.setSelection();\n                if (sortable.placeHolderElement) {\n                    ul_2.appendChild(sortable.placeHolderElement);\n                }\n                ul_2.appendChild(args.helper);\n                listObj.setSelection();\n            }\n            this.liCollections = fLiColl_1;\n            listObj.liCollections = liColl;\n            listObj.jsonData = extend([], [], jsonData, false);\n            listObj.listData = extend([], [], listData, false);\n            listObj.sortedData = extend([], [], sortedData, false);\n            if (this.listData.length === 0) {\n                this.l10nUpdate();\n            }\n        }\n        if (this === listObj) {\n            var sourceArgs1 = extend(sourceArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { source: sourceArgs1 });\n        }\n        else {\n            var dragArgs1 = extend(destArgs, { currentData: listData });\n            dragArgs = extend(dragArgs, { destination: dragArgs1 });\n        }\n        if (!isNullOrUndefined(this.customDraggedItem)) {\n            dragArgs.items = this.customDraggedItem;\n        }\n        this.trigger('drop', dragArgs);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var liCollElem = dragArgs.elements;\n        if (liCollElem.length) {\n            for (var i = 0; i < liCollElem.length; i++) {\n                liCollElem[i].classList.remove('e-grabbed');\n            }\n        }\n    };\n    ListBox.prototype.updateListItems = function (sourceElem, destElem) {\n        var i = 0;\n        destElem.innerHTML = '';\n        while (i < sourceElem.childNodes.length) {\n            destElem.appendChild(sourceElem.childNodes[i]);\n        }\n    };\n    ListBox.prototype.removeSelected = function (listObj, elems) {\n        if (listObj.selectionSettings.showCheckbox) {\n            elems.forEach(function (ele) { ele.getElementsByClassName('e-frame')[0].classList.remove('e-check'); });\n        }\n        else {\n            removeClass(elems, cssClass.selected);\n        }\n    };\n    ListBox.prototype.getCurIdx = function (listObj, idx) {\n        if (listObj.fields.groupBy) {\n            idx -= [].slice.call(listObj.ulElement.children).slice(0, idx)\n                .filter(function (ele) { return ele.classList.contains(cssClass.group); }).length;\n        }\n        return idx;\n    };\n    ListBox.prototype.getComponent = function (li) {\n        var listObj;\n        var ele = (this.element.tagName === 'EJS-LISTBOX' ? closest(li, '.e-listbox')\n            : closest(li, '.e-listbox-wrapper') && closest(li, '.e-listbox-wrapper').querySelector('.e-listbox'));\n        if (ele) {\n            listObj = getComponent(ele, this.getModuleName());\n        }\n        return listObj;\n    };\n    /**\n     * Sets the enabled state to DropDownBase.\n     *\n     * @returns {void}\n     */\n    ListBox.prototype.setEnabled = function () {\n        this.element.setAttribute('aria-disabled', (this.enabled) ? 'false' : 'true');\n    };\n    ListBox.prototype.listOption = function (dataSource, fields) {\n        this.listCurrentOptions = _super.prototype.listOption.call(this, dataSource, fields);\n        this.listCurrentOptions = extend({}, this.listCurrentOptions, { itemCreated: this.triggerBeforeItemRender.bind(this) }, true);\n        this.notify('listoption', { module: 'CheckBoxSelection' });\n        return this.listCurrentOptions;\n    };\n    ListBox.prototype.triggerBeforeItemRender = function (e) {\n        e.item.setAttribute('tabindex', '-1');\n        this.trigger('beforeItemRender', { element: e.item, item: e.curData });\n    };\n    ListBox.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.selectionSettings.showCheckbox) {\n            modules.push({\n                member: 'CheckBoxSelection',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * This method is used to enable or disable the items in the ListBox based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n     * @returns {void}\n     */\n    ListBox.prototype.enableItems = function (items, enable, isValue) {\n        var _this = this;\n        if (enable === void 0) { enable = true; }\n        var li;\n        items.forEach(function (item) {\n            var text = item;\n            li = _this.findListElement(_this.list, 'li', 'data-value', isValue ? text : _this.getValueByText(text));\n            if (!li) {\n                return;\n            }\n            if (enable) {\n                removeClass([li], cssClass.disabled);\n                li.removeAttribute('aria-disabled');\n            }\n            else {\n                addClass([li], cssClass.disabled);\n                li.setAttribute('aria-disabled', 'true');\n            }\n        });\n    };\n    /**\n     * Based on the state parameter, specified list item will be selected/deselected.\n     *\n     * @param {string[]} items - Array of text value of the item.\n     * @param {boolean} state - Set `true`/`false` to select/un select the list items.\n     * @param {boolean} isValue - Set `true` if `items` parameter is a array of unique values.\n     * @returns {void}\n     */\n    ListBox.prototype.selectItems = function (items, state, isValue) {\n        if (state === void 0) { state = true; }\n        if (state && !this.selectionSettings.showCheckbox && this.selectionSettings.mode === 'Single') {\n            this.getSelectedItems().forEach(function (li) {\n                li.classList.remove('e-active');\n                li.removeAttribute('aria-selected');\n                removeClass([li], cssClass.selected);\n            });\n        }\n        this.setSelection(items, state, !isValue);\n        this.updateSelectedOptions();\n        var selElems = [];\n        for (var i = 0; i < items.length; i++) {\n            var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n            for (var j = 0; j < liColl.length; j++) {\n                if (items[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n                    selElems.push(liColl[j]);\n                }\n            }\n        }\n        this.triggerChange(selElems, null);\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected/deselected.\n     *\n     * @param {boolean} state - Set `true`/`false` to select/un select the entire list items.\n     * @returns {void}\n     */\n    ListBox.prototype.selectAll = function (state) {\n        if (state === void 0) { state = true; }\n        this.selectAllItems(state);\n    };\n    /**\n     * Adds a new item to the list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.addItems = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItems = function (items, itemIndex) {\n        this.removeItem(items, itemIndex);\n    };\n    /**\n     * Removes a item from the list. By default, removed the last item in the list,\n     * but you can remove based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to remove the item from the list.\n     * @returns {void}.\n     */\n    ListBox.prototype.removeItem = function (items, itemIndex) {\n        var liCollections = [];\n        var liElement = this.list.querySelectorAll('.' + dropDownBaseClasses.li);\n        if (items) {\n            items = (items instanceof Array ? items : [items]);\n            var fields = this.fields;\n            var dataValue = void 0;\n            var objValue = void 0;\n            var dupData = [];\n            var itemIdx = void 0;\n            extend(dupData, [], this.jsonData);\n            var removeIdxes = [];\n            var removeLiIdxes = [];\n            for (var j = 0; j < items.length; j++) {\n                if (items[j] instanceof Object) {\n                    dataValue = getValue(fields.value, items[j]);\n                }\n                else {\n                    dataValue = items[j].toString();\n                }\n                for (var i = 0, len = dupData.length; i < len; i++) {\n                    if (dupData[i] instanceof Object) {\n                        objValue = getValue(fields.value, dupData[i]);\n                    }\n                    else {\n                        objValue = dupData[i].toString();\n                    }\n                    if (objValue === dataValue) {\n                        itemIdx = this.getIndexByValue(dataValue);\n                        var idx = itemIdx === i ? itemIdx : i;\n                        liCollections.push(liElement[idx]);\n                        removeIdxes.push(idx);\n                        removeLiIdxes.push(idx);\n                    }\n                }\n            }\n            for (var k = removeIdxes.length - 1; k >= 0; k--) {\n                this.listData.splice(removeIdxes[k], 1);\n            }\n            for (var k = removeIdxes.length - 1; k >= 0; k--) {\n                this.jsonData.splice(removeIdxes[k], 1);\n            }\n            for (var k = removeLiIdxes.length - 1; k >= 0; k--) {\n                this.updateLiCollection(removeLiIdxes[k]);\n            }\n        }\n        else {\n            itemIndex = itemIndex ? itemIndex : 0;\n            liCollections.push(liElement[itemIndex]);\n            this.listData.splice(itemIndex, 1);\n            this.jsonData.splice(itemIndex, 1);\n            this.updateLiCollection(itemIndex);\n        }\n        for (var i = 0; i < liCollections.length; i++) {\n            this.ulElement.removeChild(liCollections[i]);\n        }\n        if (this.listData.length === 0) {\n            this.l10nUpdate();\n        }\n        this.value = [];\n        this.updateToolBarState();\n    };\n    /**\n     * Gets the array of data Object that matches the given array of values.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the array value of the list item.\n     * @returns {object[]}.\n     */\n    ListBox.prototype.getDataByValues = function (value) {\n        var data = [];\n        for (var i = 0; i < value.length; i++) {\n            data.push(this.getDataByValue(value[i]));\n        }\n        return data;\n    };\n    /**\n     * Moves the given value(s) / selected value(s) upwards.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveUp = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) downwards.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveDown = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(false, false, elem);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) in Top of the list.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveTop = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(null, false, elem, true);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) in bottom of the list.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value(s).\n     * @returns {void}\n     */\n    ListBox.prototype.moveBottom = function (value) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        this.moveUpDown(true, false, elem, false, true);\n    };\n    /**\n     * Moves the given value(s) / selected value(s) to the given / default scoped ListBox.\n     *\n     * @param  { string[] | number[] | boolean[] } value - Specifies the value or array value of the list item.\n     * @param {number} index - Specifies the index.\n     * @param {string} targetId - Specifies the target id.\n     * @returns {void}\n     */\n    ListBox.prototype.moveTo = function (value, index, targetId) {\n        var elem = (value) ? this.getElemByValue(value) : this.getSelectedItems();\n        var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n        this.moveData(this, tlistbox, false, elem, index);\n    };\n    /**\n     * Moves all the values from one ListBox to the scoped ListBox.\n     *\n     * @param  { string } targetId - Specifies the scoped ListBox ID.\n     * @param  { string } index - Specifies the index to where the items moved.\n     * @returns {void}\n     */\n    ListBox.prototype.moveAllTo = function (targetId, index) {\n        if (this.listData.length > 0) {\n            var tlistbox = (targetId) ? getComponent(targetId, ListBox_1) : this.getScopedListBox();\n            this.moveAllData(this, tlistbox, false, index);\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Gets the updated dataSource in ListBox.\n     *\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Updated DataSource.\n     */\n    /* eslint-enable */\n    ListBox.prototype.getDataList = function () {\n        return this.jsonData;\n    };\n    /* eslint-disable */\n    /**\n     * Returns the sorted Data in ListBox.\n     *\n     * @returns {{ [key: string]: Object }[] | string[] | boolean[] | number[]} - Sorted data\n     */\n    /* eslint-enable */\n    ListBox.prototype.getSortedList = function () {\n        var sortData;\n        var tempData;\n        sortData = tempData = this.sortedData;\n        if (this.fields.groupBy) {\n            sortData = [];\n            for (var i = 0; i < tempData.length; i++) {\n                if (tempData[i].isHeader) {\n                    continue;\n                }\n                sortData.push(tempData[i]);\n            }\n        }\n        return sortData;\n    };\n    ListBox.prototype.getElemByValue = function (value) {\n        var elem = [];\n        for (var i = 0; i < value.length; i++) {\n            elem.push(this.ulElement.querySelector('[data-value =\"' + value[i] + '\"]'));\n        }\n        return elem;\n    };\n    ListBox.prototype.updateLiCollection = function (index) {\n        var tempLi = [].slice.call(this.liCollections);\n        tempLi.splice(index, 1);\n        this.liCollections = tempLi;\n    };\n    ListBox.prototype.selectAllItems = function (state, event) {\n        var _this = this;\n        [].slice.call(this.getItems()).forEach(function (li) {\n            if (!li.classList.contains(cssClass.disabled)) {\n                if (_this.selectionSettings.showCheckbox) {\n                    var ele = li.getElementsByClassName('e-check')[0];\n                    if ((!ele && state) || (ele && !state)) {\n                        _this.notify('updatelist', { li: li, module: 'listbox' });\n                        if (_this.maximumSelectionLength >= _this.list.querySelectorAll('.e-list-item span.e-check').length) {\n                            _this.checkMaxSelection();\n                        }\n                    }\n                }\n                else {\n                    if (state) {\n                        li.classList.add(cssClass.selected);\n                    }\n                    else {\n                        li.classList.remove(cssClass.selected);\n                    }\n                }\n            }\n        });\n        this.updateSelectedOptions();\n        if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n            var liEle = this.list.getElementsByTagName('li');\n            var index = 0;\n            if (state) {\n                var _loop_1 = function () {\n                    var dataValue1 = this_1.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    if (!this_1.value.some(function (e) { return e === dataValue1; })) {\n                        this_1.value.push(this_1.getFormattedValue(liEle[index].getAttribute('data-value')));\n                    }\n                };\n                var this_1 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_1();\n                }\n            }\n            else {\n                var _loop_2 = function () {\n                    var dataValue2 = this_2.getFormattedValue(liEle[index].getAttribute('data-value'));\n                    this_2.value = this_2.value.filter(function (e) { return e !== dataValue2; });\n                };\n                var this_2 = this;\n                for (index = 0; index < liEle.length; index++) {\n                    _loop_2();\n                }\n            }\n            if (document.querySelectorAll('ul').length < 2) {\n                this.updateMainList();\n            }\n        }\n        this.triggerChange(this.getSelectedItems(), event);\n    };\n    ListBox.prototype.updateMainList = function () {\n        var mainList = this.mainList.querySelectorAll('.e-list-item');\n        var ulList = this.ulElement.querySelectorAll('.e-list-item');\n        var mainCount = mainList.length;\n        var ulEleCount = ulList.length;\n        if (this.selectionSettings.showCheckbox || (document.querySelectorAll('ul').length > 1 || mainCount !== ulEleCount)) {\n            var listindex = 0;\n            var valueindex = 0;\n            var count = 0;\n            for (listindex; listindex < mainCount;) {\n                if (this.value) {\n                    for (valueindex; valueindex < this.value.length; valueindex++) {\n                        if (mainList[listindex].getAttribute('data-value') === this.value[valueindex]) {\n                            count++;\n                        }\n                    }\n                }\n                if (!count && this.selectionSettings.showCheckbox) {\n                    mainList[listindex].getElementsByClassName('e-frame')[0].classList.remove('e-check');\n                }\n                if (document.querySelectorAll('ul').length > 1 && count && mainCount !== ulEleCount) {\n                    this.mainList.removeChild(this.mainList.getElementsByTagName('li')[listindex]);\n                    listindex = 0;\n                }\n                else {\n                    listindex++;\n                }\n                count = 0;\n                valueindex = 0;\n            }\n        }\n    };\n    ListBox.prototype.wireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.add(this.list, 'click', this.clickHandler, this);\n        EventHandler.add(wrapper, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(wrapper, 'focusout', this.focusOutHandler, this);\n        this.wireToolbarEvent();\n        if (this.selectionSettings.showCheckbox) {\n            EventHandler.remove(document, 'mousedown', this.checkBoxSelectionModule.onDocumentClick);\n        }\n        if (this.fields.groupBy || this.element.querySelector('select>optgroup')) {\n            EventHandler.remove(this.list, 'scroll', this.setFloatingHeader);\n        }\n        if (form) {\n            EventHandler.add(form, 'reset', this.formResetHandler, this);\n        }\n    };\n    ListBox.prototype.wireToolbarEvent = function () {\n        if (this.toolbarSettings.items.length) {\n            EventHandler.add(this.getToolElem(), 'click', this.toolbarClickHandler, this);\n        }\n    };\n    ListBox.prototype.unwireEvents = function () {\n        var form = closest(this.element, 'form');\n        var wrapper = this.element.tagName === 'EJS-LISTBOX' ? this.element : this.list;\n        EventHandler.remove(this.list, 'click', this.clickHandler);\n        EventHandler.remove(wrapper, 'keydown', this.keyDownHandler);\n        EventHandler.remove(wrapper, 'focusout', this.focusOutHandler);\n        if (this.allowFiltering && this.clearFilterIconElem) {\n            EventHandler.remove(this.clearFilterIconElem, 'click', this.clearText);\n        }\n        if (this.toolbarSettings.items.length) {\n            EventHandler.remove(this.getToolElem(), 'click', this.toolbarClickHandler);\n        }\n        if (form) {\n            EventHandler.remove(form, 'reset', this.formResetHandler);\n        }\n    };\n    ListBox.prototype.clickHandler = function (e) {\n        this.selectHandler(e);\n    };\n    ListBox.prototype.checkSelectAll = function () {\n        var searchCount = 0;\n        var liItems = this.list.querySelectorAll('li.' + dropDownBaseClasses.li);\n        for (var i = 0; i < liItems.length; i++) {\n            if (!liItems[i].classList.contains('e-disabled')) {\n                searchCount++;\n            }\n        }\n        var len = this.getSelectedItems().length;\n        if (this.showSelectAll && searchCount) {\n            this.notify('checkSelectAll', { module: 'CheckBoxSelection',\n                value: (searchCount === len) ? 'check' : (len === 0) ? 'uncheck' : 'indeterminate' });\n        }\n    };\n    ListBox.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        if (this.allowFiltering) {\n            var filterType = this.inputString === '' ? 'contains' : this.filterType;\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (dataType === null) {\n                dataType = this.typeOfData(this.jsonData).typeof;\n            }\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var fields = (this.fields.text) ? this.fields.text : '';\n                filterQuery.where(fields, filterType, this.inputString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        else {\n            filterQuery = query ? query : this.query ? this.query : new Query();\n        }\n        return filterQuery;\n    };\n    ListBox.prototype.setFiltering = function () {\n        var filterInputObj;\n        if (this.initLoad || isNullOrUndefined(this.filterParent)) {\n            this.filterParent = this.createElement('span', {\n                className: listBoxClasses.filterParent\n            });\n            this.filterInput = this.createElement('input', {\n                attrs: { type: 'text' },\n                className: listBoxClasses.filterInput\n            });\n            this.element.parentNode.insertBefore(this.filterInput, this.element);\n            filterInputObj = Input.createInput({\n                element: this.filterInput,\n                buttons: [listBoxClasses.filterBarClearIcon],\n                properties: { placeholder: this.filterBarPlaceholder }\n            }, this.createElement);\n            append([filterInputObj.container], this.filterParent);\n            prepend([this.filterParent], this.list);\n            attributes(this.filterInput, {\n                'aria-disabled': 'false',\n                'aria-label': 'search list item',\n                'autocomplete': 'off',\n                'autocorrect': 'off',\n                'autocapitalize': 'off',\n                'spellcheck': 'false',\n                'role': 'textbox'\n            });\n            if (this.height.toString().indexOf('%') < 0) {\n                addClass([this.list], 'e-filter-list');\n            }\n            this.inputString = this.filterInput.value;\n            this.filterWireEvents();\n            return filterInputObj;\n        }\n    };\n    ListBox.prototype.filterWireEvents = function (filterElem) {\n        if (filterElem) {\n            this.filterInput = filterElem.querySelector('.e-input-filter');\n        }\n        this.clearFilterIconElem = this.filterInput.parentElement.querySelector('.' + listBoxClasses.clearIcon);\n        if (this.clearFilterIconElem) {\n            EventHandler.add(this.clearFilterIconElem, 'click', this.clearText, this);\n            if (!filterElem) {\n                this.clearFilterIconElem.style.visibility = 'hidden';\n            }\n        }\n        EventHandler.add(this.filterInput, 'input', this.onInput, this);\n        EventHandler.add(this.filterInput, 'keyup', this.KeyUp, this);\n        EventHandler.add(this.filterInput, 'keydown', this.onKeyDown, this);\n    };\n    ListBox.prototype.selectHandler = function (e, isKey) {\n        var isSelect = true;\n        var currSelIdx;\n        var li = closest(e.target, '.' + 'e-list-item');\n        var selectedLi = [li];\n        if (li && li.parentElement) {\n            currSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            if (!this.selectionSettings.showCheckbox) {\n                if ((e.ctrlKey || e.metaKey || Browser.isDevice) && this.isSelected(li)) {\n                    li.classList.remove(cssClass.selected);\n                    li.removeAttribute('aria-selected');\n                    isSelect = false;\n                }\n                else if (!(this.selectionSettings.mode === 'Multiple' && (e.ctrlKey || e.metaKey || Browser.isDevice))) {\n                    this.getSelectedItems().forEach(function (ele) {\n                        ele.removeAttribute('aria-selected');\n                    });\n                    removeClass(this.getSelectedItems(), cssClass.selected);\n                }\n            }\n            else {\n                isSelect = !li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n            }\n            if (e.shiftKey && !this.selectionSettings.showCheckbox && this.selectionSettings.mode !== 'Single') {\n                selectedLi = [].slice.call(li.parentElement.children)\n                    .slice(Math.min(currSelIdx, this.prevSelIdx), Math.max(currSelIdx, this.prevSelIdx) + 1)\n                    .filter(function (ele) { return ele.classList.contains('e-list-item'); });\n            }\n            else {\n                this.prevSelIdx = [].slice.call(li.parentElement.children).indexOf(li);\n            }\n            if (isSelect) {\n                if (!this.selectionSettings.showCheckbox) {\n                    addClass(selectedLi, cssClass.selected);\n                }\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'true');\n                });\n                this.list.setAttribute('aria-activedescendant', li.id);\n            }\n            else {\n                selectedLi.forEach(function (ele) {\n                    ele.setAttribute('aria-selected', 'false');\n                });\n            }\n            if (!isKey && (this.maximumSelectionLength > (this.value && this.value.length) || !isSelect) &&\n                (this.maximumSelectionLength >= (this.value && this.value.length) || !isSelect) &&\n                !(this.maximumSelectionLength < (this.value && this.value.length))) {\n                this.notify('updatelist', { li: li, e: e, module: 'listbox' });\n            }\n            if (this.allowFiltering && !isKey) {\n                var liDataValue_1 = this.getFormattedValue(li.getAttribute('data-value'));\n                if (!isSelect) {\n                    this.value = this.value.filter(function (value1) {\n                        return value1 !== liDataValue_1;\n                    });\n                }\n                else {\n                    var values = [];\n                    extend(values, this.value);\n                    values.push(liDataValue_1);\n                    this.value = values;\n                }\n                if (document.querySelectorAll('ul').length < 2) {\n                    this.updateMainList();\n                }\n            }\n            this.updateSelectedOptions();\n            this.triggerChange(this.getSelectedItems(), e);\n            if (this.list) {\n                this.checkMaxSelection();\n            }\n        }\n    };\n    ListBox.prototype.triggerChange = function (selectedLis, event) {\n        this.trigger('change', { elements: selectedLis, items: this.getDataByElements(selectedLis), value: this.value, event: event });\n    };\n    ListBox.prototype.getDataByElems = function (elems) {\n        var data = [];\n        for (var i = 0, len = elems.length; i < len; i++) {\n            data.push(this.getDataByValue(this.getFormattedValue(elems[i].getAttribute('data-value'))));\n        }\n        return data;\n    };\n    ListBox.prototype.getDataByElements = function (elems) {\n        var data = [];\n        var value;\n        var sIdx = 0;\n        if (!isNullOrUndefined(this.listData)) {\n            var type = this.typeOfData(this.listData).typeof;\n            if (type === 'string' || type === 'number' || type === 'boolean') {\n                for (var _i = 0, _a = this.listData; _i < _a.length; _i++) {\n                    var item = _a[_i];\n                    for (var i = sIdx, len = elems.length; i < len; i++) {\n                        value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n                        if (!isNullOrUndefined(item) && item === value) {\n                            sIdx = i;\n                            data.push(item);\n                            break;\n                        }\n                    }\n                    if (elems.length === data.length) {\n                        break;\n                    }\n                }\n            }\n            else {\n                for (var _b = 0, _c = this.listData; _b < _c.length; _b++) {\n                    var item = _c[_b];\n                    for (var i = sIdx, len = elems.length; i < len; i++) {\n                        value = this.getFormattedValue(elems[i].getAttribute('data-value'));\n                        if (!isNullOrUndefined(item) && getValue((this.fields.value ? this.fields.value : 'value'), item) === value) {\n                            sIdx = i;\n                            data.push(item);\n                            break;\n                        }\n                    }\n                    if (elems.length === data.length) {\n                        break;\n                    }\n                }\n            }\n            return data;\n        }\n        return null;\n    };\n    ListBox.prototype.checkMaxSelection = function () {\n        var limit = this.list.querySelectorAll('.e-list-item span.e-check').length;\n        if (this.selectionSettings.showCheckbox) {\n            var index = 0;\n            var liCollElem = this.list.getElementsByClassName('e-list-item');\n            for (index; index < liCollElem.length; index++) {\n                if (!liCollElem[index].querySelector('.e-frame.e-check')) {\n                    if (limit === this.maximumSelectionLength) {\n                        liCollElem[index].classList.add('e-disable');\n                    }\n                    else if (liCollElem[index].classList.contains('e-disable')) {\n                        liCollElem[index].classList.remove('e-disable');\n                    }\n                }\n            }\n        }\n    };\n    ListBox.prototype.toolbarClickHandler = function (e) {\n        var btn = closest(e.target, 'button');\n        if (btn) {\n            this.toolbarAction = btn.getAttribute('data-value');\n            if (btn.disabled) {\n                return;\n            }\n            switch (this.toolbarAction) {\n                case 'moveUp':\n                    this.moveUpDown(true);\n                    break;\n                case 'moveDown':\n                    this.moveUpDown();\n                    break;\n                case 'moveTo':\n                    this.moveItemTo();\n                    break;\n                case 'moveFrom':\n                    this.moveItemFrom();\n                    break;\n                case 'moveAllTo':\n                    this.moveAllItemTo();\n                    break;\n                case 'moveAllFrom':\n                    this.moveAllItemFrom();\n                    break;\n                default:\n                    this.trigger('actionBegin', { cancel: false, items: this.getDataByElems(this.getSelectedItems()),\n                        eventName: this.toolbarAction });\n                    break;\n            }\n        }\n    };\n    ListBox.prototype.moveUpDown = function (isUp, isKey, value, isTop, isBottom) {\n        var _this = this;\n        var elems = this.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        if (((isUp && this.isSelected(this.ulElement.firstElementChild))\n            || (!isUp && this.isSelected(this.ulElement.lastElementChild))) && !value) {\n            return;\n        }\n        var tempItems = this.getDataByElems(elems);\n        var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n        this.trigger('actionBegin', localDataArgs);\n        if (localDataArgs.cancel) {\n            return;\n        }\n        (isUp ? elems : elems.reverse()).forEach(function (ele) {\n            var jsonToIdx = Array.prototype.indexOf.call(_this.ulElement.querySelectorAll('.e-list-item'), ele);\n            var idx = Array.prototype.indexOf.call(_this.ulElement.children, ele);\n            if (isTop) {\n                moveTo(_this.ulElement, _this.ulElement, [idx], 0);\n                _this.changeData(idx, 0, jsonToIdx, ele);\n            }\n            else if (isBottom) {\n                moveTo(_this.ulElement, _this.ulElement, [idx], _this.ulElement.querySelectorAll('.e-list-item').length);\n                _this.changeData(idx, _this.ulElement.querySelectorAll('.e-list-item').length, jsonToIdx, ele);\n            }\n            else {\n                moveTo(_this.ulElement, _this.ulElement, [idx], isUp ? idx - 1 : idx + 2);\n                _this.changeData(idx, isUp ? idx - 1 : idx + 1, isUp ? jsonToIdx - 1 : jsonToIdx + 1, ele);\n            }\n        });\n        this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        elems[0].focus();\n        if (!isKey && this.toolbarSettings.items.length) {\n            this.getToolElem().querySelector('[data-value=' + (isUp ? 'moveUp' : 'moveDown') + ']').focus();\n        }\n        this.updateToolBarState();\n    };\n    ListBox.prototype.moveItemTo = function () {\n        this.moveData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveItemFrom = function () {\n        this.moveData(this.getScopedListBox(), this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {ListBox} fListBox - Specifies the from listbox.\n     * @param {ListBox} tListBox - Specifies the to listbox.\n     * @param {boolean} isKey - Specifies the key.\n     * @param {Element[]} value - Specifies the value.\n     * @param {number} index - Specifies the index.\n     * @returns {void}\n     * @private\n     */\n    ListBox.prototype.moveData = function (fListBox, tListBox, isKey, value, index) {\n        var idx = [];\n        var dataIdx = [];\n        var jsonIdx = [];\n        var sortIdx = [];\n        var listData = [].slice.call(fListBox.listData);\n        var tListData = [].slice.call(tListBox.listData);\n        var sortData = [].slice.call(fListBox.sortedData);\n        var tSortData = [].slice.call(tListBox.sortedData);\n        var fliCollections = [].slice.call(fListBox.liCollections);\n        var dataLiIdx = [];\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        var tempItems = [];\n        var data = [];\n        var elems = fListBox.getSelectedItems();\n        if (value) {\n            elems = value;\n        }\n        var isRefresh = tListBox.sortOrder !== 'None' || (tListBox.selectionSettings.showCheckbox !==\n            fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n        fListBox.value = [];\n        if (elems.length) {\n            this.removeSelected(fListBox, elems);\n            elems.forEach(function (ele) {\n                idx.push(Array.prototype.indexOf.call(fListBox.ulElement.children, ele)); // update sortable elem\n                // To update lb view data\n                dataLiIdx.push(Array.prototype.indexOf.call(fListBox.ulElement.querySelectorAll('.e-list-item'), ele));\n                // To update lb listdata data\n                dataIdx.push(Array.prototype.indexOf.call(fListBox.listData, fListBox.getDataByElems([ele])[0]));\n                // To update lb sorted data\n                sortIdx.push(Array.prototype.indexOf.call(fListBox.sortedData, fListBox.getDataByElems([ele])[0]));\n                // To update lb original data\n                jsonIdx.push(Array.prototype.indexOf.call(fListBox.jsonData, fListBox.getDataByElems([ele])[0]));\n            });\n            if (this.sortOrder !== 'None') {\n                sortIdx.forEach(function (i) {\n                    tempItems.push(fListBox.sortedData[i]);\n                });\n            }\n            else {\n                jsonIdx.forEach(function (i) {\n                    tempItems.push(fListBox.jsonData[i]);\n                });\n            }\n            var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n            fListBox.trigger('actionBegin', localDataArgs);\n            if (localDataArgs.cancel) {\n                return;\n            }\n            var rLiCollection_1 = [];\n            dataLiIdx.sort(function (n1, n2) { return n1 - n2; }).reverse().forEach(function (i) {\n                rLiCollection_1.push(fliCollections.splice(i, 1)[0]);\n            });\n            fListBox.liCollections = fliCollections;\n            if (index) {\n                var toColl = tliCollections.splice(0, index);\n                tListBox.liCollections = toColl.concat(rLiCollection_1.reverse()).concat(tliCollections);\n            }\n            else {\n                tListBox.liCollections = tliCollections.concat(rLiCollection_1.reverse());\n            }\n            if (tListBox.listData.length === 0) {\n                var noRecElem = tListBox.ulElement.childNodes[0];\n                if (noRecElem) {\n                    tListBox.ulElement.removeChild(noRecElem);\n                }\n            }\n            dataIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                listData.splice(i, 1)[0];\n            });\n            sortIdx.sort(function (n1, n2) { return n2 - n1; }).forEach(function (i) {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                sortData.splice(i, 1)[0];\n            });\n            jsonIdx.slice().reverse().forEach(function (i) {\n                data.push(fListBox.jsonData.splice(i, 1)[0]);\n            });\n            if (isRefresh) {\n                if (fListBox.fields.groupBy) {\n                    var sourceElem = fListBox.renderItems(listData, fListBox.fields);\n                    fListBox.updateListItems(sourceElem, fListBox.ulElement);\n                }\n                else {\n                    elems.forEach(function (ele) { detach(ele); });\n                }\n            }\n            else {\n                moveTo(fListBox.ulElement, tListBox.ulElement, idx, index);\n                fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n            }\n            if (tListBox.mainList.childElementCount !== tListBox.jsonData.length) {\n                tListBox.mainList = tListBox.ulElement;\n            }\n            var tJsonData = [].slice.call(tListBox.jsonData);\n            tSortData = [].slice.call(tListBox.sortedData);\n            this.selectNextList(elems, dataLiIdx, dataIdx, fListBox);\n            if (isKey) {\n                this.list.focus();\n            }\n            fListBox.listData = listData;\n            fListBox.sortedData = sortData;\n            index = (index) ? index : tListData.length;\n            for (var i = tempItems.length - 1; i >= 0; i--) {\n                tListData.splice(index, 0, tempItems[i]);\n                tJsonData.splice(index, 0, tempItems[i]);\n                tSortData.splice(index, 0, tempItems[i]);\n            }\n            tListBox.listData = tListData;\n            tListBox.jsonData = tJsonData;\n            tListBox.sortedData = tSortData;\n            if (isRefresh) {\n                var sourceElem = tListBox.renderItems(tListData, tListBox.fields);\n                tListBox.updateListItems(sourceElem, tListBox.ulElement);\n                tListBox.setSelection();\n                fListBox.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n            }\n            fListBox.updateSelectedOptions();\n            if (fListBox.listData.length === 0) {\n                fListBox.l10nUpdate();\n            }\n        }\n        if (fListBox.value.length === 1 && fListBox.getSelectedItems().length) {\n            fListBox.value[0] = fListBox.getFormattedValue(fListBox.getSelectedItems()[0].getAttribute('data-value'));\n        }\n    };\n    ListBox.prototype.selectNextList = function (elems, dataLiIdx, dataIdx, inst) {\n        var childCnt = inst.ulElement.querySelectorAll('.e-list-item').length;\n        var ele;\n        var liIdx;\n        var validIdx = -1;\n        if (elems.length === 1 && childCnt && !inst.selectionSettings.showCheckbox) {\n            liIdx = childCnt <= dataLiIdx[0] ? childCnt - 1 : dataLiIdx[0];\n            ele = inst.ulElement.querySelectorAll('.e-list-item')[liIdx];\n            validIdx = inst.getValidIndex(ele, liIdx, childCnt === dataIdx[0] ? 38 : 40);\n            if (validIdx > -1) {\n                (inst.ulElement.querySelectorAll('.e-list-item')[validIdx].classList.add(cssClass.selected));\n            }\n        }\n    };\n    ListBox.prototype.moveAllItemTo = function () {\n        this.moveAllData(this, this.getScopedListBox());\n    };\n    ListBox.prototype.moveAllItemFrom = function () {\n        this.moveAllData(this.getScopedListBox(), this);\n    };\n    ListBox.prototype.moveAllData = function (fListBox, tListBox, isKey, index) {\n        var listData = [].slice.call(tListBox.listData);\n        var jsonData = [].slice.call(tListBox.jsonData);\n        var isRefresh = tListBox.sortOrder !== 'None' || (tListBox.selectionSettings.showCheckbox !==\n            fListBox.selectionSettings.showCheckbox) || tListBox.fields.groupBy || tListBox.itemTemplate || fListBox.itemTemplate;\n        this.removeSelected(fListBox, fListBox.getSelectedItems());\n        var tempItems = [].slice.call(fListBox.listData);\n        var localDataArgs = { cancel: false, items: tempItems, eventName: this.toolbarAction };\n        fListBox.trigger('actionBegin', localDataArgs);\n        if (localDataArgs.cancel) {\n            return;\n        }\n        if (tListBox.listData.length === 0) {\n            var noRecElem = tListBox.ulElement.childNodes[0];\n            if (noRecElem) {\n                tListBox.ulElement.removeChild(noRecElem);\n            }\n        }\n        if (isRefresh) {\n            var noRecElem = fListBox.ulElement.childNodes[0];\n            if (noRecElem) {\n                fListBox.ulElement.removeChild(noRecElem);\n            }\n        }\n        moveTo(fListBox.ulElement, tListBox.ulElement, \n        // eslint-disable-next-line prefer-spread\n        Array.apply(null, { length: fListBox.ulElement.childElementCount }).map(Number.call, Number), index);\n        this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        if (isKey) {\n            this.list.focus();\n        }\n        index = (index) ? index : listData.length;\n        for (var i = 0; i < fListBox.listData.length; i++) {\n            listData.splice(index + i, 0, fListBox.listData[i]);\n        }\n        for (var i = 0; i < fListBox.jsonData.length; i++) {\n            jsonData.splice(index + i, 0, fListBox.jsonData[i]);\n        }\n        var fliCollections = [].slice.call(fListBox.liCollections);\n        var tliCollections = [].slice.call(tListBox.liCollections);\n        fListBox.liCollections = [];\n        if (index) {\n            var toColl = tliCollections.splice(0, index);\n            tListBox.liCollections = toColl.concat(fliCollections).concat(tliCollections);\n        }\n        else {\n            tListBox.liCollections = tliCollections.concat(fliCollections);\n        }\n        fListBox.value = [];\n        listData = listData\n            .filter(function (data) { return data.isHeader !== true; });\n        var sortedData = listData.filter(function (val) {\n            return tListBox.jsonData.indexOf(val) === -1;\n        });\n        for (var i = 0; i < sortedData.length; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            tListBox.jsonData.splice(index + i, 0, sortedData[i]);\n        }\n        tListBox.listData = listData;\n        if (fListBox.listData.length === fListBox.jsonData.length) {\n            fListBox.listData = fListBox.sortedData = fListBox.jsonData = [];\n        }\n        else if (fListBox.allowFiltering) {\n            for (var i = 0; i < fListBox.listData.length; i++) {\n                for (var j = 0; j < fListBox.jsonData.length; j++) {\n                    if (fListBox.listData[i] === fListBox.jsonData[j]) {\n                        fListBox.jsonData.splice(j, 1);\n                    }\n                }\n            }\n            fListBox.listData = fListBox.sortedData = [];\n        }\n        if (isRefresh) {\n            var sourceElem = tListBox.renderItems(listData, tListBox.fields);\n            tListBox.updateListItems(sourceElem, tListBox.ulElement);\n            this.trigger('actionComplete', { items: tempItems, eventName: this.toolbarAction });\n        }\n        else {\n            tListBox.sortedData = listData;\n        }\n        fListBox.updateSelectedOptions();\n        if (fListBox.listData.length === 0) {\n            fListBox.l10nUpdate();\n        }\n    };\n    ListBox.prototype.changeData = function (fromIdx, toIdx, jsonToIdx, ele) {\n        var listData = [].slice.call(this.listData);\n        var jsonData = [].slice.call(this.jsonData);\n        var sortData = [].slice.call(this.sortedData);\n        var jsonIdx = Array.prototype.indexOf.call(this.jsonData, this.getDataByElems([ele])[0]);\n        var sortIdx = Array.prototype.indexOf.call(this.sortedData, this.getDataByElems([ele])[0]);\n        var liColl = [].slice.call(this.liCollections);\n        listData.splice(toIdx, 0, listData.splice(fromIdx, 1)[0]);\n        jsonData.splice(jsonToIdx, 0, jsonData.splice(jsonIdx, 1)[0]);\n        sortData.splice(toIdx, 0, sortData.splice(sortIdx, 1)[0]);\n        liColl.splice(toIdx, 0, liColl.splice(fromIdx, 1)[0]);\n        this.listData = listData;\n        this.jsonData = jsonData;\n        this.liCollections = liColl;\n        this.sortedData = sortData;\n    };\n    ListBox.prototype.getSelectedItems = function () {\n        var ele = [];\n        if (this.selectionSettings.showCheckbox) {\n            [].slice.call(this.ulElement.getElementsByClassName('e-check')).forEach(function (cbox) {\n                ele.push(closest(cbox, '.' + 'e-list-item'));\n            });\n        }\n        else {\n            ele = [].slice.call(this.ulElement.getElementsByClassName(cssClass.selected));\n        }\n        return ele;\n    };\n    ListBox.prototype.getScopedListBox = function () {\n        var _this = this;\n        var listObj;\n        if (this.scope) {\n            [].slice.call(document.querySelectorAll(this.scope)).forEach(function (ele) {\n                if (getComponent(ele, _this.getModuleName())) {\n                    listObj = getComponent(ele, _this.getModuleName());\n                }\n            });\n        }\n        return listObj;\n    };\n    ListBox.prototype.getGrabbedItems = function (args) {\n        var grabbItems = false;\n        for (var i = 0; i < this.value.length; i++) {\n            if (this.value[i] === this.getFormattedValue(args.target.getAttribute('data-value'))) {\n                grabbItems = true;\n                break;\n            }\n        }\n        if (grabbItems) {\n            for (var i = 0; i < this.value.length; i++) {\n                var liColl = this.list.querySelectorAll('[aria-selected=\"true\"]');\n                for (var j = 0; j < liColl.length; j++) {\n                    if (this.value[i] === this.getFormattedValue(liColl[j].getAttribute('data-value'))) {\n                        liColl[j].classList.add('e-grabbed');\n                    }\n                }\n            }\n        }\n        var elems;\n        if (this.isAngular) {\n            elems = Array.prototype.slice.call(this.element.getElementsByClassName('e-list-parent')[0].querySelectorAll('.e-grabbed'));\n        }\n        else {\n            elems = Array.prototype.slice.call(this.element.nextElementSibling.querySelectorAll('.e-grabbed'));\n        }\n        return elems;\n    };\n    ListBox.prototype.getDragArgs = function (args, isDragEnd) {\n        var elems = this.getGrabbedItems(args);\n        if (elems.length) {\n            if (isDragEnd) {\n                elems.push(args.target);\n            }\n        }\n        else {\n            elems = [args.target];\n        }\n        return { elements: elems, items: this.getDataByElems(elems) };\n    };\n    ListBox.prototype.onKeyDown = function (e) {\n        this.keyDownHandler(e);\n        e.stopPropagation();\n    };\n    ListBox.prototype.keyDownHandler = function (e) {\n        if ([32, 35, 36, 37, 38, 39, 40, 65].indexOf(e.keyCode) > -1 && (!this.allowFiltering ||\n            (this.allowFiltering && e.target !== this.filterInput))) {\n            if (e.target && e.target.className.indexOf('e-edit-template') > -1) {\n                return;\n            }\n            e.preventDefault();\n            if (e.keyCode === 32 && this.ulElement.children.length) {\n                this.selectHandler({\n                    target: this.ulElement.getElementsByClassName('e-focused')[0],\n                    ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                });\n            }\n            else if (e.keyCode === 65 && e.ctrlKey) {\n                this.selectAll();\n            }\n            else if ((e.keyCode === 38 || e.keyCode === 40) && e.ctrlKey && e.shiftKey) {\n                this.moveUpDown(e.keyCode === 38 ? true : false, true);\n            }\n            else if ((this.toolbarSettings.items.length || this.tBListBox) && (e.keyCode === 39 || e.keyCode === 37) && e.ctrlKey) {\n                var listObj = this.tBListBox || this.getScopedListBox();\n                if (e.keyCode === 39) {\n                    if (e.shiftKey) {\n                        this.moveAllData(this, listObj, true);\n                    }\n                    else {\n                        this.moveData(this, listObj, true);\n                    }\n                }\n                else {\n                    if (e.shiftKey) {\n                        this.moveAllData(listObj, this, true);\n                    }\n                    else {\n                        this.moveData(listObj, this, true);\n                    }\n                }\n            }\n            else if (e.keyCode !== 37 && e.keyCode !== 39 && e.code !== 'KeyA') {\n                this.upDownKeyHandler(e);\n            }\n        }\n        else if (this.allowFiltering) {\n            if (e.keyCode === 40 || e.keyCode === 38) {\n                this.upDownKeyHandler(e);\n            }\n        }\n    };\n    ListBox.prototype.upDownKeyHandler = function (e) {\n        var ul = this.ulElement;\n        var defaultIdx = (e.keyCode === 40 || e.keyCode === 36) ? 0 : ul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = ul.getElementsByClassName('e-focused')[0] || ul.getElementsByClassName(cssClass.selected)[0];\n        if (fli) {\n            if (e.keyCode !== 35 && e.keyCode !== 36) {\n                fliIdx = Array.prototype.indexOf.call(ul.children, fli);\n                if (e.keyCode === 40) {\n                    fliIdx++;\n                }\n                else {\n                    fliIdx--;\n                }\n                if (fliIdx < 0 || fliIdx > ul.childElementCount - 1) {\n                    return;\n                }\n            }\n            removeClass([fli], 'e-focused');\n        }\n        var cli = ul.children[fliIdx];\n        if (cli) {\n            fliIdx = this.getValidIndex(cli, fliIdx, e.keyCode);\n            if (fliIdx === -1) {\n                addClass([fli], 'e-focused');\n                return;\n            }\n            ul.children[fliIdx].focus();\n            ul.children[fliIdx].classList.add('e-focused');\n            if (!e.ctrlKey || !this.selectionSettings.showCheckbox && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n                this.selectHandler({ target: ul.children[fliIdx], ctrlKey: e.ctrlKey, shiftKey: e.shiftKey }, true);\n            }\n            if (this.selectionSettings.showCheckbox && e.ctrlKey && e.shiftKey && (e.keyCode === 36 || e.keyCode === 35)) {\n                var selectedidx = Array.prototype.indexOf.call(ul.children, fli);\n                var sidx = e.code === 'Home' ? 0 : selectedidx;\n                var eidx = e.code === 'Home' ? selectedidx : ul.children.length - 1;\n                for (var i = sidx; i <= eidx; i++) {\n                    var item = ul.children[i];\n                    this.notify('updatelist', { li: item, e: {\n                            target: this.ulElement.getElementsByClassName('e-focused')[0],\n                            ctrlKey: e.ctrlKey, shiftKey: e.shiftKey\n                        }, module: 'listbox' });\n                }\n            }\n        }\n    };\n    ListBox.prototype.KeyUp = function (e) {\n        var _this = this;\n        if (this.allowFiltering && e.ctrlKey && e.keyCode === 65) {\n            e.preventDefault();\n            return;\n        }\n        var char = String.fromCharCode(e.keyCode);\n        var isWordCharacter = char.match(/\\w/);\n        if (!isNullOrUndefined(isWordCharacter)) {\n            this.isValidKey = true;\n        }\n        this.isValidKey = (e.keyCode === 8) || (e.keyCode === 46) || this.isValidKey;\n        if (this.isValidKey) {\n            this.isValidKey = false;\n            switch (e.keyCode) {\n                default:\n                    if (this.allowFiltering) {\n                        var eventArgsData_1 = {\n                            preventDefaultAction: false,\n                            text: this.targetElement(),\n                            updateData: function (dataSource, query, fields) {\n                                if (eventArgsData_1.cancel) {\n                                    return;\n                                }\n                                _this.isFiltered = true;\n                                _this.remoteFilterAction = true;\n                                _this.dataUpdater(dataSource, query, fields);\n                            },\n                            event: e,\n                            cancel: false\n                        };\n                        this.trigger('filtering', eventArgsData_1, function (args) {\n                            _this.isDataFetched = false;\n                            if (args.cancel || (_this.filterInput.value !== '' && _this.isFiltered)) {\n                                return;\n                            }\n                            if (!args.cancel && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                                _this.inputString = _this.filterInput.value;\n                                _this.filteringAction(_this.jsonData, new Query(), _this.fields);\n                            }\n                            if (!_this.isFiltered && !_this.isCustomFiltering && !args.preventDefaultAction) {\n                                _this.dataUpdater(_this.jsonData, new Query(), _this.fields);\n                            }\n                        });\n                    }\n            }\n        }\n    };\n    /**\n     * To filter the data from given data source by using query.\n     *\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}.\n     */\n    ListBox.prototype.filter = function (dataSource, query, fields) {\n        this.isCustomFiltering = true;\n        this.filteringAction(dataSource, query, fields);\n    };\n    ListBox.prototype.filteringAction = function (dataSource, query, fields) {\n        this.resetList(dataSource, fields, query);\n    };\n    ListBox.prototype.targetElement = function () {\n        this.targetInputElement = this.list.getElementsByClassName('e-input-filter')[0];\n        return this.targetInputElement.value;\n    };\n    ListBox.prototype.dataUpdater = function (dataSource, query, fields) {\n        this.isDataFetched = false;\n        var backCommand = true;\n        if (this.targetElement().trim() === '') {\n            var list = this.mainList.cloneNode ? this.mainList.cloneNode(true) : this.mainList;\n            if (backCommand) {\n                this.remoteCustomValue = false;\n                if (this.isAngular && this.itemTemplate) {\n                    list = this.renderItems(this.listData, fields);\n                }\n                this.onActionComplete(list, this.jsonData);\n                this.notify('reOrder', { module: 'CheckBoxSelection', enable: this.selectionSettings.showCheckbox, e: this });\n            }\n        }\n        else {\n            this.resetList(dataSource, fields, query);\n        }\n    };\n    ListBox.prototype.focusOutHandler = function () {\n        var ele = this.list.getElementsByClassName('e-focused')[0];\n        if (ele) {\n            ele.classList.remove('e-focused');\n        }\n        if (this.allowFiltering) {\n            this.refreshClearIcon();\n        }\n    };\n    ListBox.prototype.getValidIndex = function (cli, index, keyCode) {\n        var cul = this.ulElement;\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            if (keyCode === 40 || keyCode === 36) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n        if (index < 0 || index === cul.childElementCount) {\n            return -1;\n        }\n        cli = cul.childNodes[index];\n        if (cli.classList.contains('e-disabled') || cli.classList.contains(cssClass.group)) {\n            index = this.getValidIndex(cli, index, keyCode);\n        }\n        return index;\n    };\n    ListBox.prototype.updateSelectedOptions = function () {\n        var _this = this;\n        var selectedOptions = [];\n        var values = [];\n        extend(values, this.value);\n        this.getSelectedItems().forEach(function (ele) {\n            if (!ele.classList.contains('e-grabbed')) {\n                selectedOptions.push(_this.getFormattedValue(ele.getAttribute('data-value')));\n            }\n        });\n        if (this.mainList.childElementCount === this.ulElement.childElementCount) {\n            if (this.allowFiltering && this.selectionSettings.showCheckbox) {\n                for (var i = 0; i < selectedOptions.length; i++) {\n                    if (values.indexOf(selectedOptions[i]) > -1) {\n                        continue;\n                    }\n                    else {\n                        values.push(selectedOptions[i]);\n                    }\n                }\n                this.setProperties({ value: values }, true);\n            }\n            else {\n                this.setProperties({ value: selectedOptions }, true);\n            }\n        }\n        this.updateSelectTag();\n        this.updateToolBarState();\n        if (this.tBListBox) {\n            this.tBListBox.updateToolBarState();\n        }\n    };\n    ListBox.prototype.clearSelection = function (values) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (this.selectionSettings.showCheckbox) {\n            var dvalue_1;\n            this.getSelectedItems().forEach(function (li) {\n                dvalue_1 = _this.getFormattedValue(li.getAttribute('data-value'));\n                if (values.indexOf(dvalue_1) < 0) {\n                    li.getElementsByClassName('e-check')[0].classList.remove('e-check');\n                    li.removeAttribute('aria-selected');\n                }\n            });\n        }\n    };\n    ListBox.prototype.setSelection = function (values, isSelect, isText, canFocus) {\n        var _this = this;\n        if (values === void 0) { values = this.value; }\n        if (isSelect === void 0) { isSelect = true; }\n        if (isText === void 0) { isText = false; }\n        if (canFocus === void 0) { canFocus = true; }\n        var li;\n        var liselect;\n        if (values) {\n            values.forEach(function (value) {\n                var text;\n                if (isText) {\n                    text = _this.getValueByText(value);\n                }\n                else {\n                    text = value;\n                }\n                if (typeof (text) === 'string') {\n                    text = text.split('\\\\').join('\\\\\\\\');\n                    li = _this.list.querySelector('[data-value=\"' + text.replace(/\"/g, '\\\\\"') + '\"]');\n                }\n                else {\n                    li = _this.list.querySelector('[data-value=\"' + text + '\"]');\n                }\n                if (li) {\n                    if (_this.selectionSettings.showCheckbox) {\n                        liselect = li.getElementsByClassName('e-frame')[0].classList.contains('e-check');\n                    }\n                    else {\n                        liselect = li.classList.contains('e-selected');\n                    }\n                    if (!isSelect && liselect || isSelect && !liselect && li) {\n                        if (_this.selectionSettings.showCheckbox) {\n                            _this.notify('updatelist', { li: li, module: 'listbox' });\n                            if (canFocus) {\n                                li.focus();\n                            }\n                        }\n                        else {\n                            if (isSelect) {\n                                li.classList.add(cssClass.selected);\n                                li.setAttribute('aria-selected', 'true');\n                                if (canFocus) {\n                                    li.focus();\n                                }\n                            }\n                            else {\n                                li.classList.remove(cssClass.selected);\n                                li.removeAttribute('aria-selected');\n                            }\n                        }\n                    }\n                }\n            });\n        }\n        this.updateSelectTag();\n    };\n    ListBox.prototype.updateSelectTag = function () {\n        var ele = this.getSelectTag();\n        var innerHTML = '';\n        ele.innerHTML = '';\n        if (this.value) {\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                innerHTML += '<option selected>' + this.value[i] + '</option>';\n            }\n            ele.innerHTML += innerHTML;\n            for (var i = 0, len = ele.childNodes.length; i < len; i++) {\n                ele.childNodes[i].setAttribute('value', this.value[i].toString());\n            }\n        }\n        this.checkSelectAll();\n    };\n    ListBox.prototype.checkDisabledState = function (inst) {\n        return inst.ulElement.querySelectorAll('.' + cssClass.li).length === 0;\n    };\n    ListBox.prototype.updateToolBarState = function () {\n        var _this = this;\n        if (this.toolbarSettings.items.length) {\n            var listObj_1 = this.getScopedListBox();\n            var wrap_1 = this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n            this.toolbarSettings.items.forEach(function (value) {\n                var btn = wrap_1.querySelector('[data-value=\"' + value + '\"]');\n                switch (value) {\n                    case 'moveAllTo':\n                        btn.disabled = _this.checkDisabledState(_this);\n                        break;\n                    case 'moveAllFrom':\n                        btn.disabled = _this.checkDisabledState(listObj_1);\n                        break;\n                    case 'moveFrom':\n                        btn.disabled = listObj_1.value && listObj_1.value.length ? false : true;\n                        break;\n                    case 'moveUp':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[0]) ? false : true;\n                        break;\n                    case 'moveDown':\n                        btn.disabled = _this.value && _this.value.length\n                            && !_this.isSelected(_this.ulElement.children[_this.ulElement.childElementCount - 1]) ? false : true;\n                        break;\n                    default:\n                        btn.disabled = _this.value && _this.value.length ? false : true;\n                        break;\n                }\n            });\n        }\n    };\n    ListBox.prototype.setCheckboxPosition = function () {\n        var listWrap = this.list;\n        if (!this.initLoad && this.selectionSettings.checkboxPosition === 'Left') {\n            listWrap.classList.remove('e-right');\n        }\n        if (this.selectionSettings.checkboxPosition === 'Right') {\n            listWrap.classList.add('e-right');\n        }\n    };\n    ListBox.prototype.showCheckbox = function (showCheckbox) {\n        var index = 0;\n        var liColl = this.list.lastElementChild.querySelectorAll('li');\n        var liCollLen = this.list.lastElementChild.getElementsByClassName('e-list-item').length;\n        if (showCheckbox) {\n            this.ulElement = this.renderItems(this.listData, this.fields);\n            this.mainList = this.ulElement;\n            this.list.removeChild(this.list.getElementsByTagName('ul')[0]);\n            this.list.appendChild(this.ulElement);\n            if (this.selectionSettings.showSelectAll && !this.list.getElementsByClassName('e-selectall-parent')[0]) {\n                var l10nShow = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                this.showSelectAll = true;\n                this.selectAllText = l10nShow.getConstant('selectAllText');\n                this.unSelectAllText = l10nShow.getConstant('unSelectAllText');\n                this.popupWrapper = this.list;\n                this.checkBoxSelectionModule.checkAllParent = null;\n                this.notify('selectAll', {});\n                this.checkSelectAll();\n            }\n        }\n        else {\n            if (this.list.getElementsByClassName('e-selectall-parent')[0]) {\n                this.list.removeChild(this.list.getElementsByClassName('e-selectall-parent')[0]);\n            }\n            for (index; index < liCollLen; index++) {\n                if (liColl[index].classList.contains('e-list-item')) {\n                    liColl[index].removeChild(liColl[index].getElementsByClassName('e-checkbox-wrapper')[0]);\n                }\n                if (liColl[index].hasAttribute('aria-selected')) {\n                    liColl[index].removeAttribute('aria-selected');\n                }\n            }\n            this.mainList = this.ulElement;\n        }\n        this.value = [];\n    };\n    ListBox.prototype.isSelected = function (ele) {\n        if (!isNullOrUndefined(ele)) {\n            return ele.classList.contains(cssClass.selected) || ele.querySelector('.e-check') !== null;\n        }\n        else {\n            return false;\n        }\n    };\n    ListBox.prototype.getSelectTag = function () {\n        return this.list.getElementsByClassName('e-hidden-select')[0];\n    };\n    ListBox.prototype.getToolElem = function () {\n        return this.list.parentElement.getElementsByClassName('e-listbox-tool')[0];\n    };\n    ListBox.prototype.formResetHandler = function () {\n        this.value = this.initialSelectedOptions;\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - Module name\n     */\n    ListBox.prototype.getModuleName = function () {\n        return 'listbox';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    ListBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['value']);\n    };\n    ListBox.prototype.getLocaleName = function () {\n        return 'listbox';\n    };\n    ListBox.prototype.destroy = function () {\n        this.unwireEvents();\n        if (this.element.tagName === 'EJS-LISTBOX') {\n            this.element.innerHTML = '';\n        }\n        else {\n            this.element.style.display = 'inline-block';\n            if (this.toolbarSettings.items.length) {\n                this.list.parentElement.parentElement.insertBefore(this.list, this.list.parentElement);\n                detach(this.list.nextElementSibling);\n            }\n            this.list.parentElement.insertBefore(this.element, this.list);\n        }\n        _super.prototype.destroy.call(this);\n        this.enableRtlElements = [];\n        this.liCollections = null;\n        this.list = null;\n        this.ulElement = null;\n        this.mainList = null;\n        this.spinner = null;\n        this.rippleFun = null;\n        if (this.itemTemplate) {\n            this.clearTemplate();\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {ListBoxModel} newProp - Specifies the new properties.\n     * @param {ListBoxModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     * @private\n     */\n    ListBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrap = this.toolbarSettings.items.length ? this.list.parentElement : this.list;\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrap], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrap], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.list.classList.add('e-rtl');\n                    }\n                    else {\n                        this.list.classList.remove('e-rtl');\n                    }\n                    break;\n                case 'value':\n                    removeClass(this.list.querySelectorAll('.' + cssClass.selected), cssClass.selected);\n                    this.clearSelection(this.value);\n                    this.setSelection();\n                    break;\n                case 'height':\n                    this.setHeight();\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'allowDragAndDrop':\n                    if (newProp.allowDragAndDrop) {\n                        this.initDraggable();\n                    }\n                    else {\n                        getComponent(this.ulElement, 'sortable').destroy();\n                    }\n                    break;\n                case 'allowFiltering':\n                    if (this.allowFiltering) {\n                        this.setFiltering();\n                    }\n                    else {\n                        this.list.removeChild(this.list.getElementsByClassName('e-filter-parent')[0]);\n                        this.filterParent = null;\n                        removeClass([this.list], 'e-filter-list');\n                    }\n                    break;\n                case 'filterBarPlaceholder':\n                    if (this.allowFiltering) {\n                        if (this.filterInput) {\n                            Input.setPlaceholder(newProp.filterBarPlaceholder, this.filterInput);\n                        }\n                    }\n                    break;\n                case 'scope':\n                    if (this.allowDragAndDrop) {\n                        getComponent(this.ulElement, 'sortable').scope = newProp.scope;\n                    }\n                    if (this.toolbarSettings.items.length) {\n                        if (oldProp.scope) {\n                            getComponent(document.querySelector(oldProp.scope), this.getModuleName())\n                                .tBListBox = null;\n                        }\n                        if (newProp.scope) {\n                            getComponent(document.querySelector(newProp.scope), this.getModuleName())\n                                .tBListBox = this;\n                        }\n                    }\n                    break;\n                case 'toolbarSettings': {\n                    var ele = void 0;\n                    var pos = newProp.toolbarSettings.position;\n                    var toolElem = this.getToolElem();\n                    if (pos) {\n                        removeClass([wrap], ['e-right', 'e-left']);\n                        wrap.classList.add('e-' + pos.toLowerCase());\n                        if (pos === 'Left') {\n                            wrap.insertBefore(toolElem, this.list);\n                        }\n                        else {\n                            wrap.appendChild(toolElem);\n                        }\n                    }\n                    if (newProp.toolbarSettings.items) {\n                        if (oldProp.toolbarSettings && oldProp.toolbarSettings.items.length) {\n                            ele = this.list.parentElement;\n                            ele.parentElement.insertBefore(this.list, ele);\n                            detach(ele);\n                        }\n                        this.initToolbarAndStyles();\n                        this.wireToolbarEvent();\n                    }\n                    break;\n                }\n                case 'selectionSettings': {\n                    var showSelectAll = newProp.selectionSettings.showSelectAll;\n                    var showCheckbox = newProp.selectionSettings.showCheckbox;\n                    if (!isNullOrUndefined(showSelectAll)) {\n                        this.showSelectAll = showSelectAll;\n                        if (this.showSelectAll) {\n                            var l10nSel = new L10n(this.getModuleName(), { selectAllText: 'Select All', unSelectAllText: 'Unselect All' }, this.locale);\n                            this.checkBoxSelectionModule.checkAllParent = null;\n                            this.showSelectAll = true;\n                            this.selectAllText = l10nSel.getConstant('selectAllText');\n                            this.unSelectAllText = l10nSel.getConstant('selectAllText');\n                            this.popupWrapper = this.list;\n                        }\n                        this.notify('selectAll', {});\n                        this.checkSelectAll();\n                    }\n                    if (!isNullOrUndefined(showCheckbox)) {\n                        this.showCheckbox(showCheckbox);\n                    }\n                    if (this.selectionSettings.showCheckbox) {\n                        this.setCheckboxPosition();\n                    }\n                    break;\n                }\n                case 'dataSource':\n                    this.isDataSourceUpdate = true;\n                    this.jsonData = [].slice.call(this.dataSource);\n                    break;\n            }\n        }\n    };\n    var ListBox_1;\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property([])\n    ], ListBox.prototype, \"value\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], ListBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(1000)\n    ], ListBox.prototype, \"maximumSelectionLength\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property('')\n    ], ListBox.prototype, \"scope\", void 0);\n    __decorate([\n        Property(true)\n    ], ListBox.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"beforeDrop\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"drop\", void 0);\n    __decorate([\n        Event()\n    ], ListBox.prototype, \"dataBound\", void 0);\n    __decorate([\n        Property(null)\n    ], ListBox.prototype, \"groupTemplate\", void 0);\n    __decorate([\n        Property('Request failed')\n    ], ListBox.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(1000)\n    ], ListBox.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], ListBox.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Complex({}, ToolbarSettings)\n    ], ListBox.prototype, \"toolbarSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], ListBox.prototype, \"selectionSettings\", void 0);\n    ListBox = ListBox_1 = __decorate([\n        NotifyPropertyChanges\n    ], ListBox);\n    return ListBox;\n}(DropDownBase));\nexport { ListBox };\nvar listBoxClasses = {\n    backIcon: 'e-input-group-icon e-back-icon e-icons',\n    filterBarClearIcon: 'e-input-group-icon e-clear-icon e-icons',\n    filterInput: 'e-input-filter',\n    filterParent: 'e-filter-parent',\n    clearIcon: 'e-clear-icon'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { compile, Property, EventHandler, Animation, formatUnit, append, attributes } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, detach, Event, Complex, addClass, removeClass, closest, isUndefined, getValue, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { DropDownBase, dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Popup, isCollide, createSpinner, showSpinner, hideSpinner, getZindexPartial } from '@syncfusion/ej2-popups';\nimport { highlightSearch, revertHighlightSearch } from '../common/highlight-search';\n/**\n * The Mention component is used to list someone or something based on user input in textarea, input,\n * or any other editable element from which the user can select.\n */\nvar Mention = /** @class */ (function (_super) {\n    __extends(Mention, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {MentionModel} options - Specifies the MentionComponent model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Mention(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * When property value changes happened, then onPropertyChanged method will execute the respective changes in this component.\n     *\n     * @param {MentionModel} newProp - Returns the dynamic property value of the component.\n     * @param {MentionModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Mention.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'minLength':\n                    this.minLength = newProp.minLength;\n                    break;\n                case 'suffixText':\n                    this.suffixText = newProp.suffixText;\n                    break;\n                case 'allowSpaces':\n                    this.allowSpaces = newProp.allowSpaces;\n                    break;\n                case 'mentionChar':\n                    this.mentionChar = newProp.mentionChar;\n                    break;\n                case 'showMentionChar':\n                    this.showMentionChar = newProp.showMentionChar;\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n            }\n        }\n    };\n    Mention.prototype.updateCssClass = function (newClass, oldClass) {\n        if (!isNullOrUndefined(oldClass)) {\n            oldClass = (oldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newClass)) {\n            newClass = (newClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.setCssClass(newClass, [this.inputElement], oldClass);\n        if (this.popupObj) {\n            this.setCssClass(newClass, [this.popupObj.element], oldClass);\n        }\n    };\n    Mention.prototype.setCssClass = function (cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    };\n    Mention.prototype.initializeData = function () {\n        this.isSelected = false;\n        this.isFiltered = false;\n        this.beforePopupOpen = false;\n        this.initRemoteRender = false;\n        this.isListResetted = false;\n        this.isPopupOpen = false;\n        this.isCollided = false;\n        this.lineBreak = false;\n        this.isRTE = false;\n        this.keyEventName = 'mousedown';\n    };\n    /**\n     * Execute before render the list items\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.preRender = function () {\n        this.initializeData();\n        _super.prototype.preRender.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.render = function () {\n        var isSelector = typeof this.target === 'string';\n        this.inputElement = !isNullOrUndefined(this.target) ?\n            this.checkAndUpdateInternalComponent(isSelector\n                ? document.querySelector(this.target)\n                : this.target) : this.element;\n        if (this.isContentEditable(this.inputElement)) {\n            this.inputElement.setAttribute('contenteditable', 'true');\n            addClass([this.inputElement], ['e-mention']);\n            if (isNullOrUndefined(this.target)) {\n                addClass([this.inputElement], ['e-editable-element']);\n            }\n        }\n        this.inputElement.setAttribute('role', 'textbox');\n        this.inputElement.setAttribute('aria-label', 'mention');\n        this.queryString = this.elementValue();\n        this.wireEvent();\n    };\n    Mention.prototype.wireEvent = function () {\n        EventHandler.add(this.inputElement, 'keyup', this.onKeyUp, this);\n        this.bindCommonEvent();\n    };\n    Mention.prototype.unWireEvent = function () {\n        EventHandler.remove(this.inputElement, 'keyup', this.onKeyUp);\n        this.unBindCommonEvent();\n    };\n    Mention.prototype.bindCommonEvent = function () {\n        if (!Browser.isDevice) {\n            this.inputElement.addEventListener('keydown', this.keyDownHandler.bind(this), !this.isRTE);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @private\n     * @returns {void}\n     */\n    Mention.prototype.hideSpinner = function () {\n        this.hideWaitingSpinner();\n    };\n    Mention.prototype.hideWaitingSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n        }\n        if (!isNullOrUndefined(this.spinnerTemplate) && !isNullOrUndefined(this.spinnerTemplateElement)) {\n            detach(this.spinnerTemplateElement);\n        }\n    };\n    Mention.prototype.checkAndUpdateInternalComponent = function (targetElement) {\n        if (!this.isVue && targetElement.classList.contains('e-richtexteditor')) {\n            return targetElement.querySelector('.e-content');\n        }\n        if (this.isVue && targetElement.nodeName === 'TEXTAREA' && targetElement.classList.contains('e-rte-hidden')) {\n            var parentElement = targetElement.parentElement;\n            if (parentElement && parentElement.classList.contains('e-richtexteditor')) {\n                return parentElement.querySelector('.e-content');\n            }\n        }\n        if (targetElement && targetElement.parentElement && targetElement.parentElement.classList.contains('e-rte-content')) {\n            this.isRTE = true;\n            this.keyEventName = 'click';\n        }\n        return targetElement;\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.showWaitingSpinner = function () {\n        if (!isNullOrUndefined(this.popupObj)) {\n            if (isNullOrUndefined(this.spinnerTemplate) && isNullOrUndefined(this.spinnerElement)) {\n                this.spinnerElement = this.popupObj.element;\n                createSpinner({\n                    target: this.spinnerElement,\n                    width: Browser.isDevice ? '16px' : '14px'\n                }, this.createElement);\n                showSpinner(this.spinnerElement);\n            }\n            if (!isNullOrUndefined(this.spinnerTemplate)) {\n                this.setSpinnerTemplate();\n            }\n        }\n    };\n    Mention.prototype.keyDownHandler = function (e) {\n        var isKeyAction = true;\n        switch (e.keyCode) {\n            case 38:\n                e.action = e.altKey ? 'hide' : 'up';\n                break;\n            case 40:\n                e.action = e.altKey ? 'open' : 'down';\n                break;\n            case 33:\n                e.action = 'pageUp';\n                break;\n            case 34:\n                e.action = 'pageDown';\n                break;\n            case 36:\n                e.action = 'home';\n                break;\n            case 35:\n                e.action = 'end';\n                break;\n            case 9:\n                e.action = e.shiftKey ? 'close' : 'tab';\n                break;\n            case 27:\n                e.action = 'escape';\n                break;\n            case 32:\n                e.action = 'space';\n                break;\n            case 13:\n                e.action = 'enter';\n                break;\n            default:\n                isKeyAction = false;\n                break;\n        }\n        if (isKeyAction) {\n            this.keyActionHandler(e);\n        }\n    };\n    Mention.prototype.keyActionHandler = function (e) {\n        var isNavigation = (e.action === 'down' || e.action === 'up' || e.action === 'pageUp' || e.action === 'pageDown'\n            || e.action === 'home' || e.action === 'end');\n        var isTabAction = e.action === 'tab' || e.action === 'close';\n        if (this.list === undefined && !this.isRequested && !isTabAction && e.action !== 'escape' && e.action !== 'space') {\n            this.renderList();\n        }\n        if (isNullOrUndefined(this.list) || (!isNullOrUndefined(this.liCollections) &&\n            isNavigation && this.liCollections.length === 0) || this.isRequested) {\n            return;\n        }\n        if (e.action === 'escape') {\n            e.preventDefault();\n        }\n        this.isSelected = e.action === 'escape' ? false : this.isSelected;\n        switch (e.action) {\n            case 'down':\n            case 'up':\n                this.isUpDownKey = true;\n                this.updateUpDownAction(e);\n                break;\n            case 'tab':\n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                    var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n                    if (li) {\n                        this.setSelection(li, e);\n                    }\n                    if (this.isPopupOpen) {\n                        this.hidePopup(e);\n                    }\n                }\n                break;\n            case 'enter':\n                if (this.isPopupOpen) {\n                    e.preventDefault();\n                    if (this.popupObj && this.popupObj.element.contains(this.selectedLI)) {\n                        this.updateSelectedItem(this.selectedLI, e, false, true);\n                    }\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen) {\n                    this.hidePopup(e);\n                }\n                break;\n        }\n    };\n    Mention.prototype.updateUpDownAction = function (e) {\n        var focusEle = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (this.isSelectFocusItem(focusEle)) {\n            this.setSelection(focusEle, e);\n        }\n        else if (!isNullOrUndefined(this.liCollections)) {\n            var li = this.list.querySelector('.' + dropDownBaseClasses.selected);\n            if (!isNullOrUndefined(li)) {\n                var value = this.getFormattedValue(li.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n            }\n            var index = e.action === 'down' ? this.activeIndex + 1 : this.activeIndex - 1;\n            var startIndex = 0;\n            startIndex = e.action === 'down' && isNullOrUndefined(this.activeIndex) ? 0 : this.liCollections.length - 1;\n            index = index < 0 ? this.liCollections.length - 1 : index === this.liCollections.length ? 0 : index;\n            var nextItem = isNullOrUndefined(this.activeIndex) ?\n                this.liCollections[startIndex] : this.liCollections[index];\n            if (!isNullOrUndefined(nextItem)) {\n                this.setSelection(nextItem, e);\n            }\n        }\n        if (this.isPopupOpen) {\n            e.preventDefault();\n        }\n    };\n    Mention.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    Mention.prototype.unBindCommonEvent = function () {\n        if (!Browser.isDevice) {\n            this.inputElement.removeEventListener('keydown', this.keyDownHandler.bind(this), !this.isRTE);\n        }\n    };\n    Mention.prototype.onKeyUp = function (e) {\n        var rangetextContent;\n        if (this.isUpDownKey && this.isPopupOpen && e.keyCode === 229) {\n            this.isUpDownKey = false;\n            return;\n        }\n        this.isTyped = e.code !== 'Enter' && e.code !== 'Space' && e.code !== 'ArrowDown' && e.code !== 'ArrowUp' ? true : false;\n        var isRteImage = document.activeElement.parentElement && document.activeElement.parentElement.querySelector('.e-rte-image') ? true : false;\n        if (document.activeElement != this.inputElement && isRteImage) {\n            this.inputElement.focus();\n        }\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n            rangetextContent = this.range.startContainer.textContent.split('');\n        }\n        var currentRange = this.getTextRange();\n        var lastWordRange = this.getLastLetter(currentRange);\n        var lastTwoLetters = this.mentionChar.toString() + this.mentionChar.toString();\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        var Regex = new RegExp(this.mentionChar.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'g');\n        var charRegex = new RegExp('[a-zA-Z]', 'g');\n        if (e.key === 'Shift' || e.keyCode === 37 || e.keyCode === 39) {\n            return;\n        }\n        if (this.beforePopupOpen && this.isPopupOpen && lastWordRange == lastTwoLetters) {\n            this.hidePopup();\n            return;\n        }\n        if ((!currentRange || !lastWordRange) || e.code === 'Enter' || e.keyCode === 27 ||\n            (lastWordRange.match(Regex) && lastWordRange.match(Regex).length > 1) ||\n            (this.isContentEditable(this.inputElement) && this.range.startContainer &&\n                this.range.startContainer.previousElementSibling && this.range.startContainer.previousElementSibling.tagName !== 'BR' && this.range.startContainer.textContent.split('').length > 0 &&\n                (rangetextContent.length === 1 || rangetextContent[rangetextContent.length - 2].indexOf('') === -1 ||\n                    this.range.startContainer.nodeType === 1))) {\n            if (this.isPopupOpen && this.allowSpaces && currentRange && currentRange.trim() !== '' && charRegex.test(currentRange) && currentRange.indexOf(this.mentionChar) !== -1\n                && !this.isMatchedText() && (currentRange.length > 1 && currentRange.replace(/\\u00A0/g, ' ').charAt(currentRange.length - 2) !== ' ') &&\n                (this.list && this.list.querySelectorAll('ul').length > 0) && e.code !== 'Enter') {\n                this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n                this.searchLists(e);\n            }\n            else if (this.isPopupOpen && (!this.allowSpaces || !lastWordRange) && (e.code !== 'ArrowDown' && e.code !== 'ArrowUp')) {\n                this.hidePopup();\n                this.lineBreak = true;\n            }\n            return;\n        }\n        if (lastWordRange.includes(this.mentionChar)) {\n            this.queryString = lastWordRange.replace(this.mentionChar, '');\n        }\n        if (this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0) &&\n            this.queryString !== '' && e.keyCode !== 38 && e.keyCode !== 40 && !this.lineBreak) {\n            this.searchLists(e);\n            if (!this.isPopupOpen && this.queryString.length >= this.minLength) {\n                if (!this.isContentEditable(this.inputElement)) {\n                    this.showPopup();\n                }\n                else if (this.isContentEditable(this.inputElement) && this.range && this.range.startContainer !== this.inputElement && e.keyCode !== 9) {\n                    this.showPopup();\n                }\n            }\n        }\n        else if (lastWordRange.indexOf(this.mentionChar) === 0 && !this.isPopupOpen && e.keyCode !== 8 && (!this.popupObj ||\n            (isNullOrUndefined(this.target) && !document.body.contains(this.popupObj.element) ||\n                !isNullOrUndefined(this.target) && document.body.contains(this.popupObj.element)))) {\n            if (this.initRemoteRender && this.list && this.list.classList.contains('e-nodata')) {\n                this.searchLists(e);\n            }\n            this.resetList(this.dataSource, this.fields);\n            if (isNullOrUndefined(this.list)) {\n                this.initValue();\n            }\n            if (!this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40 && this.queryString.length >= this.minLength) {\n                this.didPopupOpenByTypingInitialChar = true;\n                this.showPopup();\n                if (this.initRemoteRender && this.list.querySelectorAll('li').length === 0) {\n                    this.showWaitingSpinner();\n                }\n                this.lineBreak = false;\n            }\n        }\n        else if (this.allowSpaces && this.queryString !== '' && currentRange && currentRange.trim() !== '' && currentRange.replace('\\u00a0', ' ').lastIndexOf(' ') < currentRange.length - 1 &&\n            e.keyCode !== 38 && e.keyCode !== 40 && e.keyCode !== 8 && this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0)) {\n            this.queryString = currentRange.substring(currentRange.lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ');\n            this.searchLists(e);\n        }\n        else if (this.queryString === '' && this.isPopupOpen && e.keyCode !== 38 && e.keyCode !== 40 && this.mentionChar.charCodeAt(0) === lastWordRange.charCodeAt(0)) {\n            this.searchLists(e);\n            if (!this.isListResetted) {\n                this.resetList(this.dataSource, this.fields);\n            }\n        }\n        this.isListResetted = false;\n    };\n    Mention.prototype.isMatchedText = function () {\n        var isMatched = false;\n        for (var i = 0; i < (this.liCollections && this.liCollections.length); i++) {\n            if (this.getTextRange() &&\n                this.getTextRange().substring(this.getTextRange().lastIndexOf(this.mentionChar) + 1).replace('\\u00a0', ' ').trim() === this.liCollections[i].getAttribute('data-value').toLowerCase()) {\n                isMatched = true;\n            }\n        }\n        return isMatched;\n    };\n    Mention.prototype.getCurrentRange = function () {\n        this.range = this.inputElement.ownerDocument.getSelection().getRangeAt(0);\n        return this.range;\n    };\n    Mention.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isDataFetched = false;\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.render.call(this);\n            this.unWireListEvents();\n            this.wireListEvents();\n        }\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.queryString,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isFiltered = true;\n                _this.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this.isFiltered && !eventArgs.preventDefaultAction) {\n                _this.filterAction(_this.dataSource, null, _this.fields);\n            }\n        });\n    };\n    Mention.prototype.filterAction = function (dataSource, query, fields) {\n        this.beforePopupOpen = true;\n        if (this.queryString.length >= this.minLength) {\n            this.resetList(dataSource, fields, query);\n            this.isListResetted = true;\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.beforePopupOpen = false;\n        }\n        this.setDataIndex();\n        this.renderReactTemplates();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Mention.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isActive) {\n            if (!isNullOrUndefined(ulElement)) {\n                attributes(ulElement, { 'id': this.inputElement.id + '_options', 'role': 'listbox', 'aria-hidden': 'false' });\n            }\n            var focusItem = ulElement.querySelector('.' + dropDownBaseClasses.li);\n            if (focusItem) {\n                focusItem.classList.add(dropDownBaseClasses.selected);\n                this.selectedLI = focusItem;\n                var value = this.getFormattedValue(focusItem.getAttribute('data-value'));\n                this.selectEventCallback(focusItem, this.getDataByValue(value), value, true);\n            }\n            if (this.beforePopupOpen && this.isPopupOpen) {\n                if (!isNullOrUndefined(this.popupObj.element)) {\n                    this.popupObj.element.remove();\n                }\n                this.renderPopup();\n            }\n        }\n    };\n    Mention.prototype.setDataIndex = function () {\n        for (var i = 0; this.liCollections && i < this.liCollections.length; i++) {\n            this.liCollections[i].setAttribute('data-index', i.toString());\n        }\n    };\n    Mention.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    if (_this.inputElement.tagName === _this.getNgDirective() && _this.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n        return fields;\n    };\n    Mention.prototype.elementValue = function () {\n        if (!this.isContentEditable(this.inputElement)) {\n            return this.inputElement.value.replace(this.mentionChar, '');\n        }\n        else {\n            return this.inputElement.textContent.replace(this.mentionChar, '');\n        }\n    };\n    Mention.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.elementValue())) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.elementValue())) ?\n            this.elementValue() : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.text) ? this.fields.text : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount)) {\n            // Since defualt value of suggestioncount is 25, checked the condition\n            if (this.suggestionCount !== 25) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        return filterQuery;\n    };\n    Mention.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n            }\n        }\n    };\n    Mention.prototype.getTextRange = function () {\n        var text;\n        if (!this.isContentEditable(this.inputElement)) {\n            var component = this.inputElement;\n            if (!isNullOrUndefined(component)) {\n                var startPos = component.selectionStart;\n                if (component.value && startPos >= 0) {\n                    text = component.value.substring(0, startPos);\n                }\n            }\n        }\n        else {\n            if (this.range) {\n                var selectedElem = this.range.startContainer;\n                if (!isNullOrUndefined(selectedElem)) {\n                    var workingNodeContent = selectedElem.textContent;\n                    var selectStartOffset = this.range.startOffset;\n                    if (workingNodeContent && selectStartOffset >= 0) {\n                        text = workingNodeContent.substring(0, selectStartOffset);\n                    }\n                }\n            }\n        }\n        return text;\n    };\n    Mention.prototype.getLastLetter = function (text) {\n        if (isNullOrUndefined(text)) {\n            return '';\n        }\n        var textValue = text.replace(/\\u00A0/g, ' ');\n        var words = textValue.split(/\\s+/);\n        var wordCnt = words.length - 1;\n        return words[wordCnt].trim();\n    };\n    Mention.prototype.isContentEditable = function (element) {\n        return element && element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA';\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.showPopup = function () {\n        this.beforePopupOpen = true;\n        if (document.activeElement != this.inputElement) {\n            this.inputElement.focus();\n        }\n        this.queryString = this.didPopupOpenByTypingInitialChar ? this.queryString : '';\n        this.didPopupOpenByTypingInitialChar = false;\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n        }\n        if (!this.isTyped) {\n            this.resetList(this.dataSource, this.fields);\n        }\n        if (isNullOrUndefined(this.list)) {\n            this.initValue();\n        }\n        this.renderPopup();\n        attributes(this.inputElement, { 'aria-activedescendant': this.selectedElementID });\n        if (this.selectedElementID == null) {\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in an open state.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.hidePopup = function (e) {\n        this.removeSelection();\n        this.closePopup(0, e);\n    };\n    Mention.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        if (!(this.popupObj && document.body.contains(this.popupObj.element) && this.beforePopupOpen)) {\n            return;\n        }\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n        this.inputElement.removeAttribute('aria-owns');\n        this.inputElement.removeAttribute('aria-activedescendant');\n        this.beforePopupOpen = false;\n        var animModel = {\n            name: 'FadeOut',\n            duration: 100,\n            delay: delay ? delay : 0\n        };\n        var popupInstance = this.popupObj;\n        var eventArgs = { popup: popupInstance, cancel: false, animation: animModel, event: e || null };\n        this.trigger('closed', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && _this.popupObj) {\n                if (_this.isPopupOpen) {\n                    _this.popupObj.hide(new Animation(eventArgs.animation));\n                }\n                else {\n                    _this.destroyPopup();\n                }\n            }\n        });\n    };\n    Mention.prototype.renderPopup = function () {\n        var _this = this;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                var popupEle_1;\n                if (isNullOrUndefined(_this.target)) {\n                    popupEle_1 = _this.createElement('div', {\n                        id: _this.inputElement.id + '_popup', className: 'e-mention e-popup ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                }\n                else {\n                    popupEle_1 = _this.element;\n                    if (_this.cssClass != null) {\n                        addClass([popupEle_1], _this.cssClass.split(' '));\n                    }\n                }\n                if (!isNullOrUndefined(_this.target)) {\n                    popupEle_1.id = _this.inputElement.id + '_popup';\n                }\n                _this.listHeight = formatUnit(_this.popupHeight);\n                if (!isNullOrUndefined(_this.list.querySelector('li')) && !_this.initRemoteRender) {\n                    var li = _this.list.querySelector('.' + dropDownBaseClasses.focus);\n                    if (!isNullOrUndefined(li)) {\n                        _this.selectedLI = li;\n                        var value = _this.getFormattedValue(li.getAttribute('data-value'));\n                        _this.selectEventCallback(li, _this.getDataByValue(value), value, true);\n                    }\n                }\n                append([_this.list], popupEle_1);\n                if (_this.inputElement.parentElement && _this.inputElement.parentElement.parentElement &&\n                    _this.inputElement.parentElement.parentElement.classList.contains('e-richtexteditor')) {\n                    if (popupEle_1.firstElementChild && popupEle_1.firstElementChild.childElementCount > 0) {\n                        popupEle_1.firstElementChild.setAttribute('aria-owns', _this.inputElement.parentElement.parentElement.id);\n                        addClass([popupEle_1], 'e-rte-elements');\n                    }\n                }\n                if ((!_this.popupObj || !document.body.contains(_this.popupObj.element)) ||\n                    !document.contains(popupEle_1) && isNullOrUndefined(_this.target)) {\n                    document.body.appendChild(popupEle_1);\n                }\n                var coordinates_1;\n                popupEle_1.style.visibility = 'hidden';\n                _this.setHeight(popupEle_1);\n                var offsetValue = 0;\n                var left = 0;\n                _this.initializePopup(popupEle_1, offsetValue, left);\n                _this.checkCollision(popupEle_1);\n                popupEle_1.style.visibility = 'visible';\n                var popupLeft_1 = popupEle_1.parentElement.offsetWidth - popupEle_1.offsetWidth;\n                var popupHeight_1 = popupEle_1.offsetHeight;\n                addClass([popupEle_1], ['e-mention', 'e-popup', 'e-popup-close']);\n                if (!isNullOrUndefined(_this.list)) {\n                    _this.unWireListEvents();\n                    _this.wireListEvents();\n                }\n                _this.selectedElementID = _this.selectedLI ? _this.selectedLI.id : null;\n                attributes(_this.inputElement, { 'aria-owns': _this.inputElement.id + '_options', 'aria-activedescendant': _this.selectedElementID });\n                if (_this.selectedElementID == null) {\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                }\n                var animModel = { name: 'FadeIn', duration: 100 };\n                _this.beforePopupOpen = true;\n                var popupInstance = _this.popupObj;\n                var eventArgs = { popup: popupInstance, cancel: false, animation: animModel };\n                _this.trigger('opened', eventArgs, function (eventArgs) {\n                    if (!eventArgs.cancel) {\n                        _this.renderReactTemplates();\n                        if (_this.popupObj) {\n                            _this.popupObj.show(new Animation(eventArgs.animation), (_this.zIndex === 1000) ? _this.inputElement : null);\n                        }\n                        if (isNullOrUndefined(_this.getTriggerCharPosition())) {\n                            return;\n                        }\n                        coordinates_1 = _this.getCoordinates(_this.inputElement, _this.getTriggerCharPosition());\n                        if (!_this.isCollided) {\n                            popupEle_1.style.cssText = 'top: '.concat(coordinates_1.top.toString(), 'px;\\n left: ').concat(coordinates_1.left.toString(), 'px;\\nposition: absolute;\\n display: block;');\n                        }\n                        else {\n                            if (_this.collision.length > 0 && _this.collision.indexOf('right') > -1 && _this.collision.indexOf('bottom') === -1) {\n                                popupEle_1.style.cssText = 'top: '.concat(coordinates_1.top.toString(), 'px;\\n left: ').concat(popupLeft_1.toString(), 'px;\\nposition: absolute;\\n display: block;');\n                            }\n                            else if (_this.collision && _this.collision.length > 0 && _this.collision.indexOf('bottom') > -1 && _this.collision.indexOf('right') === -1) {\n                                popupEle_1.style.left = formatUnit(coordinates_1.left);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(popupHeight_1.toString()));\n                            }\n                            else if (_this.collision && _this.collision.length > 0 && _this.collision.indexOf('bottom') > -1 && _this.collision.indexOf('right') > -1) {\n                                popupEle_1.style.left = formatUnit(popupLeft_1);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(popupHeight_1.toString()));\n                            }\n                            else {\n                                popupEle_1.style.left = formatUnit(coordinates_1.left);\n                                popupEle_1.style.top = formatUnit(coordinates_1.top - parseInt(_this.popupHeight.toString()));\n                            }\n                            _this.isCollided = false;\n                            _this.collision = [];\n                        }\n                        popupEle_1.style.width = _this.popupWidth !== '100%' && !isNullOrUndefined(_this.popupWidth) ? formatUnit(_this.popupWidth) : 'auto';\n                        _this.setHeight(popupEle_1);\n                        popupEle_1.style.zIndex = _this.zIndex === 1000 ? getZindexPartial(popupEle_1).toString() : _this.zIndex.toString();\n                    }\n                    else {\n                        _this.beforePopupOpen = false;\n                        _this.destroyPopup();\n                    }\n                });\n            }\n            else {\n                _this.beforePopupOpen = false;\n            }\n        });\n    };\n    Mention.prototype.setHeight = function (popupEle) {\n        if (this.popupHeight !== 'auto' && this.list) {\n            this.list.style.maxHeight = (parseInt(this.listHeight, 10) - 2).toString() + 'px'; // due to box-sizing property\n            popupEle.style.maxHeight = formatUnit(this.popupHeight);\n        }\n        else {\n            popupEle.style.height = 'auto';\n        }\n    };\n    Mention.prototype.checkCollision = function (popupEle) {\n        if (!Browser.isDevice || (Browser.isDevice && !(this.getModuleName() === 'mention'))) {\n            var coordinates = this.getCoordinates(this.inputElement, this.getTriggerCharPosition());\n            this.collision = isCollide(popupEle, null, coordinates.left, coordinates.top);\n            if (this.collision.length > 0) {\n                popupEle.style.marginTop = -parseInt(getComputedStyle(popupEle).marginTop, 10) + 'px';\n                this.isCollided = true;\n            }\n            this.popupObj.resolveCollision();\n        }\n    };\n    Mention.prototype.getTriggerCharPosition = function () {\n        var mostRecentTriggerCharPos;\n        var currentRange = this.getTextRange();\n        if (currentRange !== undefined && currentRange !== null) {\n            mostRecentTriggerCharPos = 0;\n            var idx = currentRange.lastIndexOf(this.mentionChar);\n            if (idx >= mostRecentTriggerCharPos) {\n                mostRecentTriggerCharPos = idx;\n            }\n        }\n        return mostRecentTriggerCharPos ? mostRecentTriggerCharPos : 0;\n    };\n    Mention.prototype.initializePopup = function (element, offsetValue, left) {\n        var _this = this;\n        this.popupObj = new Popup(element, {\n            width: this.setWidth(), targetType: 'relative',\n            relateTo: this.inputElement, collision: { X: 'flip', Y: 'flip' }, offsetY: offsetValue,\n            enableRtl: this.enableRtl, offsetX: left, position: { X: 'left', Y: 'bottom' }, actionOnScroll: 'hide',\n            zIndex: this.zIndex,\n            close: function () {\n                _this.destroyPopup();\n            },\n            open: function () {\n                EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                _this.isPopupOpen = true;\n                _this.setDataIndex();\n            }\n        });\n    };\n    Mention.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.inputElement.offsetWidth * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    Mention.prototype.destroyPopup = function () {\n        this.isPopupOpen = false;\n        this.popupObj.destroy();\n        if (isNullOrUndefined(this.target)) {\n            detach(this.popupObj.element);\n        }\n        else {\n            this.popupObj.element.innerHTML = '';\n            this.popupObj.element.removeAttribute('style');\n            this.popupObj.element.removeAttribute('aria-disabled');\n        }\n        if (this.list.classList.contains('e-nodata')) {\n            this.list = null;\n        }\n    };\n    Mention.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        if (!(!isNullOrUndefined(this.popupObj) && closest(target, '#' + this.popupObj.element.id))) {\n            this.hidePopup(e);\n        }\n    };\n    Mention.prototype.getCoordinates = function (element, position) {\n        var properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX', 'overflowY', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing'];\n        var div;\n        var span;\n        var range;\n        var globalRange;\n        var coordinates;\n        var computed;\n        var rect;\n        if (!this.isContentEditable(this.inputElement)) {\n            div = this.createElement('div', { className: 'e-form-mirror-div' });\n            document.body.appendChild(div);\n            computed = getComputedStyle(element);\n            div.style.position = 'absolute';\n            div.style.visibility = 'hidden';\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            properties.forEach(function (prop) {\n                // eslint-disable-next-line security/detect-object-injection\n                div.style[prop] = computed[prop];\n            });\n            div.textContent = element.value.substring(0, position);\n            if (this.inputElement.nodeName === 'INPUT') {\n                div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n            }\n            span = this.createElement('span');\n            span.textContent = element.value.substring(position) || '.';\n            div.appendChild(span);\n            rect = element.getBoundingClientRect();\n        }\n        else {\n            var selectedNodePosition = this.getTriggerCharPosition();\n            globalRange = this.range;\n            range = document.createRange();\n            if (this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n                range.setStart(globalRange.startContainer, selectedNodePosition);\n                range.setEnd(globalRange.startContainer, selectedNodePosition);\n            }\n            else {\n                range.setStart(globalRange.startContainer, globalRange.startOffset);\n                range.setEnd(globalRange.startContainer, globalRange.endOffset);\n            }\n            this.isTyped = false;\n            range.collapse(false);\n            rect = range.getBoundingClientRect().top === 0 ? range.startContainer.getClientRects()[0] : range.getBoundingClientRect();\n        }\n        var rectTop = rect.top;\n        var rectLeft = rect.left;\n        var iframes = document.querySelectorAll('iframe');\n        if (iframes.length > 0) {\n            for (var i = 0; i < iframes.length; i++) {\n                // eslint-disable-next-line security/detect-object-injection\n                var iframe = iframes[i];\n                if (iframe.contentDocument && iframe.contentDocument.contains(element)) {\n                    var iframeRect = iframe.getBoundingClientRect();\n                    rectTop += iframeRect.top;\n                    rectLeft += iframeRect.left;\n                }\n            }\n        }\n        var doc = document.documentElement;\n        var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n        var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n        var width = 0;\n        if (!isNullOrUndefined(range) && range.getBoundingClientRect().top === 0) {\n            for (var i = 0; i < this.range.startContainer.childNodes.length; i++) {\n                if (this.range.startContainer.childNodes[i].nodeType !== Node.TEXT_NODE && this.range.startContainer.childNodes[i].textContent.trim() !== '') {\n                    width += this.range.startContainer.childNodes[i].getClientRects()[0].width;\n                }\n                else if (this.range.startContainer.childNodes[i].textContent !== '') {\n                    var span_1 = document.createElement(\"span\");\n                    span_1.innerHTML = this.range.startContainer.childNodes[i].nodeValue;\n                    document.body.appendChild(span_1);\n                    var textNodeWidth = span_1.offsetWidth;\n                    document.body.removeChild(span_1);\n                    width += textNodeWidth;\n                }\n            }\n        }\n        if (!this.isContentEditable(this.inputElement)) {\n            coordinates = {\n                top: rectTop + windowTop + span.offsetTop + parseInt(computed.borderTopWidth, 10) +\n                    parseInt(computed.fontSize, 10) + 3 - element.scrollTop - (this.isCollided ? 10 : 0),\n                left: rectLeft + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth, 10)\n            };\n            document.body.removeChild(div);\n        }\n        else {\n            if (this.collision && this.collision.length > 0 && this.collision.indexOf('right') > -1 && this.collision.indexOf('bottom') === -1) {\n                coordinates = {\n                    top: rectTop + windowTop + parseInt(getComputedStyle(this.inputElement).fontSize, 10),\n                    left: rectLeft + windowLeft + width\n                };\n            }\n            else {\n                coordinates = {\n                    top: rectTop + windowTop + parseInt(getComputedStyle(this.inputElement).fontSize, 10) - (this.isCollided ? 10 : 0),\n                    left: rectLeft + windowLeft + width\n                };\n            }\n        }\n        return coordinates;\n    };\n    Mention.prototype.initValue = function () {\n        this.isDataFetched = false;\n        this.renderList();\n        if (this.dataSource instanceof DataManager) {\n            this.initRemoteRender = true;\n        }\n        else {\n            this.updateValues();\n        }\n    };\n    Mention.prototype.updateValues = function () {\n        var li = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (!isNullOrUndefined(li)) {\n            this.setSelection(li, null);\n        }\n    };\n    Mention.prototype.renderList = function () {\n        _super.prototype.render.call(this);\n        this.unWireListEvents();\n        this.wireListEvents();\n    };\n    /**\n     * Event binding for list\n     *\n     * @returns {void}\n     */\n    Mention.prototype.wireListEvents = function () {\n        EventHandler.add(this.list, this.keyEventName, this.onMouseClick, this);\n        EventHandler.add(this.list, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.list, 'mouseout', this.onMouseLeave, this);\n    };\n    /**\n     * Event un binding for list items.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.unWireListEvents = function () {\n        EventHandler.remove(this.list, this.keyEventName, this.onMouseClick);\n        EventHandler.remove(this.list, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.list, 'mouseout', this.onMouseLeave);\n    };\n    Mention.prototype.onMouseClick = function (e) {\n        var target = e.target;\n        var li = closest(target, '.' + dropDownBaseClasses.li);\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        this.isSelected = true;\n        this.setSelection(li, e);\n        var delay = 100;\n        this.closePopup(delay, e);\n        this.inputElement.focus();\n        if (!this.isRTE) {\n            e.preventDefault();\n        }\n    };\n    Mention.prototype.updateSelectedItem = function (li, e, preventSelect, isSelection) {\n        var _this = this;\n        this.removeSelection();\n        li.classList.add(dropDownBaseClasses.selected);\n        this.removeHover();\n        var value = this.getFormattedValue(li.getAttribute('data-value'));\n        var selectedData = this.getDataByValue(value);\n        if (!preventSelect && !isNullOrUndefined(e) && !(e.action === \"down\" || e.action === \"up\")) {\n            var items = this.detachChanges(selectedData);\n            this.isSelected = true;\n            var eventArgs = {\n                e: e,\n                item: li,\n                itemData: items,\n                isInteracted: e ? true : false,\n                cancel: false\n            };\n            this.trigger('select', eventArgs, function (eventArgs) {\n                if (eventArgs.cancel) {\n                    li.classList.remove(dropDownBaseClasses.selected);\n                    _this.isSelected = false;\n                    _this.isSelectCancel = true;\n                }\n                else {\n                    _this.selectEventCallback(li, selectedData, value);\n                    if (isSelection) {\n                        _this.setSelectOptions(li, e);\n                    }\n                }\n            });\n        }\n        else {\n            this.selectEventCallback(li, selectedData, value);\n            if (isSelection) {\n                this.setSelectOptions(li, e);\n            }\n        }\n    };\n    Mention.prototype.setSelection = function (li, e) {\n        if (this.isValidLI(li) && (!li.classList.contains(dropDownBaseClasses.selected) || (this.isPopupOpen && this.isSelected\n            && li.classList.contains(dropDownBaseClasses.selected)))) {\n            this.updateSelectedItem(li, e, false, true);\n        }\n        else {\n            this.setSelectOptions(li, e);\n        }\n    };\n    Mention.prototype.setSelectOptions = function (li, e) {\n        if (this.list) {\n            this.removeHover();\n        }\n        this.previousSelectedLI = (!isNullOrUndefined(this.selectedLI)) ? this.selectedLI : null;\n        this.selectedLI = li;\n        if (this.isPopupOpen && !isNullOrUndefined(this.selectedLI)) {\n            this.setScrollPosition(e);\n        }\n        if (e && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        if (isNullOrUndefined(e) || this.setValue(e)) {\n            return;\n        }\n    };\n    Mention.prototype.setScrollPosition = function (e) {\n        if (!isNullOrUndefined(e)) {\n            switch (e.action) {\n                case 'pageDown':\n                case 'down':\n                case 'end':\n                    this.scrollBottom();\n                    break;\n                default:\n                    this.scrollTop();\n                    break;\n            }\n        }\n        else {\n            this.scrollBottom(true);\n        }\n    };\n    Mention.prototype.scrollBottom = function (isInitial) {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var currentOffset = this.list.offsetHeight;\n            var nextBottom = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            var nextOffset = this.list.scrollTop + nextBottom - currentOffset;\n            nextOffset = isInitial ? nextOffset + parseInt(getComputedStyle(this.list).paddingTop, 10) * 2 : nextOffset;\n            var boxRange = this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop;\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextBottom > currentOffset || !(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = nextOffset;\n            }\n        }\n    };\n    Mention.prototype.scrollTop = function () {\n        if (!isNullOrUndefined(this.selectedLI)) {\n            var nextOffset = this.selectedLI.offsetTop - this.list.scrollTop;\n            nextOffset = this.fields.groupBy && nextOffset;\n            var boxRange = (this.selectedLI.offsetTop + this.selectedLI.offsetHeight - this.list.scrollTop);\n            if (this.activeIndex === 0) {\n                this.list.scrollTop = 0;\n            }\n            else if (nextOffset < 0) {\n                this.list.scrollTop = this.list.scrollTop + nextOffset;\n            }\n            else if (!(boxRange > 0 && this.list.offsetHeight > boxRange)) {\n                this.list.scrollTop = this.selectedLI.offsetTop;\n            }\n        }\n    };\n    Mention.prototype.selectEventCallback = function (li, selectedData, value, selectLi) {\n        this.previousItemData = (!isNullOrUndefined(this.itemData)) ? this.itemData : null;\n        this.item = li;\n        this.itemData = selectedData;\n        var focusedItem = this.list.querySelector('.' + dropDownBaseClasses.focus);\n        if (focusedItem) {\n            removeClass([focusedItem], dropDownBaseClasses.focus);\n        }\n        if (selectLi) {\n            addClass([li], dropDownBaseClasses.selected);\n        }\n        li.setAttribute('aria-selected', 'true');\n        this.activeIndex = this.getIndexByValue(value);\n    };\n    Mention.prototype.detachChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    Mention.prototype.setValue = function (e) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            if (!isNullOrUndefined(this.displayTemplate)) {\n                this.setDisplayTemplate();\n            }\n            this.updateMentionValue(e);\n            return true;\n        }\n        else {\n            if (!isNullOrUndefined(this.displayTemplate)) {\n                this.setDisplayTemplate(e);\n            }\n            else {\n                this.updateMentionValue(e);\n            }\n            return true;\n        }\n    };\n    Mention.prototype.updateMentionValue = function (e) {\n        var dataItem = this.getItemData();\n        var textSuffix;\n        var value;\n        var endPos;\n        var range;\n        var globalRange;\n        var selection = this.inputElement.ownerDocument.getSelection();\n        var startPos = this.getTriggerCharPosition();\n        textSuffix = typeof this.suffixText === 'string' ? this.suffixText : '';\n        if (this.isSelectCancel) {\n            this.isSelectCancel = false;\n            return;\n        }\n        if (dataItem.text !== null) {\n            value = this.mentionVal(dataItem.text);\n        }\n        if (!this.isContentEditable(this.inputElement)) {\n            var myField = this.inputElement;\n            var currentTriggerSnippet = this.getTextRange().substring(startPos + this.mentionChar.length, this.getTextRange().length);\n            value += textSuffix;\n            endPos = startPos + this.mentionChar.length;\n            endPos += currentTriggerSnippet.length;\n            myField.value = myField.value.substring(0, startPos) + value + myField.value.substring(endPos, myField.value.length);\n            myField.selectionStart = startPos + value.length;\n            myField.selectionEnd = startPos + value.length;\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            this.onChangeEvent(e);\n        }\n        else {\n            endPos = this.getTriggerCharPosition() + this.mentionChar.length;\n            if (this.range && (this.range.startContainer.textContent.trim() !== this.mentionChar)) {\n                endPos = this.range.endOffset;\n            }\n            globalRange = this.range;\n            range = document.createRange();\n            if (((this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) || this.getTextRange() && this.getTextRange().trim() === this.mentionChar)) {\n                range.setStart(globalRange.startContainer, startPos);\n                range.setEnd(globalRange.startContainer, endPos);\n            }\n            else {\n                if (globalRange.commonAncestorContainer.textContent.trim() !== '' && !isNullOrUndefined(globalRange.commonAncestorContainer.textContent.trim()) && this.getTextRange() && this.getTextRange().lastIndexOf(this.mentionChar) !== -1) {\n                    range.setStart(globalRange.startContainer, globalRange.startOffset - 1);\n                    range.setEnd(globalRange.startContainer, globalRange.endOffset - 1);\n                }\n                else {\n                    range.setStart(globalRange.startContainer, globalRange.startOffset);\n                    range.setEnd(globalRange.startContainer, globalRange.endOffset);\n                }\n            }\n            this.isTyped = false;\n            range.deleteContents();\n            var element = this.createElement('div');\n            element.innerHTML = value;\n            var frag = document.createDocumentFragment();\n            var node = void 0;\n            var lastNode = void 0;\n            // eslint-disable-next-line no-cond-assign\n            while (node = element.firstChild) {\n                lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag);\n            if (lastNode) {\n                range = range.cloneRange();\n                range.setStartAfter(lastNode);\n                range.collapse(true);\n                selection.removeAllRanges();\n                selection.addRange(range);\n            }\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            //New event to update the RichTextEditor value, when a mention item is selected using mouse click action.\n            if (!isNullOrUndefined(e.pointerType) && e.pointerType === 'mouse') {\n                var event_1 = new CustomEvent('content-changed', { detail: { click: true } });\n                this.inputElement.dispatchEvent(event_1);\n            }\n            ;\n            this.onChangeEvent(e);\n        }\n    };\n    Mention.prototype.mentionVal = function (value) {\n        var showChar = this.showMentionChar ? this.mentionChar : '';\n        if (!isNullOrUndefined(this.displayTemplate) && !isNullOrUndefined(this.displayTempElement)) {\n            value = this.displayTempElement.innerHTML;\n        }\n        if (this.isContentEditable(this.inputElement)) {\n            if (Browser.isAndroid) {\n                return '<span contenteditable=\"true\" class=\"e-mention-chip\">' + showChar + value + '</span>'.concat(typeof this.suffixText === 'string' ? this.suffixText : ' ');\n            }\n            else {\n                return '<span contenteditable=\"false\" class=\"e-mention-chip\">' + showChar + value + '</span>'.concat(typeof this.suffixText === 'string' ? this.suffixText : ' ');\n            }\n        }\n        else {\n            return showChar + value;\n        }\n    };\n    Mention.prototype.setDisplayTemplate = function (e) {\n        var _this = this;\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['displayTemplate']);\n            if (this.displayTempElement) {\n                detach(this.displayTempElement);\n                this.displayTempElement = null;\n            }\n        }\n        if (!this.displayTempElement) {\n            this.displayTempElement = this.createElement('div');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.displayTempElement.innerHTML = '';\n        }\n        compiledString = compile(this.displayTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var displayCompTemp = compiledString(this.itemData, this, 'displayTemplate', this.displayTemplateId, this.isStringTemplate, null, this.displayTempElement);\n        if (displayCompTemp && displayCompTemp.length > 0) {\n            append(displayCompTemp, this.displayTempElement);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.renderTemplates();\n        }\n        else {\n            this.renderTemplates(function () {\n                _this.updateMentionValue(e);\n            });\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Mention.prototype.renderTemplates = function (callBack) {\n        this.renderReactTemplates(callBack);\n    };\n    Mention.prototype.setSpinnerTemplate = function () {\n        var _this = this;\n        var compiledString;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['spinnerTemplate']);\n            if (this.spinnerTemplateElement) {\n                detach(this.spinnerTemplateElement);\n                this.spinnerTemplateElement = null;\n            }\n        }\n        if (!this.spinnerTemplateElement) {\n            this.spinnerTemplateElement = this.createElement('div');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.spinnerTemplateElement.innerHTML = '';\n        }\n        compiledString = compile(this.spinnerTemplate);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var spinnerCompTemp = compiledString(null, this, 'spinnerTemplate', this.spinnerTemplateId, this.isStringTemplate, null, this.spinnerTemplateElement);\n        if (spinnerCompTemp && spinnerCompTemp.length > 0) {\n            for (var i = 0; i < spinnerCompTemp.length; i++) {\n                this.spinnerTemplateElement.appendChild(spinnerCompTemp[i]);\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.isReact) {\n            this.renderTemplates();\n            this.popupObj.element.appendChild(this.spinnerTemplateElement);\n        }\n        else {\n            this.renderTemplates(function () {\n                _this.popupObj.element.appendChild(_this.spinnerTemplateElement);\n            });\n        }\n    };\n    Mention.prototype.onChangeEvent = function (eve) {\n        this.isSelected = false;\n        var items = this.detachMentionChanges(this.itemData);\n        var preItems;\n        if (typeof this.previousItemData === 'string' ||\n            typeof this.previousItemData === 'boolean' ||\n            typeof this.previousItemData === 'number') {\n            preItems = Object.defineProperties({}, {\n                value: {\n                    value: this.previousItemData,\n                    enumerable: true\n                },\n                text: {\n                    value: this.previousItemData,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            preItems = this.previousItemData;\n        }\n        var eventArgs = {\n            e: eve,\n            item: this.item,\n            itemData: items,\n            previousItem: this.previousSelectedLI,\n            previousItemData: preItems,\n            isInteracted: eve ? true : false,\n            value: this.item.innerHTML,\n            element: this.inputElement\n        };\n        this.trigger('change', eventArgs);\n    };\n    Mention.prototype.detachMentionChanges = function (value) {\n        var items;\n        if (typeof value === 'string' ||\n            typeof value === 'boolean' ||\n            typeof value === 'number') {\n            items = Object.defineProperties({}, {\n                value: {\n                    value: value,\n                    enumerable: true\n                },\n                text: {\n                    value: value,\n                    enumerable: true\n                }\n            });\n        }\n        else {\n            items = value;\n        }\n        return items;\n    };\n    Mention.prototype.getItemData = function () {\n        var fields = this.fields;\n        var dataItem = null;\n        dataItem = this.itemData;\n        var dataValue;\n        var dataText;\n        if (!isNullOrUndefined(dataItem)) {\n            dataValue = getValue(fields.value, dataItem);\n            dataText = getValue(fields.text, dataItem);\n        }\n        var value = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataValue : dataItem);\n        var text = (!isNullOrUndefined(dataItem) &&\n            !isUndefined(dataValue) ? dataText : dataItem);\n        return { value: value, text: text };\n    };\n    Mention.prototype.removeSelection = function () {\n        if (this.list) {\n            var selectedItems = this.list.querySelectorAll('.' + dropDownBaseClasses.selected);\n            if (selectedItems.length) {\n                removeClass(selectedItems, dropDownBaseClasses.selected);\n                selectedItems[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    Mention.prototype.onMouseOver = function (e) {\n        var currentLi = closest(e.target, '.' + dropDownBaseClasses.li);\n        this.setHover(currentLi);\n    };\n    Mention.prototype.setHover = function (li) {\n        if (this.isValidLI(li) && !li.classList.contains(dropDownBaseClasses.hover)) {\n            this.removeHover();\n            addClass([li], dropDownBaseClasses.hover);\n        }\n    };\n    Mention.prototype.removeHover = function () {\n        if (this.list) {\n            var hoveredItem = this.list.querySelectorAll('.' + dropDownBaseClasses.hover);\n            if (hoveredItem && hoveredItem.length) {\n                removeClass(hoveredItem, dropDownBaseClasses.hover);\n            }\n        }\n    };\n    Mention.prototype.isValidLI = function (li) {\n        return (li && li.hasAttribute('role') && li.getAttribute('role') === 'option');\n    };\n    Mention.prototype.onMouseLeave = function () {\n        this.removeHover();\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n     */\n    Mention.prototype.search = function (text, positionX, positionY) {\n        if (this.isContentEditable(this.inputElement)) {\n            this.range = this.getCurrentRange();\n        }\n        var currentRange = this.getTextRange();\n        var lastWordRange = this.getLastLetter(currentRange);\n        if ((this.ignoreCase && (text === lastWordRange || text === lastWordRange.toLowerCase()))\n            || !this.ignoreCase && text === lastWordRange) {\n            this.resetList(this.dataSource, this.fields);\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            return;\n        }\n        if (isNullOrUndefined(this.list)) {\n            this.renderList();\n            this.renderPopup();\n        }\n        else {\n            this.showPopup();\n        }\n        this.popupObj.element.style.left = formatUnit(positionX);\n        this.popupObj.element.style.top = formatUnit(positionY);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    Mention.prototype.destroy = function () {\n        this.hidePopup();\n        this.unWireEvent();\n        if (this.list) {\n            this.unWireListEvents();\n        }\n        if (this.inputElement && !this.inputElement.classList.contains('e-' + this.getModuleName())) {\n            return;\n        }\n        this.previousSelectedLI = null;\n        this.item = null;\n        this.selectedLI = null;\n        this.popupObj = null;\n        _super.prototype.destroy.call(this);\n    };\n    Mention.prototype.getLocaleName = function () {\n        return 'mention';\n    };\n    Mention.prototype.getNgDirective = function () {\n        return 'EJS-MENTION';\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    Mention.prototype.getModuleName = function () {\n        return 'mention';\n    };\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('@')\n    ], Mention.prototype, \"mentionChar\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"showMentionChar\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"allowSpaces\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"suffixText\", void 0);\n    __decorate([\n        Property(25)\n    ], Mention.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property(0)\n    ], Mention.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('None')\n    ], Mention.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(true)\n    ], Mention.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], Mention.prototype, \"highlight\", void 0);\n    __decorate([\n        Property()\n    ], Mention.prototype, \"locale\", void 0);\n    __decorate([\n        Property('auto')\n    ], Mention.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property('300px')\n    ], Mention.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"displayTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('No records found')\n    ], Mention.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"spinnerTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Mention.prototype, \"target\", void 0);\n    __decorate([\n        Property([])\n    ], Mention.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], Mention.prototype, \"query\", void 0);\n    __decorate([\n        Property('Contains')\n    ], Mention.prototype, \"filterType\", void 0);\n    __decorate([\n        Complex({ text: null, value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], Mention.prototype, \"fields\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"opened\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"closed\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Mention.prototype, \"destroyed\", void 0);\n    Mention = __decorate([\n        NotifyPropertyChanges\n    ], Mention);\n    return Mention;\n}(DropDownBase));\nexport { Mention };\n"],"names":["incrementalSearch","keyCode","items","selectedIndex","ignoreCase","elementId","queryStringUpdated","currentValue","isVirtual","refresh","queryString","prevString","tempQueryString","String","fromCharCode","setTimeout","index","toLowerCase","prevElementId","listItems","strLength","length","item","i","matches","innerText","substr","push","indexUpdated","i_1","textContent","classList","contains","activeClass","Search","inputVal","searchType","dataSource","fields","type","undefined","itemData","queryStr","toLocaleLowerCase","escapeCharRegExp","_loop_1","itemsData","filterValue","text","checkField_1","fieldValue_1","split","filter","data","Array","prototype","slice","call","forEach","value","isHeader","toString","indexOf","getAttribute","replace","RegExp","test","state_1","resetIncrementalSearchValues","highlightSearch","element","query","ignoreRegex","replaceQuery","findTextNode","pattern","childNodes","nodeType","trim","nodeValue","innerHTML","revertHighlightSearch","content","contentElement","querySelectorAll","parent_1","parentNode","document","createTextNode","replaceChild","createFloatLabel","overAllWrapper","searchWrapper","inputElement","floatLabelType","placeholder","floatLinelement","createElement","className","FLOATLINE","floatLabelElement","FLOATTEXT","id","getUniqueID","isNullOrUndefined","attributes","aria-labelledby","encodePlaceholder","removeAttribute","appendChild","add","updateFloatLabelState","LABELBOTTOM","removeClass","addClass","LABELTOP","label","removeFloating","componentWrapper","placeholderText","placeholderElement","querySelector","floatLine","setPlaceHolder","detach","remove","floatLabelFocus","floatLabelBlur","result","spanElement","children","__assign","Object","assign","t","s","n","arguments","p","hasOwnProperty","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","verb","v","op","f","TypeError","_","y","ops","pop","trys","g","sent","throw","return","Symbol","iterator","VirtualScroll","parent","_this","sentinelInfo","up","check","rect","info","top","containerElementRect","entered","listItemHeight","virtualItemCount","axis","down","popupContentElement","clientHeight","bottom","removeEventListener","addEventListener","isDestroyed","on","observe","setGeneratedData","dataProcessAsync","setCurrentViewDataAsync","bindScrollEvent","off","component","scrollArgs","scrollListener","callback","getBoundingClientRect","EventHandler","popupScrollHandler","touchModule","Touch","scroll","bind","virtualScrollHandler","getModuleName","isMouseScrollAction","isPreventScrollAction","getPageQuery","virtualStartIndex","virtualEndIndex","allowFiltering","skip","qStartIndex","recentlyGeneratedData","loopIteration","endIndex","listData","virtualItemStartIndex","generatedDataObject","slicedData","generateAndExecuteQueryAsync","virtualItemEndIndex","isQueryGenerated","newQuery","removeSkipAndTakeEvents","clone","tempCustomFilter","isCustomFilter","totalData","DataManager","json","totalItemCount","typedString","resetList","queries","event","fn","currentData","isResetListCalled","isListUpdated","viewPortInfo","mode","isArray","enableSelectionOrder","startIndex","updateVirtualReOrderList","itemCount","oldUlElement","list","removeChild","getForQuery","take","appendUncheckList","reOrderList","skipvalue","totalItemsCount","alreadyAddedData","hideSelectedItem","getValue","allowCustomValue","virtualCustomData","splice","virtualCustomSelectData","concat","renderItems","updatevirtualizationList","getSkeletonCount","virtualTrackElement","getElementsByClassName","style","GetVirtualTrackHeight","skeletonCount","popupWrapper","virualElement","styles","UpdateSkeleton","liCollections","virtualContentElement","getTransformValues","groupBy","scrollStop","isScrollChanged","currentFocuedListElement","currentSelectElem","getElementByValue","addListFocus","generateQueryAndSetQueryIndexAsync","isPopupOpen","isStartIndexInitialised","queryStartIndex","queryEndIndex","vEndIndex","isOpenPopup","selectedValueInfo","Query","virtualScrollRefreshAsync","_a","isTyped","filterInput","dataCount","keyboardEvent","handleVirtualKeyboardActions","pageCount","isVirtualTrackHeight","preventSetCurrentData","sentinel","pStartIndex","previousStartIndex","getInfoFromView","direction","offset","isUpwardScrolling","isKeyBoardAction","isScrollActionTriggered","isPreventKeyAction","virtualListCount","listElement","translateY","offsetHeight","transform","currentPageNumber","virtualListInfo","isVirtualScrolling","getPageCount","popupObj","select","updateSelectionList","getItems","previousInfo","isscrollAction","infoType","offsets","previousEndIndex","vHeight","height","rowHeight","exactTopIndex","infoViewIndices","exactEndIndex","pageSizeBy4","sIndex","Math","round","floor","eIndex","ceil","idxAddedToExactTop","scrollPreStartIndex","delay","Browser","name","prevTop","debounced100","debounce","debounced50","target","scrollTop","left","scrollLeft","current","pstartIndex","scrollOffsetargs","debounceFunction","focusElement","activeElement","destroy","__extends","extendStatics","d","b","setPrototypeOf","__proto__","__","constructor","create","__decorate","decorators","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","FieldSettings","_super","Property","ChildProperty","dropDownBaseClasses","root","rtl","selected","hover","noData","fixedHead","focus","li","group","disabled","grouping","virtualList","DropDownBase","options","preventChange","isAngular","isPreventChange","isDynamicDataChange","addedNewItem","isAddNewItemTemplate","isRequesting","isVirtualizationEnabled","isCustomDataUpdated","isAllowFiltering","virtualizedItemsCount","isCheckBoxSelection","isRemoteDataUpdated","isIncrementalRequest","virtualListHeight","virtualSelectAll","incrementalQueryString","incrementalEndIndex","incrementalStartIndex","incrementalPreQueryString","isObjectCustomValue","getPropObject","prop","newProp","oldProp","newProperty","oldProperty","propName","getValueByText","ignoreAccent","checkValueCase","isTextByValue","typeOfData","typeof","_i","dataSource_1","checkingAccent","checkIgnoreCase","getItemValue","checkNonIgnoreCase","itemValue","compareValue_1","dataItem","DataUtil","ignoreDiacritics","textItem","typedText","getFormattedValue","templateCompiler","baseTemplate","checkTemplate","selectAll","exception","l10nUpdate","actionFailure","ele","ulElement","noRecordsTemplate","actionFailureTemplate","template","compiledString","templateId","actionFailureTemplateId","noRecordsTemplateId","tempaltecheck","compile","templateName","noDataElement","isStringTemplate","nodeName","liElem","setAttribute","HTMLElement","Text","renderReactTemplates","componentLocale","L10n","getLocaleName","locale","getConstant","l10n","checkAndResetCache","updateIncrementalInfo","updateVirtualItemIndex","updateIncrementalView","getFilteringSkeletonCount","difference","currentSkeletonCount","skeletonUpdated","abs","retainSkeleton","listContainerHeight","parseInt","actualCount","heightDimension","isSkeletonCountChange","isContainSkeleton","isContainVirtualList","totalSkeletonCount","liElement","itemTemplate","skeleton","Skeleton","shape","width","cssClass","appendTo","firstChild","insertBefore","getTextByValue","properties","parseFloat","setEnableRtl","enableRtlElements","enableRtl","initialize","bindEvent","tagName","jsonElement","ListBase","createJsonFromElement","setProperties","setListData","renderItemsBySelect","getPersistData","addOnPersist","updateDataAttribute","invalidAttr","attr","a","extend","htmlAttributes","option","getJSONfromOption","optionGroup","child","updateFields","iconCss","field","options_1","preRender","scrollTimer","isRequested","isDataFetched","itemTemplateId","displayTemplateId","spinnerTemplateId","valueTemplateId","groupTemplateId","headerTemplateId","footerTemplateId","isActive","eventArgs","cancel","trigger","showSpinner","virtualGroupDataSource","emptyDataRequest","executeQuery","getQuery","initialRemoteRender","dataSource_2","hideSpinner","executeLocal","records","updatePopupState","count","onActionComplete","groupTemplate","renderGroupTemplate","bindChildItems","catch","onActionFailure","isReOrder","dataManager","queryElements","nos","condition","operator","localDataArgs","childElementCount","updateDataList","updateRemoteData","childNode","remainingItems","sortedData","append","updateListValues","raiseDataBound","isObjectInArray","objectToFind","array","some","keys","every","findListElement","findNode","attribute","listArr","dataBoundEventArgs","spliceData","listElements","templateListItem","createListItemFromArray","listOption","createListItemFromJson","notify","module","isReact","clearTemplate","fixedHeaderElement","postRender","focusItem","selectedItem","updateVirtualizationProperties","filtering","isCheckbox","listEle","groupTemplateID","headerItems","groupcheck","groupValue","tempHeaders","isGroupChecking","createListItems","sortOrder","getSortedDataSource","groupDataSource","createList","fieldValues","showIcon","ariaAttributes","groupItemRole","setFloatingHeader","display","prepend","setFixedHeader","zIndex","isDownkey","liHeight","getComputedStyle","getValidLi","getPropertyValue","topIndex","isCount","groupListLength","loadedGroupList","updateGroupHeader","returnExactCount","updateGroupFixedHeader","position","parentElement","offsetTop","isCheckBoxUpdate","virtualUlElement","updateListElements","createVirtualContent","virtualSelectAllData","incrementalLiCollections","incrementalUlElement","incrementalListData","templateID","itemcheck","renderContentTemplate","borderWidth","defaultView","isNaN","liWidth","offsetWidth","setStyleAttribute","firstLi","textField","getDataSource","addSorting","getIndexByValue","getIndexByValueFilter","selectData","dispatchEvent","evt","createEvent","initEvent","setFields","updateSelectElementData","isFiltering","updateSelection","renderList","render","updateDataSource","props","oldProps","setUpdateInitial","updateData","j","onPropertyChanged","setZIndex","isEmptyData","attrs","tabindex","rippleModel","duration","selector","rippleFun","rippleEffect","wrapperElement","removeScrollEvent","addItem","itemIndex","newList","itemsCount","selectedItemValue","itemText","itemCheck","addItemTemplate","updateActionCompleteData","updateAddItemList","listGroupItem","tempLi","validationAttribute","hidden","getDataByValue","_b","_c","Complex","Event","NotifyPropertyChanges","Component","dropDownListClasses","disable","base","input","inputFocus","icon","iconAnimation","device","backIcon","filterBarClearIcon","filterParent","mobileFilter","footer","header","clearIcon","clearIconHide","popupFullScreen","disableIcon","hiddenElement","inputObject","container","buttons","DropDownList","isListSearched","isTouched","IsScrollerAtEnd","scrollHeight","valueTempElement","opacity","initializeData","activeIndex","isDocumentClick","isInteracted","isFilterFocus","beforePopupOpen","initial","isNotSearchList","isSelected","preventFocus","preventAutoFill","isValidKey","isEscapeKey","isPreventBlur","isTabKey","actionCompleteData","isUpdated","actionData","prevSelectPoints","isSelectCustom","isDropDownClick","preventAltUp","isSecondClick","previousValue","keyConfigure","tab","enter","escape","end","home","pageUp","pageDown","open","close","hide","space","requiredModules","modules","enableVirtualization","args","member","unWireListEvents","wireListEvents","floatLabelChange","floatElement","inputWrapper","resetHandler","preventDefault","clearAll","resetFocusElement","removeHover","removeSelection","removeFocus","previousItemData","resetSelection","getItemData","allowObjectBinding","allowCustom","onChangeEvent","updateInitialData","cloneNode","selectedLI","setSelection","updateIconState","cloneElements","setHTMLAttributes","htmlAttr","updatedClassValue","enabled","setEnable","readonly","defaultAttr","Input","setPlaceholder","dataBind","getAriaAttributes","aria-disabled","role","aria-expanded","aria-live","setEnabled","targetElement","tabIndex","hidePopup","preventTabIndex","getNgDirective","getElementByText","listItems_1","liItem","initValue","updateValues","setHiddenValue","setValue","showClearButton","onBlurHandler","relatedTarget","currentTarget","isFilterLayout","focusOutAction","focusOut","onFocusOut","clearButton","onFocus","resetValueHandler","formElement","closest","val","wireEvent","dropDownClick","focusIn","onSearch","window","windowResize","bindCommonEvent","isDevice","keyboardModule","KeyboardEvents","keyAction","mobileKeyActionHandler","keyConfigs","eventName","keyActionHandler","bindClearEvent","refreshPosition","unBindCommonEvent","onMouseClick","onMouseOver","onMouseLeave","charCode","searchKeyEvent","onServerIncrementalSearch","isValidLI","history","back","closePopup","currentLi","setHover","hoveredItem","hasAttribute","updateIncrementalItemIndex","updatingincrementalindex","setScrollPosition","selectedLiOffsetTop","spinnerElement","filterInputObj","createSpinner","preventAction","action","preventHomeEnd","isNavigation","isEditTextBox","isTabAction","updateUpDownAction","pageUpSelection","pageDownSelection","updateHomeEndAction","showPopup","focusDropDown","selectCurrentItem","selectCurrentValueOnTab","isVirtualKeyAction","value_1","filterIndex","focusEle","isSelectFocusItem","virtualIndex","nextItem","value_2","selectedData","value_3","value_4","aria-activedescendant","findLi","steps","previousItem","PageUpDownSelection","unWireEvent","checkSelector","onDocumentClick","isIE","activeStateChange","which","button","proxy_1","updateSelectedItem","preventSelect","isSelection","selectEventCallback","setSelectOptions","detachChanges","checkFieldValue","focusedItem","activeItem","valueTemplate","setValueTemplate","previousSibling","clearElement","removeProperty","getItem","where","Predicate","previousSelectedLI","aria-describedby","dropdownCompiler","dropdownTemplate","valuecheck","valueCompTemp","selectedItems","dataValue","dataText","isUndefined","eve","isCustomValue","datas","foundIndex","findIndex","detachChangeEvent","defineProperties","enumerable","preItems","selectedElement","onFilterUp","ctrlKey","firstItem","searchLists","onFilterDown","getSelectionPoints","removeFillSelection","selection","setSelectionRange","filterQuery","filterType","dataType","takeValue","getTakeValue","alreadySkipAdded","queryTakeValue","querySkipValue","queryElements_1","skipExists","takeExists","queryElements_2","requiresCount","start","selectionStart","selectionEnd","visibility","eventArgs_1","preventDefaultAction","filteringAction","baseEventArgs","isNoData","focusIndexItem","setSearchBox","popupElement","createInput","filterBarPlaceholder","autocomplete","autocapitalize","spellcheck","clearIconElement","clearText","searchKeyModule","onInput","pasteHandler","renderPopup","outerHeight","tempItemCount","aria-hidden","aria-label","value_5","checkVal","x","setInputValue","updateActionCompleteDataValues","isValueInList","addNewItem","valueToFind","fieldValue","checkField","newElement","value_6","actionCompleteDataUpdate","findEle","highlightedItem","refreshPopup","popupEle","searchBox","formatUnit","popupHeight","headerTemplate","setHeaderTemplate","footerTemplate","setFooterTemplate","listitems","searchBoxHeight","maxHeight","offsetValue","getOffsetValue","isEmptyList","textIndent","paddingLeft","borderLeftWidth","createPopup","getFocusElement","checkCollision","popupWidth","outerWidth","collision","X","Y","setSearchBoxPosition","backIconElement","clickOnBackIcon","scrollParentElements_1","getScrollableParent","scrollHandler","selectedElementID","enable","scrollBottom","aria-owns","aria-controls","inputParent","popup","animation","destroyPopup","show","Animation","isCollide","marginTop","resolveCollision","popupStyles","borderTop","borderTopWidth","borderBottom","borderBottomWidth","setPopupPosition","Popup","setWidth","targetType","relateTo","offsetY","offsetX","actionList","targetExitViewport","isElementInViewport","elementRect","innerHeight","right","innerWidth","border","popupOffset","lastItem","listHeight","paddingBottom","isInitial","isInitialSelection","lastElementValue","currentOffset","nextBottom","nextOffset","isScrollerCHanged","paddingTop","boxRange","currentElementValue","liCount","firstElementValue","isPageUpKeyAction","scrollTo","isPopupButton","setEleWidth","match","isFilterValue","scrollableParentElements_1","animModel","fixedHeader","dataSourceCount","preselectedIndex","updatedCssClassValues","class","setReadOnly","calculateWidth","getListHeight","selectElement","onselect","stopImmediatePropagation","onchange","renderComplete","listParent","listParentHeight","footercheck","footerCompTemp","headercheck","headerCompTemp","contentEle","setOldText","setOldValue","checkData","isChangeValue","isChangeText","checkCustomValue","updateInputFields","this_1","setReadonly","setCssClass","checkValidLi","setSelectionData","listLength_1","listLength_2","value_7","addFloating","setClearButton","ddlProps","newClass","oldClass","invokeRenderPopup","isOpen","proxy_2","onpopstate","pushState","renderHightSearch","isSelectVal","isFocused","blur","attrArray","clear","DROPDOWNICON","SHOW_CHIP","SHOW_CLEAR","SHOW_DD_ICON","CHIP_INPUT","INPUTFOCUS","CHIP_CLOSE","HIDEICON","DDTHIDEICON","CHECKALLPARENT","CHECKALLHIDE","CHECK","CHECKBOXWRAP","NODATA","OVERFLOW_VIEW","SHOW_TEXT","TOTAL_COUNT_WRAPPER","REMAIN_COUNT","Fields","TreeSettings","DropDownTree","filterTimer","isFilteredData","isFilterRestore","filterDelayTime","isClicked","isCheckAllCalled","isFromFilterChange","isFirstRender","isInitialized","currentText","oldValue","removeValue","selectedText","treeItems","isNodeSelected","isDynamicChange","clearIconWidth","customTemplateId","altUp","altDown","shiftTab","moveDown","moveLeft","moveRight","moveUp","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","ctrlA","isTree","popupDiv","inputEle","isNOU","inputObj","showDropDownIcon","getDirective","createHiddenElement","createClearIcon","setElementWidth","setAttributes","tree","destroyPopupOnHide","wireTreeEvents","renderTree","isRemoteData","allowMultiSelection","showCheckBox","createChip","wrapText","overFlowWrapper","setTreeValue","setTreeText","updateHiddenValue","setSelectedValue","updateView","wireEvents","firstUl","treeObj","hasTemplate","customTemplate","hideCheckAll","flag","checkAllEle","renderFilter","filterContainer","filterObj","TextBox","filterChangeHandler","clearTimeout","filterHandler","isChildObject","expandedNodes","treeData","getTreeData","filterFields","cloneFields","treeDataType","selfReferencefilter","remoteDataFilter","getTreeFields","nestedFilter","portals","filteredFields","map","remoteChildFilter","filteredChild","node","isChild","isChildFiltering","isMatchedNode","matchedChildren","filteredItems","matchedDataSource","nestedChildFilter","matchedData","parentId","parentValue","checkValue","tempChild","mouseIn","overAllClear","treeAction","wireCheckAllWrapperEvents","checkAllParent","checkAllAction","unWireEvents","isClearButtonClick","showOverAllClear","isValue","chipWrapper","changeOnBlur","triggerChangeEvent","updateOverFlowView","ensurePlaceHolder","ddtCompareValues","isChipDelete","newValue","observedArgs","isValueChange","keyEventArgs","showSelectAll","clickHandler","focusedElement","resetValue","overAllContainer","temp","tempData","tempIndex","wrapperleng","remaining","downIconWidth","overflowCountTemplate","totalCountTemplate","remainContent","totalContent","remainElement","remainSize","delimiterChar","getOverflowVal","enableHtmlSanitizer","SanitizeHtmlHelper","sanitize","textArr","join","chips","lastChild","updateRemainTemplate","updateDelimMode","getSelectedData","treeSettings","loadOnDemand","multiple","chipCollection","getValidMode","checkWrapper","createSelectAllWrapper","selectAllSpan","touchClass","checkBoxElement","createCheckBox","setLocale","firstElementChild","lastElementChild","checkElement","changeState","wrapper","state","ariaState","frameSpan","isReverseUpdate","uncheckAll","checkAll","setMultiSelect","unSelect","selectAllText","unSelectAllText","setValidValue","valArr","selectedNodes","updateMode","checkedNodes","updateSelectedValues","autoCheck","givenText","getNestedItems","newData","objlen","dataId","getChildType","childData","mapper","TreeView","nodeSelected","onNodeSelected","nodeChecked","onNodeChecked","nodeChecking","beforeCheck","nodeExpanded","onNodeExpanded","nodeClicked","onNodeClicked","dataBound","OnDataBound","expandOn","nodeSelecting","onBeforeSelect","nodeTemplate","isCancelled","POPUP_CLASS","includes","reactCallBack","updatePopupHeight","checkSelectAll","wrap","getHeight","inputWidth","ddElement","documentElement","isFilter","isFooter","isScroller","getTreeDataType","expandAll","restoreFilterSelection","elements","setEnableRTL","cloneChildField","hasChildren","expanded","imageUrl","selectable","tableName","tooltip","parentID","getTreeChildren","isChecked","childFields","getActualProperties","ds","len","updateTemplate","getEventArgs","nodeData","getNode","removeSelectedData","nodes","updateClearButton","nextSibling","chipClose","updateDropDownIconState","spinIcon","appendSpan","isValid","ensureClearIconPosition","setMultiSelectValue","newValues","selectedValues","ddtValue","checkSelection","getNodeData","getChildNodeData","obj","newChildItems","getChildMapperFields","childNodeData","muteOnChange","textValue","hiddenInputValue","setChipValues","setTagValues","chip","data-value","chipContent","removeChip","tempArr","templateComplier","setSelectAllWrapper","updateOverflowWrapper","clearCheckAll","selectAllItems","arr","updateTreeSettings","updateValue","updateCheckBoxState","checkBox","noRecord","templatestring","updateRecordTemplate","updateMultiSelection","updateOption","updateAllowFiltering","destroyFilter","updateFilterPlaceHolder","updateText","updateModelMode","overFlow","ensureVisible","getData","SPINNER_CLASS","ComboBox","preventBlur","targetFocus","inputValue","customValue","valueMuteChange","doesItemExist","currentValue_1","aria-autocomplete","aria-readonly","setHoverList","inlineSearch","autofill","setAutoFill","isHover","currentFillValue","isAndroidAutoFill","setAutoFillSelection","isAndroid","currentPoints","prevEnd","curEnd","prevStart","curStart","property","isKeyNavigate","previousValue_1","updateCustomValueCallback","emptyObject","changeData","comboProps","isEscape","searchItem","AutoComplete","_this_1","isFiltered","searchList","mapping","suggestionCount","filterAction","isNoDataElement","minLength","postBackAction","fieldsSettings","itemCreated","highlight","charCodeAt","itemCreated_1","showPopupButton","checkFields_1_1","_this_2","atcProps","FOCUS","HIDE_LIST","CHIP","CHIP_SELECTED","ZERO_SIZE","CLOSEICON_CLASS","CLOSE_ICON_HIDE","DISABLE_ICON","dropdownIcon","CUSTOM_WIDTH","FILTERINPUT","MultiSelect","previousFilterText","selectAllEventData","selectAllEventEle","resetMainList","resetFilteredData","scrollFocusStatus","keyDownStatus","enableRTL","enableGroupCheckBox","prevOnChange","isProtectedOnChange","closePopupOnSelect","updateHTMLAttribute","refreshPlaceHolder","updateReadonly","updateCssClass","updateOldPropCssClass","onPopupShown","focusAtFirstListItem","updateListItems","mainList","updateAriaActiveDescendant","isFirstClick","loadTemplate","mainListItems","findGroupStart","deselectHeader","refreshListItems","valueEle","focusAtLastListItem","updateListARIA","disableStatus","ensureAriaDisabled","status","removelastSelection","chipCollectionWrapper","tempValues","removeChipSelection","updateDelimeter","makeTextBoxEmpty","refreshSelection","checkPlaceholderSize","removeSelectedChip","targetInputElement","predicate","or","and","adaptor","JsonAdaptor","presentItemValue","addNonPresentItems","updateActionList","isCustomRendered","checkForCustomValue","mainData","mainListCollection","remoteCustomValue","tempQuery","unwireListEvents","setInitialValue","selectAllAction","setDynValue","initialTextUpdate","initialValueUpdate","initialUpdate","updateValueState","previousElementSibling","nextElementSibling","hideGroupItem","checkMaxSelection","element1","temp1","groupItemLength","listItem","searchCount","searchActiveCount","maximumSelectionLength","openClick","openOnClick","keyUp","isWordCharacter","expandTextbox","search","remoteFilterAction","dataUpdater","virtualFilterQuery","isSkip","isTake","backCommand","dataChecks","customData","dataItem_1","random","emptyObject_1","JSON","parse","stringify","isRemoteSelection","wrapperClick","isDocClickFromCheck","addTagOnBlur","listLiElement","updateListSelection","updateDelimView","focused","removeChipFocus","refreshInputHight","createSpanElement","elementWidth","clientWidth","paddingRight","dropIcon","marginRight","setPlaceholderSize","validateValues","sort","newVal","oldVal","initStatus","updateTempValue","collection","focusInHandler","showDelimWrapper","viewWrapper","delimiterWrapper","hideDelimWrapper","size","mobFilter","calcPopupWidth","checkTextLength","popupKeyActions","updateAriaAttribute","homeNavigation","isHome","scrollEle","arrowDown","arrowUp","onKeyDown","altKey","selectByKey","spaceKeySelection","escapeAction","keyNavigation","checkBackCommand","moveByList","focuseElem","focusFirstListItem","selectAllParent","li_1","moveBy","selectListByKey","hideOverAllClear","limit","selectAllItem","selectAllCheckBox","selectedElem","addChipSelection","currentChip","moveByTop","filterInputClassName","updateCheck","isVirtualElement","elementIndex","chipClick","elem","onChipRemove","customVal","setFloatLabelType","removeAllItems","isClearAll","mainElement","indexOfObjectInArray","removeVal","invokeCheckboxSelection","updateMainList","updateChipStatus","isSelectAll","targetEle","element_1","val_1","removeIndex","hideElement","currentValue_2","targetEle_1","isSelectAllTarget","clearAllCallback","element2","addValue","updateWrapperText","textValues","addListSelection","addChip","dispatchSelect","isNotTrigger","val_2","isServerRendered","updateListSelectEventCallback","getChip","closeElements","onMobileChipInteraction","chipElem","multiCompiler","multiselectTemplate","encodeHtmlEntities","title","setClass","classes","mouseOut","fieldProperty","listCurrentOptions","checkboxFilter","overAllHeight","selectAllHeight","unwireScrollEvents","checkboxFilterInput","wireScrollEvents","onListMouseDown","textVal","delim","valueLength","hiddenElementContent","valueItem","listValue","isChipRemove","addValidInputClass","removeListSelection","isCustomData","indexItem","noDataEle","isDynamicGroupItemUpdate","isReactTemplateUpdate","isAngularTemplateUpdate","temp_1","data_1","selectItems","mainlist","addListHover","delimChar","visibleListElements","groupValues","findGroupAttrtibutes","updateCheckBox","checked","unChecked","groupHeader","filterClear","wrapperType","wrapperData","l10nLocale","raminElement","remainCompildTemp","checkClearIconWidth","totalWidth","updateRemainWidth","updateRemainingText","remainTemp","totalTemp","newTemp","selectionLimit","textboxValueUpdate","beforeSelectArgs","preventSelectEvent","index_2","count_1","updatedataValueItems","updateHiddenElement","hiddenValue","wrapperText","isRemoveAll","onLoadSelect","updateVal","dropDownIcon","reInitializePoup","msProps","checkvalue","mainLiLength","liLength","SEARCHBOX_WRAPPER","DELIMITER_VIEW","checkInitialValue","isData","optionsElement","valueCol","textCol","optionsLen","opt","listItems_2","checkAutoFocus","CheckBoxSelection","activeLi","activeEle","listSelection","setSelectAll","setDeviceSearchBox","getFocus","setReorder","getActiveList","checboxCreate","setPopupFullScreen","checkboxEle","checkboxWrapper","validateCheckNode","checkWrap","isCheck","isPrevent","boundPreventListSelection","preventListSelection","stopPropagation","activeLiCount","remLi","ulEle_1","SelectionSettings","ToolbarSettings","ListBox","isDataSourceUpdate","ListBox_1","originalElement","clonedElement","inputString","initLoad","isCustomFiltering","initialSelectedOptions","inputFormName","initWrapper","hiddenSelect","groupHdrs","aria-multiselectable","selectionSettings","updateSelectionSettings","showCheckbox","l10nSelect","checkBoxSelectionModule","initDraggable","allowDragAndDrop","Sortable","scope","itemClass","dragStart","triggerDragStart","drag","triggerDrag","beforeDrop","beforeDragEnd","drop","dragEnd","placeHolder","helper","sender","refEle","getZindexPartial","jsonData","initToolbar","pos","toolbarSettings","prevScope","toolElem","createButtons","updateToolBarState","tBListBox","getComponent","getElementById","moveTo","moveFrom","moveAllTo","moveAllFrom","Button","required","setHeight","spinner","refreshClearIcon","KeyUp","listBoxClasses","searchEle","filterElem","txtLength","noRecElem","filterWireEvents","inputSearch","isRendered","initToolbarAndStyles","setCheckboxPosition","setFiltering","badge","getDragArgs","dragSelected","isIos","overflow","dragEventArgs","allowDragAll","scrollParent","boundRect","stopTimer","clientY","timer","setInterval","setScrollDown","scrollElem","scrollPixel","isScrollDown","clearInterval","dragValue","droppedElement","getDataByValues","customDraggedItem","liColl","droppedData","selectedOptions","dropValue","listObj","getArgs","sourceArgs","previousData","destArgs","dragArgs","source","previousIndex","currentIndex","sourceArgs1","destination","targetListObj","ul_1","toSortIdx_1","toIdx_1","getCurIdx","rIdx","jsonIdx","sIdx","idx","jsonIdx_1","sIdx_1","fLiColl_1","currIdx_1","ul_2","fListData_1","fSortData_1","srcIdx","jsonSrcIdx","sortIdx","destIdx","liCollElem_1","removeSelected","sourceElem","sortable","placeHolderElement","dragArgs1","liCollElem","destElem","elems","triggerBeforeItemRender","curData","enableItems","getSelectedItems","updateSelectedOptions","selElems","triggerChange","addItems","removeItems","removeItem","dupData","itemIdx","removeIdxes","removeLiIdxes","k","updateLiCollection","getElemByValue","moveUpDown","moveTop","moveBottom","targetId","tlistbox","getScopedListBox","moveData","moveAllData","getDataList","getSortedList","sortData","liEle","getElementsByTagName","dataValue1","_loop_2","dataValue2","this_2","ulList","mainCount","ulEleCount","listindex","valueindex","form","keyDownHandler","focusOutHandler","wireToolbarEvent","formResetHandler","getToolElem","toolbarClickHandler","unwireEvents","clearFilterIconElem","selectHandler","liItems","autocorrect","isKey","currSelIdx","isSelect","selectedLi","metaKey","shiftKey","min","prevSelIdx","max","liDataValue_1","values","value1","selectedLis","getDataByElements","getDataByElems","btn","toolbarAction","moveItemTo","moveItemFrom","moveAllItemTo","moveAllItemFrom","isUp","isTop","isBottom","tempItems","reverse","jsonToIdx","fListBox","tListBox","dataIdx","tListData","tSortData","fliCollections","dataLiIdx","tliCollections","isRefresh","rLiCollection_1","n1","n2","toColl","tJsonData","selectNextList","inst","liIdx","childCnt","validIdx","getValidIndex","Number","fromIdx","toIdx","cbox","getGrabbedItems","grabbItems","isDragEnd","code","upDownKeyHandler","ul","fliIdx","fli","cli","selectedidx","sidx","eidx","eventArgsData_1","cul","updateSelectTag","clearSelection","dvalue_1","isText","canFocus","liselect","getSelectTag","checkDisabledState","listObj_1","wrap_1","listWrap","checkboxPosition","liCollLen","l10nShow","l10nSel","Mention","suffixText","allowSpaces","mentionChar","showMentionChar","initRemoteRender","isListResetted","isCollided","lineBreak","isRTE","keyEventName","isSelector","checkAndUpdateInternalComponent","isContentEditable","elementValue","onKeyUp","hideWaitingSpinner","spinnerTemplate","spinnerTemplateElement","isVue","showWaitingSpinner","setSpinnerTemplate","isKeyAction","isUpDownKey","rangetextContent","isRteImage","range","getCurrentRange","startContainer","currentRange","getTextRange","lastWordRange","getLastLetter","lastTwoLetters","Regex","charRegex","isMatchedText","charAt","substring","lastIndexOf","didPopupOpenByTypingInitialChar","isMatched","ownerDocument","getSelection","getRangeAt","setDataIndex","workingNodeContent","selectStartOffset","startOffset","startPos","words","popupEle_1","coordinates_1","initializePopup","popupLeft_1","popupHeight_1","getTriggerCharPosition","getCoordinates","cssText","coordinates","mostRecentTriggerCharPos","actionOnScroll","div","span","globalRange","computed","selectedNodePosition","createRange","setStart","setEnd","endOffset","collapse","getClientRects","rectTop","rectLeft","iframes","iframe","contentDocument","iframeRect","doc","windowLeft","pageXOffset","clientLeft","windowTop","pageYOffset","clientTop","Node","TEXT_NODE","span_1","textNodeWidth","fontSize","offsetLeft","isSelectCancel","selectLi","displayTemplate","updateMentionValue","setDisplayTemplate","textSuffix","endPos","mentionVal","commonAncestorContainer","deleteContents","frag","createDocumentFragment","lastNode","insertNode","cloneRange","setStartAfter","removeAllRanges","addRange","pointerType","event_1","CustomEvent","detail","click","myField","currentTriggerSnippet","showChar","displayTempElement","displayCompTemp","renderTemplates","callBack","spinnerCompTemp","detachMentionChanges","positionX","positionY"],"mappings":"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"}